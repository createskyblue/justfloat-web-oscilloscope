var jf=Object.defineProperty;var Wf=(e,t,n)=>t in e?jf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ol=(e,t,n)=>Wf(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();/**
* @vue/shared v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Go(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const We={},Hl=[],Dn=()=>{},Sc=()=>!1,br=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Yo=e=>e.startsWith("onUpdate:"),Rt=Object.assign,qo=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Kf=Object.prototype.hasOwnProperty,He=(e,t)=>Kf.call(e,t),Pe=Array.isArray,jl=e=>yr(e)==="[object Map]",Cc=e=>yr(e)==="[object Set]",Re=e=>typeof e=="function",ft=e=>typeof e=="string",ll=e=>typeof e=="symbol",st=e=>e!==null&&typeof e=="object",kc=e=>(st(e)||Re(e))&&Re(e.then)&&Re(e.catch),Dc=Object.prototype.toString,yr=e=>Dc.call(e),Gf=e=>yr(e).slice(8,-1),Tc=e=>yr(e)==="[object Object]",Jo=e=>ft(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ss=Go(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),xr=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Yf=/-\w/g,el=xr(e=>e.replace(Yf,t=>t.slice(1).toUpperCase())),qf=/\B([A-Z])/g,sl=xr(e=>e.replace(qf,"-$1").toLowerCase()),Mc=xr(e=>e.charAt(0).toUpperCase()+e.slice(1)),ro=xr(e=>e?`on${Mc(e)}`:""),Qn=(e,t)=>!Object.is(e,t),lr=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Ec=(e,t,n,l=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:l,value:n})},Zo=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let na;const wr=()=>na||(na=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Xn(e){if(Pe(e)){const t={};for(let n=0;n<e.length;n++){const l=e[n],s=ft(l)?Xf(l):Xn(l);if(s)for(const r in s)t[r]=s[r]}return t}else if(ft(e)||st(e))return e}const Jf=/;(?![^(]*\))/g,Zf=/:([^]+)/,Qf=/\/\*[^]*?\*\//g;function Xf(e){const t={};return e.replace(Qf,"").split(Jf).forEach(n=>{if(n){const l=n.split(Zf);l.length>1&&(t[l[0].trim()]=l[1].trim())}}),t}function H(e){let t="";if(ft(e))t=e;else if(Pe(e))for(let n=0;n<e.length;n++){const l=H(e[n]);l&&(t+=l+" ")}else if(st(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const ed="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",td=Go(ed);function _c(e){return!!e||e===""}const Ac=e=>!!(e&&e.__v_isRef===!0),Te=e=>ft(e)?e:e==null?"":Pe(e)||st(e)&&(e.toString===Dc||!Re(e.toString))?Ac(e)?Te(e.value):JSON.stringify(e,Pc,2):String(e),Pc=(e,t)=>Ac(t)?Pc(e,t.value):jl(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[l,s],r)=>(n[oo(l,r)+" =>"]=s,n),{})}:Cc(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>oo(n))}:ll(t)?oo(t):st(t)&&!Pe(t)&&!Tc(t)?String(t):t,oo=(e,t="")=>{var n;return ll(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Bt;class nd{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Bt,!t&&Bt&&(this.index=(Bt.scopes||(Bt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Bt;try{return Bt=this,t()}finally{Bt=n}}}on(){++this._on===1&&(this.prevScope=Bt,Bt=this)}off(){this._on>0&&--this._on===0&&(Bt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,l;for(n=0,l=this.effects.length;n<l;n++)this.effects[n].stop();for(this.effects.length=0,n=0,l=this.cleanups.length;n<l;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,l=this.scopes.length;n<l;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function ld(){return Bt}let Ye;const io=new WeakSet;class Rc{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Bt&&Bt.active&&Bt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,io.has(this)&&(io.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ic(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,la(this),Lc(this);const t=Ye,n=gn;Ye=this,gn=!0;try{return this.fn()}finally{Uc(this),Ye=t,gn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)ei(t);this.deps=this.depsTail=void 0,la(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?io.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){To(this)&&this.run()}get dirty(){return To(this)}}let Fc=0,Cs,ks;function Ic(e,t=!1){if(e.flags|=8,t){e.next=ks,ks=e;return}e.next=Cs,Cs=e}function Qo(){Fc++}function Xo(){if(--Fc>0)return;if(ks){let t=ks;for(ks=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Cs;){let t=Cs;for(Cs=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(l){e||(e=l)}t=n}}if(e)throw e}function Lc(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Uc(e){let t,n=e.depsTail,l=n;for(;l;){const s=l.prevDep;l.version===-1?(l===n&&(n=s),ei(l),sd(l)):t=l,l.dep.activeLink=l.prevActiveLink,l.prevActiveLink=void 0,l=s}e.deps=t,e.depsTail=n}function To(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Oc(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Oc(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Fs)||(e.globalVersion=Fs,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!To(e))))return;e.flags|=2;const t=e.dep,n=Ye,l=gn;Ye=e,gn=!0;try{Lc(e);const s=e.fn(e._value);(t.version===0||Qn(s,e._value))&&(e.flags|=128,e._value=s,t.version++)}catch(s){throw t.version++,s}finally{Ye=n,gn=l,Uc(e),e.flags&=-3}}function ei(e,t=!1){const{dep:n,prevSub:l,nextSub:s}=e;if(l&&(l.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=l,e.nextSub=void 0),n.subs===e&&(n.subs=l,!l&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)ei(r,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function sd(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let gn=!0;const Vc=[];function Un(){Vc.push(gn),gn=!1}function On(){const e=Vc.pop();gn=e===void 0?!0:e}function la(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Ye;Ye=void 0;try{t()}finally{Ye=n}}}let Fs=0;class rd{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ti{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Ye||!gn||Ye===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ye)n=this.activeLink=new rd(Ye,this),Ye.deps?(n.prevDep=Ye.depsTail,Ye.depsTail.nextDep=n,Ye.depsTail=n):Ye.deps=Ye.depsTail=n,zc(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const l=n.nextDep;l.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=l),n.prevDep=Ye.depsTail,n.nextDep=void 0,Ye.depsTail.nextDep=n,Ye.depsTail=n,Ye.deps===n&&(Ye.deps=l)}return n}trigger(t){this.version++,Fs++,this.notify(t)}notify(t){Qo();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Xo()}}}function zc(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let l=t.deps;l;l=l.nextDep)zc(l)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Mo=new WeakMap,bl=Symbol(""),Eo=Symbol(""),Is=Symbol("");function At(e,t,n){if(gn&&Ye){let l=Mo.get(e);l||Mo.set(e,l=new Map);let s=l.get(n);s||(l.set(n,s=new ti),s.map=l,s.key=n),s.track()}}function Rn(e,t,n,l,s,r){const o=Mo.get(e);if(!o){Fs++;return}const a=c=>{c&&c.trigger()};if(Qo(),t==="clear")o.forEach(a);else{const c=Pe(e),f=c&&Jo(n);if(c&&n==="length"){const d=Number(l);o.forEach((g,b)=>{(b==="length"||b===Is||!ll(b)&&b>=d)&&a(g)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),f&&a(o.get(Is)),t){case"add":c?f&&a(o.get("length")):(a(o.get(bl)),jl(e)&&a(o.get(Eo)));break;case"delete":c||(a(o.get(bl)),jl(e)&&a(o.get(Eo)));break;case"set":jl(e)&&a(o.get(bl));break}}Xo()}function Vl(e){const t=Be(e);return t===e?t:(At(t,"iterate",Is),rn(e)?t:t.map(pn))}function Sr(e){return At(e=Be(e),"iterate",Is),e}function Wn(e,t){return Vn(e)?yl(e)?Yl(pn(t)):Yl(t):pn(t)}const od={__proto__:null,[Symbol.iterator](){return ao(this,Symbol.iterator,e=>Wn(this,e))},concat(...e){return Vl(this).concat(...e.map(t=>Pe(t)?Vl(t):t))},entries(){return ao(this,"entries",e=>(e[1]=Wn(this,e[1]),e))},every(e,t){return _n(this,"every",e,t,void 0,arguments)},filter(e,t){return _n(this,"filter",e,t,n=>n.map(l=>Wn(this,l)),arguments)},find(e,t){return _n(this,"find",e,t,n=>Wn(this,n),arguments)},findIndex(e,t){return _n(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return _n(this,"findLast",e,t,n=>Wn(this,n),arguments)},findLastIndex(e,t){return _n(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return _n(this,"forEach",e,t,void 0,arguments)},includes(...e){return co(this,"includes",e)},indexOf(...e){return co(this,"indexOf",e)},join(e){return Vl(this).join(e)},lastIndexOf(...e){return co(this,"lastIndexOf",e)},map(e,t){return _n(this,"map",e,t,void 0,arguments)},pop(){return hs(this,"pop")},push(...e){return hs(this,"push",e)},reduce(e,...t){return sa(this,"reduce",e,t)},reduceRight(e,...t){return sa(this,"reduceRight",e,t)},shift(){return hs(this,"shift")},some(e,t){return _n(this,"some",e,t,void 0,arguments)},splice(...e){return hs(this,"splice",e)},toReversed(){return Vl(this).toReversed()},toSorted(e){return Vl(this).toSorted(e)},toSpliced(...e){return Vl(this).toSpliced(...e)},unshift(...e){return hs(this,"unshift",e)},values(){return ao(this,"values",e=>Wn(this,e))}};function ao(e,t,n){const l=Sr(e),s=l[t]();return l!==e&&!rn(e)&&(s._next=s.next,s.next=()=>{const r=s._next();return r.done||(r.value=n(r.value)),r}),s}const id=Array.prototype;function _n(e,t,n,l,s,r){const o=Sr(e),a=o!==e&&!rn(e),c=o[t];if(c!==id[t]){const g=c.apply(e,r);return a?pn(g):g}let f=n;o!==e&&(a?f=function(g,b){return n.call(this,Wn(e,g),b,e)}:n.length>2&&(f=function(g,b){return n.call(this,g,b,e)}));const d=c.call(o,f,l);return a&&s?s(d):d}function sa(e,t,n,l){const s=Sr(e);let r=n;return s!==e&&(rn(e)?n.length>3&&(r=function(o,a,c){return n.call(this,o,a,c,e)}):r=function(o,a,c){return n.call(this,o,Wn(e,a),c,e)}),s[t](r,...l)}function co(e,t,n){const l=Be(e);At(l,"iterate",Is);const s=l[t](...n);return(s===-1||s===!1)&&ri(n[0])?(n[0]=Be(n[0]),l[t](...n)):s}function hs(e,t,n=[]){Un(),Qo();const l=Be(e)[t].apply(e,n);return Xo(),On(),l}const ad=Go("__proto__,__v_isRef,__isVue"),$c=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ll));function cd(e){ll(e)||(e=String(e));const t=Be(this);return At(t,"has",e),t.hasOwnProperty(e)}class Nc{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,l){if(n==="__v_skip")return t.__v_skip;const s=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return r;if(n==="__v_raw")return l===(s?r?yd:Wc:r?jc:Hc).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(l)?t:void 0;const o=Pe(t);if(!s){let c;if(o&&(c=od[n]))return c;if(n==="hasOwnProperty")return cd}const a=Reflect.get(t,n,Pt(t)?t:l);if((ll(n)?$c.has(n):ad(n))||(s||At(t,"get",n),r))return a;if(Pt(a)){const c=o&&Jo(n)?a:a.value;return s&&st(c)?Ao(c):c}return st(a)?s?Ao(a):li(a):a}}class Bc extends Nc{constructor(t=!1){super(!1,t)}set(t,n,l,s){let r=t[n];const o=Pe(t)&&Jo(n);if(!this._isShallow){const f=Vn(r);if(!rn(l)&&!Vn(l)&&(r=Be(r),l=Be(l)),!o&&Pt(r)&&!Pt(l))return f||(r.value=l),!0}const a=o?Number(n)<t.length:He(t,n),c=Reflect.set(t,n,l,Pt(t)?t:s);return t===Be(s)&&(a?Qn(l,r)&&Rn(t,"set",n,l):Rn(t,"add",n,l)),c}deleteProperty(t,n){const l=He(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&l&&Rn(t,"delete",n,void 0),s}has(t,n){const l=Reflect.has(t,n);return(!ll(n)||!$c.has(n))&&At(t,"has",n),l}ownKeys(t){return At(t,"iterate",Pe(t)?"length":bl),Reflect.ownKeys(t)}}class ud extends Nc{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const fd=new Bc,dd=new ud,hd=new Bc(!0);const _o=e=>e,Js=e=>Reflect.getPrototypeOf(e);function gd(e,t,n){return function(...l){const s=this.__v_raw,r=Be(s),o=jl(r),a=e==="entries"||e===Symbol.iterator&&o,c=e==="keys"&&o,f=s[e](...l),d=n?_o:t?Yl:pn;return!t&&At(r,"iterate",c?Eo:bl),{next(){const{value:g,done:b}=f.next();return b?{value:g,done:b}:{value:a?[d(g[0]),d(g[1])]:d(g),done:b}},[Symbol.iterator](){return this}}}}function Zs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function pd(e,t){const n={get(s){const r=this.__v_raw,o=Be(r),a=Be(s);e||(Qn(s,a)&&At(o,"get",s),At(o,"get",a));const{has:c}=Js(o),f=t?_o:e?Yl:pn;if(c.call(o,s))return f(r.get(s));if(c.call(o,a))return f(r.get(a));r!==o&&r.get(s)},get size(){const s=this.__v_raw;return!e&&At(Be(s),"iterate",bl),s.size},has(s){const r=this.__v_raw,o=Be(r),a=Be(s);return e||(Qn(s,a)&&At(o,"has",s),At(o,"has",a)),s===a?r.has(s):r.has(s)||r.has(a)},forEach(s,r){const o=this,a=o.__v_raw,c=Be(a),f=t?_o:e?Yl:pn;return!e&&At(c,"iterate",bl),a.forEach((d,g)=>s.call(r,f(d),f(g),o))}};return Rt(n,e?{add:Zs("add"),set:Zs("set"),delete:Zs("delete"),clear:Zs("clear")}:{add(s){!t&&!rn(s)&&!Vn(s)&&(s=Be(s));const r=Be(this);return Js(r).has.call(r,s)||(r.add(s),Rn(r,"add",s,s)),this},set(s,r){!t&&!rn(r)&&!Vn(r)&&(r=Be(r));const o=Be(this),{has:a,get:c}=Js(o);let f=a.call(o,s);f||(s=Be(s),f=a.call(o,s));const d=c.call(o,s);return o.set(s,r),f?Qn(r,d)&&Rn(o,"set",s,r):Rn(o,"add",s,r),this},delete(s){const r=Be(this),{has:o,get:a}=Js(r);let c=o.call(r,s);c||(s=Be(s),c=o.call(r,s)),a&&a.call(r,s);const f=r.delete(s);return c&&Rn(r,"delete",s,void 0),f},clear(){const s=Be(this),r=s.size!==0,o=s.clear();return r&&Rn(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=gd(s,e,t)}),n}function ni(e,t){const n=pd(e,t);return(l,s,r)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?l:Reflect.get(He(n,s)&&s in l?n:l,s,r)}const md={get:ni(!1,!1)},vd={get:ni(!1,!0)},bd={get:ni(!0,!1)};const Hc=new WeakMap,jc=new WeakMap,Wc=new WeakMap,yd=new WeakMap;function xd(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function wd(e){return e.__v_skip||!Object.isExtensible(e)?0:xd(Gf(e))}function li(e){return Vn(e)?e:si(e,!1,fd,md,Hc)}function Sd(e){return si(e,!1,hd,vd,jc)}function Ao(e){return si(e,!0,dd,bd,Wc)}function si(e,t,n,l,s){if(!st(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=wd(e);if(r===0)return e;const o=s.get(e);if(o)return o;const a=new Proxy(e,r===2?l:n);return s.set(e,a),a}function yl(e){return Vn(e)?yl(e.__v_raw):!!(e&&e.__v_isReactive)}function Vn(e){return!!(e&&e.__v_isReadonly)}function rn(e){return!!(e&&e.__v_isShallow)}function ri(e){return e?!!e.__v_raw:!1}function Be(e){const t=e&&e.__v_raw;return t?Be(t):e}function Cd(e){return!He(e,"__v_skip")&&Object.isExtensible(e)&&Ec(e,"__v_skip",!0),e}const pn=e=>st(e)?li(e):e,Yl=e=>st(e)?Ao(e):e;function Pt(e){return e?e.__v_isRef===!0:!1}function Se(e){return Kc(e,!1)}function Ls(e){return Kc(e,!0)}function Kc(e,t){return Pt(e)?e:new kd(e,t)}class kd{constructor(t,n){this.dep=new ti,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Be(t),this._value=n?t:pn(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,l=this.__v_isShallow||rn(t)||Vn(t);t=l?t:Be(t),Qn(t,n)&&(this._rawValue=t,this._value=l?t:pn(t),this.dep.trigger())}}function me(e){return Pt(e)?e.value:e}const Dd={get:(e,t,n)=>t==="__v_raw"?e:me(Reflect.get(e,t,n)),set:(e,t,n,l)=>{const s=e[t];return Pt(s)&&!Pt(n)?(s.value=n,!0):Reflect.set(e,t,n,l)}};function Gc(e){return yl(e)?e:new Proxy(e,Dd)}class Td{constructor(t,n,l){this.fn=t,this.setter=n,this._value=void 0,this.dep=new ti(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Fs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=l}notify(){if(this.flags|=16,!(this.flags&8)&&Ye!==this)return Ic(this,!0),!0}get value(){const t=this.dep.track();return Oc(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Md(e,t,n=!1){let l,s;return Re(e)?l=e:(l=e.get,s=e.set),new Td(l,s,n)}const Qs={},cr=new WeakMap;let gl;function Ed(e,t=!1,n=gl){if(n){let l=cr.get(n);l||cr.set(n,l=[]),l.push(e)}}function _d(e,t,n=We){const{immediate:l,deep:s,once:r,scheduler:o,augmentJob:a,call:c}=n,f=C=>s?C:rn(C)||s===!1||s===0?Fn(C,1):Fn(C);let d,g,b,y,w=!1,k=!1;if(Pt(e)?(g=()=>e.value,w=rn(e)):yl(e)?(g=()=>f(e),w=!0):Pe(e)?(k=!0,w=e.some(C=>yl(C)||rn(C)),g=()=>e.map(C=>{if(Pt(C))return C.value;if(yl(C))return f(C);if(Re(C))return c?c(C,2):C()})):Re(e)?t?g=c?()=>c(e,2):e:g=()=>{if(b){Un();try{b()}finally{On()}}const C=gl;gl=d;try{return c?c(e,3,[y]):e(y)}finally{gl=C}}:g=Dn,t&&s){const C=g,ie=s===!0?1/0:s;g=()=>Fn(C(),ie)}const L=ld(),O=()=>{d.stop(),L&&L.active&&qo(L.effects,d)};if(r&&t){const C=t;t=(...ie)=>{C(...ie),O()}}let E=k?new Array(e.length).fill(Qs):Qs;const P=C=>{if(!(!(d.flags&1)||!d.dirty&&!C))if(t){const ie=d.run();if(s||w||(k?ie.some((te,ve)=>Qn(te,E[ve])):Qn(ie,E))){b&&b();const te=gl;gl=d;try{const ve=[ie,E===Qs?void 0:k&&E[0]===Qs?[]:E,y];E=ie,c?c(t,3,ve):t(...ve)}finally{gl=te}}}else d.run()};return a&&a(P),d=new Rc(g),d.scheduler=o?()=>o(P,!1):P,y=C=>Ed(C,!1,d),b=d.onStop=()=>{const C=cr.get(d);if(C){if(c)c(C,4);else for(const ie of C)ie();cr.delete(d)}},t?l?P(!0):E=d.run():o?o(P.bind(null,!0),!0):d.run(),O.pause=d.pause.bind(d),O.resume=d.resume.bind(d),O.stop=O,O}function Fn(e,t=1/0,n){if(t<=0||!st(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,Pt(e))Fn(e.value,t,n);else if(Pe(e))for(let l=0;l<e.length;l++)Fn(e[l],t,n);else if(Cc(e)||jl(e))e.forEach(l=>{Fn(l,t,n)});else if(Tc(e)){for(const l in e)Fn(e[l],t,n);for(const l of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,l)&&Fn(e[l],t,n)}return e}/**
* @vue/runtime-core v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function $s(e,t,n,l){try{return l?e(...l):e()}catch(s){Cr(s,t,n)}}function Tn(e,t,n,l){if(Re(e)){const s=$s(e,t,n,l);return s&&kc(s)&&s.catch(r=>{Cr(r,t,n)}),s}if(Pe(e)){const s=[];for(let r=0;r<e.length;r++)s.push(Tn(e[r],t,n,l));return s}}function Cr(e,t,n,l=!0){const s=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||We;if(t){let a=t.parent;const c=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const d=a.ec;if(d){for(let g=0;g<d.length;g++)if(d[g](e,c,f)===!1)return}a=a.parent}if(r){Un(),$s(r,null,10,[e,c,f]),On();return}}Ad(e,n,s,l,o)}function Ad(e,t,n,l=!0,s=!1){if(s)throw e;console.error(e)}const Ot=[];let Cn=-1;const Wl=[];let Kn=null,$l=0;const Yc=Promise.resolve();let ur=null;function Pd(e){const t=ur||Yc;return e?t.then(this?e.bind(this):e):t}function Rd(e){let t=Cn+1,n=Ot.length;for(;t<n;){const l=t+n>>>1,s=Ot[l],r=Us(s);r<e||r===e&&s.flags&2?t=l+1:n=l}return t}function oi(e){if(!(e.flags&1)){const t=Us(e),n=Ot[Ot.length-1];!n||!(e.flags&2)&&t>=Us(n)?Ot.push(e):Ot.splice(Rd(t),0,e),e.flags|=1,qc()}}function qc(){ur||(ur=Yc.then(Zc))}function Fd(e){Pe(e)?Wl.push(...e):Kn&&e.id===-1?Kn.splice($l+1,0,e):e.flags&1||(Wl.push(e),e.flags|=1),qc()}function ra(e,t,n=Cn+1){for(;n<Ot.length;n++){const l=Ot[n];if(l&&l.flags&2){if(e&&l.id!==e.uid)continue;Ot.splice(n,1),n--,l.flags&4&&(l.flags&=-2),l(),l.flags&4||(l.flags&=-2)}}}function Jc(e){if(Wl.length){const t=[...new Set(Wl)].sort((n,l)=>Us(n)-Us(l));if(Wl.length=0,Kn){Kn.push(...t);return}for(Kn=t,$l=0;$l<Kn.length;$l++){const n=Kn[$l];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Kn=null,$l=0}}const Us=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Zc(e){try{for(Cn=0;Cn<Ot.length;Cn++){const t=Ot[Cn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),$s(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Cn<Ot.length;Cn++){const t=Ot[Cn];t&&(t.flags&=-2)}Cn=-1,Ot.length=0,Jc(),ur=null,(Ot.length||Wl.length)&&Zc()}}let sn=null,Qc=null;function fr(e){const t=sn;return sn=e,Qc=e&&e.type.__scopeId||null,t}function Id(e,t=sn,n){if(!t||e._n)return e;const l=(...s)=>{l._d&&pa(-1);const r=fr(t);let o;try{o=e(...s)}finally{fr(r),l._d&&pa(1)}return o};return l._n=!0,l._c=!0,l._d=!0,l}function qn(e,t){if(sn===null)return e;const n=Er(sn),l=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[r,o,a,c=We]=t[s];r&&(Re(r)&&(r={mounted:r,updated:r}),r.deep&&Fn(o),l.push({dir:r,instance:n,value:o,oldValue:void 0,arg:a,modifiers:c}))}return e}function dl(e,t,n,l){const s=e.dirs,r=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];r&&(a.oldValue=r[o].value);let c=a.dir[l];c&&(Un(),Tn(c,n,8,[e.el,a,e,t]),On())}}function vs(e,t){if(Vt){let n=Vt.provides;const l=Vt.parent&&Vt.parent.provides;l===n&&(n=Vt.provides=Object.create(l)),n[e]=t}}function sr(e,t,n=!1){const l=R0();if(l||Kl){let s=Kl?Kl._context.provides:l?l.parent==null||l.ce?l.vnode.appContext&&l.vnode.appContext.provides:l.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&Re(t)?t.call(l&&l.proxy):t}}const Ld=Symbol.for("v-scx"),Ud=()=>sr(Ld);function at(e,t,n){return Xc(e,t,n)}function Xc(e,t,n=We){const{immediate:l,deep:s,flush:r,once:o}=n,a=Rt({},n),c=t&&l||!t&&r!=="post";let f;if(Vs){if(r==="sync"){const y=Ud();f=y.__watcherHandles||(y.__watcherHandles=[])}else if(!c){const y=()=>{};return y.stop=Dn,y.resume=Dn,y.pause=Dn,y}}const d=Vt;a.call=(y,w,k)=>Tn(y,d,w,k);let g=!1;r==="post"?a.scheduler=y=>{Kt(y,d&&d.suspense)}:r!=="sync"&&(g=!0,a.scheduler=(y,w)=>{w?y():oi(y)}),a.augmentJob=y=>{t&&(y.flags|=4),g&&(y.flags|=2,d&&(y.id=d.uid,y.i=d))};const b=_d(e,t,a);return Vs&&(f?f.push(b):c&&b()),b}function Od(e,t,n){const l=this.proxy,s=ft(e)?e.includes(".")?eu(l,e):()=>l[e]:e.bind(l,l);let r;Re(t)?r=t:(r=t.handler,n=t);const o=Ns(this),a=Xc(s,r.bind(l),n);return o(),a}function eu(e,t){const n=t.split(".");return()=>{let l=e;for(let s=0;s<n.length&&l;s++)l=l[n[s]];return l}}const Vd=Symbol("_vte"),zd=e=>e.__isTeleport,$d=Symbol("_leaveCb");function ii(e,t){e.shapeFlag&6&&e.component?(e.transition=t,ii(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ts(e,t){return Re(e)?Rt({name:e.name},t,{setup:e}):e}function tu(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const dr=new WeakMap;function Ds(e,t,n,l,s=!1){if(Pe(e)){e.forEach((w,k)=>Ds(w,t&&(Pe(t)?t[k]:t),n,l,s));return}if(Ts(l)&&!s){l.shapeFlag&512&&l.type.__asyncResolved&&l.component.subTree.component&&Ds(e,t,n,l.component.subTree);return}const r=l.shapeFlag&4?Er(l.component):l.el,o=s?null:r,{i:a,r:c}=e,f=t&&t.r,d=a.refs===We?a.refs={}:a.refs,g=a.setupState,b=Be(g),y=g===We?Sc:w=>He(b,w);if(f!=null&&f!==c){if(oa(t),ft(f))d[f]=null,y(f)&&(g[f]=null);else if(Pt(f)){f.value=null;const w=t;w.k&&(d[w.k]=null)}}if(Re(c))$s(c,a,12,[o,d]);else{const w=ft(c),k=Pt(c);if(w||k){const L=()=>{if(e.f){const O=w?y(c)?g[c]:d[c]:c.value;if(s)Pe(O)&&qo(O,r);else if(Pe(O))O.includes(r)||O.push(r);else if(w)d[c]=[r],y(c)&&(g[c]=d[c]);else{const E=[r];c.value=E,e.k&&(d[e.k]=E)}}else w?(d[c]=o,y(c)&&(g[c]=o)):k&&(c.value=o,e.k&&(d[e.k]=o))};if(o){const O=()=>{L(),dr.delete(e)};O.id=-1,dr.set(e,O),Kt(O,n)}else oa(e),L()}}}function oa(e){const t=dr.get(e);t&&(t.flags|=8,dr.delete(e))}wr().requestIdleCallback;wr().cancelIdleCallback;const Ts=e=>!!e.type.__asyncLoader,nu=e=>e.type.__isKeepAlive;function Nd(e,t){lu(e,"a",t)}function Bd(e,t){lu(e,"da",t)}function lu(e,t,n=Vt){const l=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(kr(t,l,n),n){let s=n.parent;for(;s&&s.parent;)nu(s.parent.vnode)&&Hd(l,t,n,s),s=s.parent}}function Hd(e,t,n,l){const s=kr(t,e,l,!0);Dr(()=>{qo(l[t],s)},n)}function kr(e,t,n=Vt,l=!1){if(n){const s=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...o)=>{Un();const a=Ns(n),c=Tn(t,n,e,o);return a(),On(),c});return l?s.unshift(r):s.push(r),r}}const zn=e=>(t,n=Vt)=>{(!Vs||e==="sp")&&kr(e,(...l)=>t(...l),n)},jd=zn("bm"),ai=zn("m"),Wd=zn("bu"),Kd=zn("u"),Gd=zn("bum"),Dr=zn("um"),Yd=zn("sp"),qd=zn("rtg"),Jd=zn("rtc");function Zd(e,t=Vt){kr("ec",e,t)}const Qd=Symbol.for("v-ndc");function ql(e,t,n,l){let s;const r=n,o=Pe(e);if(o||ft(e)){const a=o&&yl(e);let c=!1,f=!1;a&&(c=!rn(e),f=Vn(e),e=Sr(e)),s=new Array(e.length);for(let d=0,g=e.length;d<g;d++)s[d]=t(c?f?Yl(pn(e[d])):pn(e[d]):e[d],d,void 0,r)}else if(typeof e=="number"){s=new Array(e);for(let a=0;a<e;a++)s[a]=t(a+1,a,void 0,r)}else if(st(e))if(e[Symbol.iterator])s=Array.from(e,(a,c)=>t(a,c,void 0,r));else{const a=Object.keys(e);s=new Array(a.length);for(let c=0,f=a.length;c<f;c++){const d=a[c];s[c]=t(e[d],d,c,r)}}else s=[];return s}const Po=e=>e?ku(e)?Er(e):Po(e.parent):null,Ms=Rt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Po(e.parent),$root:e=>Po(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>ru(e),$forceUpdate:e=>e.f||(e.f=()=>{oi(e.update)}),$nextTick:e=>e.n||(e.n=Pd.bind(e.proxy)),$watch:e=>Od.bind(e)}),uo=(e,t)=>e!==We&&!e.__isScriptSetup&&He(e,t),Xd={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:l,data:s,props:r,accessCache:o,type:a,appContext:c}=e;if(t[0]!=="$"){const b=o[t];if(b!==void 0)switch(b){case 1:return l[t];case 2:return s[t];case 4:return n[t];case 3:return r[t]}else{if(uo(l,t))return o[t]=1,l[t];if(s!==We&&He(s,t))return o[t]=2,s[t];if(He(r,t))return o[t]=3,r[t];if(n!==We&&He(n,t))return o[t]=4,n[t];Ro&&(o[t]=0)}}const f=Ms[t];let d,g;if(f)return t==="$attrs"&&At(e.attrs,"get",""),f(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(n!==We&&He(n,t))return o[t]=4,n[t];if(g=c.config.globalProperties,He(g,t))return g[t]},set({_:e},t,n){const{data:l,setupState:s,ctx:r}=e;return uo(s,t)?(s[t]=n,!0):l!==We&&He(l,t)?(l[t]=n,!0):He(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:l,appContext:s,props:r,type:o}},a){let c;return!!(n[a]||e!==We&&a[0]!=="$"&&He(e,a)||uo(t,a)||He(r,a)||He(l,a)||He(Ms,a)||He(s.config.globalProperties,a)||(c=o.__cssModules)&&c[a])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:He(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function ia(e){return Pe(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Ro=!0;function e0(e){const t=ru(e),n=e.proxy,l=e.ctx;Ro=!1,t.beforeCreate&&aa(t.beforeCreate,e,"bc");const{data:s,computed:r,methods:o,watch:a,provide:c,inject:f,created:d,beforeMount:g,mounted:b,beforeUpdate:y,updated:w,activated:k,deactivated:L,beforeDestroy:O,beforeUnmount:E,destroyed:P,unmounted:C,render:ie,renderTracked:te,renderTriggered:ve,errorCaptured:he,serverPrefetch:be,expose:G,inheritAttrs:F,components:Z,directives:I,filters:B}=t;if(f&&t0(f,l,null),o)for(const A in o){const j=o[A];Re(j)&&(l[A]=j.bind(n))}if(s){const A=s.call(n,n);st(A)&&(e.data=li(A))}if(Ro=!0,r)for(const A in r){const j=r[A],ne=Re(j)?j.bind(n,n):Re(j.get)?j.get.bind(n,n):Dn,re=!Re(j)&&Re(j.set)?j.set.bind(n):Dn,ce=ns({get:ne,set:re});Object.defineProperty(l,A,{enumerable:!0,configurable:!0,get:()=>ce.value,set:ee=>ce.value=ee})}if(a)for(const A in a)su(a[A],l,n,A);if(c){const A=Re(c)?c.call(n):c;Reflect.ownKeys(A).forEach(j=>{vs(j,A[j])})}d&&aa(d,e,"c");function _(A,j){Pe(j)?j.forEach(ne=>A(ne.bind(n))):j&&A(j.bind(n))}if(_(jd,g),_(ai,b),_(Wd,y),_(Kd,w),_(Nd,k),_(Bd,L),_(Zd,he),_(Jd,te),_(qd,ve),_(Gd,E),_(Dr,C),_(Yd,be),Pe(G))if(G.length){const A=e.exposed||(e.exposed={});G.forEach(j=>{Object.defineProperty(A,j,{get:()=>n[j],set:ne=>n[j]=ne,enumerable:!0})})}else e.exposed||(e.exposed={});ie&&e.render===Dn&&(e.render=ie),F!=null&&(e.inheritAttrs=F),Z&&(e.components=Z),I&&(e.directives=I),be&&tu(e)}function t0(e,t,n=Dn){Pe(e)&&(e=Fo(e));for(const l in e){const s=e[l];let r;st(s)?"default"in s?r=sr(s.from||l,s.default,!0):r=sr(s.from||l):r=sr(s),Pt(r)?Object.defineProperty(t,l,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):t[l]=r}}function aa(e,t,n){Tn(Pe(e)?e.map(l=>l.bind(t.proxy)):e.bind(t.proxy),t,n)}function su(e,t,n,l){let s=l.includes(".")?eu(n,l):()=>n[l];if(ft(e)){const r=t[e];Re(r)&&at(s,r)}else if(Re(e))at(s,e.bind(n));else if(st(e))if(Pe(e))e.forEach(r=>su(r,t,n,l));else{const r=Re(e.handler)?e.handler.bind(n):t[e.handler];Re(r)&&at(s,r,e)}}function ru(e){const t=e.type,{mixins:n,extends:l}=t,{mixins:s,optionsCache:r,config:{optionMergeStrategies:o}}=e.appContext,a=r.get(t);let c;return a?c=a:!s.length&&!n&&!l?c=t:(c={},s.length&&s.forEach(f=>hr(c,f,o,!0)),hr(c,t,o)),st(t)&&r.set(t,c),c}function hr(e,t,n,l=!1){const{mixins:s,extends:r}=t;r&&hr(e,r,n,!0),s&&s.forEach(o=>hr(e,o,n,!0));for(const o in t)if(!(l&&o==="expose")){const a=n0[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const n0={data:ca,props:ua,emits:ua,methods:bs,computed:bs,beforeCreate:Ut,created:Ut,beforeMount:Ut,mounted:Ut,beforeUpdate:Ut,updated:Ut,beforeDestroy:Ut,beforeUnmount:Ut,destroyed:Ut,unmounted:Ut,activated:Ut,deactivated:Ut,errorCaptured:Ut,serverPrefetch:Ut,components:bs,directives:bs,watch:s0,provide:ca,inject:l0};function ca(e,t){return t?e?function(){return Rt(Re(e)?e.call(this,this):e,Re(t)?t.call(this,this):t)}:t:e}function l0(e,t){return bs(Fo(e),Fo(t))}function Fo(e){if(Pe(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ut(e,t){return e?[...new Set([].concat(e,t))]:t}function bs(e,t){return e?Rt(Object.create(null),e,t):t}function ua(e,t){return e?Pe(e)&&Pe(t)?[...new Set([...e,...t])]:Rt(Object.create(null),ia(e),ia(t??{})):t}function s0(e,t){if(!e)return t;if(!t)return e;const n=Rt(Object.create(null),e);for(const l in t)n[l]=Ut(e[l],t[l]);return n}function ou(){return{app:null,config:{isNativeTag:Sc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let r0=0;function o0(e,t){return function(l,s=null){Re(l)||(l=Rt({},l)),s!=null&&!st(s)&&(s=null);const r=ou(),o=new WeakSet,a=[];let c=!1;const f=r.app={_uid:r0++,_component:l,_props:s,_container:null,_context:r,_instance:null,version:V0,get config(){return r.config},set config(d){},use(d,...g){return o.has(d)||(d&&Re(d.install)?(o.add(d),d.install(f,...g)):Re(d)&&(o.add(d),d(f,...g))),f},mixin(d){return r.mixins.includes(d)||r.mixins.push(d),f},component(d,g){return g?(r.components[d]=g,f):r.components[d]},directive(d,g){return g?(r.directives[d]=g,f):r.directives[d]},mount(d,g,b){if(!c){const y=f._ceVNode||qt(l,s);return y.appContext=r,b===!0?b="svg":b===!1&&(b=void 0),e(y,d,b),c=!0,f._container=d,d.__vue_app__=f,Er(y.component)}},onUnmount(d){a.push(d)},unmount(){c&&(Tn(a,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(d,g){return r.provides[d]=g,f},runWithContext(d){const g=Kl;Kl=f;try{return d()}finally{Kl=g}}};return f}}let Kl=null;const i0=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${el(t)}Modifiers`]||e[`${sl(t)}Modifiers`];function a0(e,t,...n){if(e.isUnmounted)return;const l=e.vnode.props||We;let s=n;const r=t.startsWith("update:"),o=r&&i0(l,t.slice(7));o&&(o.trim&&(s=n.map(d=>ft(d)?d.trim():d)),o.number&&(s=n.map(Zo)));let a,c=l[a=ro(t)]||l[a=ro(el(t))];!c&&r&&(c=l[a=ro(sl(t))]),c&&Tn(c,e,6,s);const f=l[a+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Tn(f,e,6,s)}}const c0=new WeakMap;function iu(e,t,n=!1){const l=n?c0:t.emitsCache,s=l.get(e);if(s!==void 0)return s;const r=e.emits;let o={},a=!1;if(!Re(e)){const c=f=>{const d=iu(f,t,!0);d&&(a=!0,Rt(o,d))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!r&&!a?(st(e)&&l.set(e,null),null):(Pe(r)?r.forEach(c=>o[c]=null):Rt(o,r),st(e)&&l.set(e,o),o)}function Tr(e,t){return!e||!br(t)?!1:(t=t.slice(2).replace(/Once$/,""),He(e,t[0].toLowerCase()+t.slice(1))||He(e,sl(t))||He(e,t))}function fa(e){const{type:t,vnode:n,proxy:l,withProxy:s,propsOptions:[r],slots:o,attrs:a,emit:c,render:f,renderCache:d,props:g,data:b,setupState:y,ctx:w,inheritAttrs:k}=e,L=fr(e);let O,E;try{if(n.shapeFlag&4){const C=s||l,ie=C;O=kn(f.call(ie,C,d,g,y,b,w)),E=a}else{const C=t;O=kn(C.length>1?C(g,{attrs:a,slots:o,emit:c}):C(g,null)),E=t.props?a:u0(a)}}catch(C){Es.length=0,Cr(C,e,1),O=qt(tl)}let P=O;if(E&&k!==!1){const C=Object.keys(E),{shapeFlag:ie}=P;C.length&&ie&7&&(r&&C.some(Yo)&&(E=f0(E,r)),P=Jl(P,E,!1,!0))}return n.dirs&&(P=Jl(P,null,!1,!0),P.dirs=P.dirs?P.dirs.concat(n.dirs):n.dirs),n.transition&&ii(P,n.transition),O=P,fr(L),O}const u0=e=>{let t;for(const n in e)(n==="class"||n==="style"||br(n))&&((t||(t={}))[n]=e[n]);return t},f0=(e,t)=>{const n={};for(const l in e)(!Yo(l)||!(l.slice(9)in t))&&(n[l]=e[l]);return n};function d0(e,t,n){const{props:l,children:s,component:r}=e,{props:o,children:a,patchFlag:c}=t,f=r.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return l?da(l,o,f):!!o;if(c&8){const d=t.dynamicProps;for(let g=0;g<d.length;g++){const b=d[g];if(o[b]!==l[b]&&!Tr(f,b))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:l===o?!1:l?o?da(l,o,f):!0:!!o;return!1}function da(e,t,n){const l=Object.keys(t);if(l.length!==Object.keys(e).length)return!0;for(let s=0;s<l.length;s++){const r=l[s];if(t[r]!==e[r]&&!Tr(n,r))return!0}return!1}function h0({vnode:e,parent:t},n){for(;t;){const l=t.subTree;if(l.suspense&&l.suspense.activeBranch===e&&(l.el=e.el),l===e)(e=t.vnode).el=n,t=t.parent;else break}}const au={},cu=()=>Object.create(au),uu=e=>Object.getPrototypeOf(e)===au;function g0(e,t,n,l=!1){const s={},r=cu();e.propsDefaults=Object.create(null),fu(e,t,s,r);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);n?e.props=l?s:Sd(s):e.type.props?e.props=s:e.props=r,e.attrs=r}function p0(e,t,n,l){const{props:s,attrs:r,vnode:{patchFlag:o}}=e,a=Be(s),[c]=e.propsOptions;let f=!1;if((l||o>0)&&!(o&16)){if(o&8){const d=e.vnode.dynamicProps;for(let g=0;g<d.length;g++){let b=d[g];if(Tr(e.emitsOptions,b))continue;const y=t[b];if(c)if(He(r,b))y!==r[b]&&(r[b]=y,f=!0);else{const w=el(b);s[w]=Io(c,a,w,y,e,!1)}else y!==r[b]&&(r[b]=y,f=!0)}}}else{fu(e,t,s,r)&&(f=!0);let d;for(const g in a)(!t||!He(t,g)&&((d=sl(g))===g||!He(t,d)))&&(c?n&&(n[g]!==void 0||n[d]!==void 0)&&(s[g]=Io(c,a,g,void 0,e,!0)):delete s[g]);if(r!==a)for(const g in r)(!t||!He(t,g))&&(delete r[g],f=!0)}f&&Rn(e.attrs,"set","")}function fu(e,t,n,l){const[s,r]=e.propsOptions;let o=!1,a;if(t)for(let c in t){if(Ss(c))continue;const f=t[c];let d;s&&He(s,d=el(c))?!r||!r.includes(d)?n[d]=f:(a||(a={}))[d]=f:Tr(e.emitsOptions,c)||(!(c in l)||f!==l[c])&&(l[c]=f,o=!0)}if(r){const c=Be(n),f=a||We;for(let d=0;d<r.length;d++){const g=r[d];n[g]=Io(s,c,g,f[g],e,!He(f,g))}}return o}function Io(e,t,n,l,s,r){const o=e[n];if(o!=null){const a=He(o,"default");if(a&&l===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&Re(c)){const{propsDefaults:f}=s;if(n in f)l=f[n];else{const d=Ns(s);l=f[n]=c.call(null,t),d()}}else l=c;s.ce&&s.ce._setProp(n,l)}o[0]&&(r&&!a?l=!1:o[1]&&(l===""||l===sl(n))&&(l=!0))}return l}const m0=new WeakMap;function du(e,t,n=!1){const l=n?m0:t.propsCache,s=l.get(e);if(s)return s;const r=e.props,o={},a=[];let c=!1;if(!Re(e)){const d=g=>{c=!0;const[b,y]=du(g,t,!0);Rt(o,b),y&&a.push(...y)};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!r&&!c)return st(e)&&l.set(e,Hl),Hl;if(Pe(r))for(let d=0;d<r.length;d++){const g=el(r[d]);ha(g)&&(o[g]=We)}else if(r)for(const d in r){const g=el(d);if(ha(g)){const b=r[d],y=o[g]=Pe(b)||Re(b)?{type:b}:Rt({},b),w=y.type;let k=!1,L=!0;if(Pe(w))for(let O=0;O<w.length;++O){const E=w[O],P=Re(E)&&E.name;if(P==="Boolean"){k=!0;break}else P==="String"&&(L=!1)}else k=Re(w)&&w.name==="Boolean";y[0]=k,y[1]=L,(k||He(y,"default"))&&a.push(g)}}const f=[o,a];return st(e)&&l.set(e,f),f}function ha(e){return e[0]!=="$"&&!Ss(e)}const ci=e=>e==="_"||e==="_ctx"||e==="$stable",ui=e=>Pe(e)?e.map(kn):[kn(e)],v0=(e,t,n)=>{if(t._n)return t;const l=Id((...s)=>ui(t(...s)),n);return l._c=!1,l},hu=(e,t,n)=>{const l=e._ctx;for(const s in e){if(ci(s))continue;const r=e[s];if(Re(r))t[s]=v0(s,r,l);else if(r!=null){const o=ui(r);t[s]=()=>o}}},gu=(e,t)=>{const n=ui(t);e.slots.default=()=>n},pu=(e,t,n)=>{for(const l in t)(n||!ci(l))&&(e[l]=t[l])},b0=(e,t,n)=>{const l=e.slots=cu();if(e.vnode.shapeFlag&32){const s=t._;s?(pu(l,t,n),n&&Ec(l,"_",s,!0)):hu(t,l)}else t&&gu(e,t)},y0=(e,t,n)=>{const{vnode:l,slots:s}=e;let r=!0,o=We;if(l.shapeFlag&32){const a=t._;a?n&&a===1?r=!1:pu(s,t,n):(r=!t.$stable,hu(t,s)),o=t}else t&&(gu(e,t),o={default:1});if(r)for(const a in s)!ci(a)&&o[a]==null&&delete s[a]},Kt=k0;function x0(e){return w0(e)}function w0(e,t){const n=wr();n.__VUE__=!0;const{insert:l,remove:s,patchProp:r,createElement:o,createText:a,createComment:c,setText:f,setElementText:d,parentNode:g,nextSibling:b,setScopeId:y=Dn,insertStaticContent:w}=e,k=(p,v,T,M=null,R=null,U=null,J=void 0,Q=null,W=!!v.dynamicChildren)=>{if(p===v)return;p&&!gs(p,v)&&(M=xe(p),ee(p,R,U,!0),p=null),v.patchFlag===-2&&(W=!1,v.dynamicChildren=null);const{type:N,ref:de,shapeFlag:se}=v;switch(N){case Mr:L(p,v,T,M);break;case tl:O(p,v,T,M);break;case ho:p==null&&E(v,T,M,J);break;case Tt:Z(p,v,T,M,R,U,J,Q,W);break;default:se&1?ie(p,v,T,M,R,U,J,Q,W):se&6?I(p,v,T,M,R,U,J,Q,W):(se&64||se&128)&&N.process(p,v,T,M,R,U,J,Q,W,pe)}de!=null&&R?Ds(de,p&&p.ref,U,v||p,!v):de==null&&p&&p.ref!=null&&Ds(p.ref,null,U,p,!0)},L=(p,v,T,M)=>{if(p==null)l(v.el=a(v.children),T,M);else{const R=v.el=p.el;v.children!==p.children&&f(R,v.children)}},O=(p,v,T,M)=>{p==null?l(v.el=c(v.children||""),T,M):v.el=p.el},E=(p,v,T,M)=>{[p.el,p.anchor]=w(p.children,v,T,M,p.el,p.anchor)},P=({el:p,anchor:v},T,M)=>{let R;for(;p&&p!==v;)R=b(p),l(p,T,M),p=R;l(v,T,M)},C=({el:p,anchor:v})=>{let T;for(;p&&p!==v;)T=b(p),s(p),p=T;s(v)},ie=(p,v,T,M,R,U,J,Q,W)=>{if(v.type==="svg"?J="svg":v.type==="math"&&(J="mathml"),p==null)te(v,T,M,R,U,J,Q,W);else{const N=p.el&&p.el._isVueCE?p.el:null;try{N&&N._beginPatch(),be(p,v,R,U,J,Q,W)}finally{N&&N._endPatch()}}},te=(p,v,T,M,R,U,J,Q)=>{let W,N;const{props:de,shapeFlag:se,transition:Y,dirs:z}=p;if(W=p.el=o(p.type,U,de&&de.is,de),se&8?d(W,p.children):se&16&&he(p.children,W,null,M,R,fo(p,U),J,Q),z&&dl(p,null,M,"created"),ve(W,p,p.scopeId,J,M),de){for(const Me in de)Me!=="value"&&!Ss(Me)&&r(W,Me,null,de[Me],U,M);"value"in de&&r(W,"value",null,de.value,U),(N=de.onVnodeBeforeMount)&&wn(N,M,p)}z&&dl(p,null,M,"beforeMount");const ge=S0(R,Y);ge&&Y.beforeEnter(W),l(W,v,T),((N=de&&de.onVnodeMounted)||ge||z)&&Kt(()=>{N&&wn(N,M,p),ge&&Y.enter(W),z&&dl(p,null,M,"mounted")},R)},ve=(p,v,T,M,R)=>{if(T&&y(p,T),M)for(let U=0;U<M.length;U++)y(p,M[U]);if(R){let U=R.subTree;if(v===U||yu(U.type)&&(U.ssContent===v||U.ssFallback===v)){const J=R.vnode;ve(p,J,J.scopeId,J.slotScopeIds,R.parent)}}},he=(p,v,T,M,R,U,J,Q,W=0)=>{for(let N=W;N<p.length;N++){const de=p[N]=Q?Gn(p[N]):kn(p[N]);k(null,de,v,T,M,R,U,J,Q)}},be=(p,v,T,M,R,U,J)=>{const Q=v.el=p.el;let{patchFlag:W,dynamicChildren:N,dirs:de}=v;W|=p.patchFlag&16;const se=p.props||We,Y=v.props||We;let z;if(T&&hl(T,!1),(z=Y.onVnodeBeforeUpdate)&&wn(z,T,v,p),de&&dl(v,p,T,"beforeUpdate"),T&&hl(T,!0),(se.innerHTML&&Y.innerHTML==null||se.textContent&&Y.textContent==null)&&d(Q,""),N?G(p.dynamicChildren,N,Q,T,M,fo(v,R),U):J||j(p,v,Q,null,T,M,fo(v,R),U,!1),W>0){if(W&16)F(Q,se,Y,T,R);else if(W&2&&se.class!==Y.class&&r(Q,"class",null,Y.class,R),W&4&&r(Q,"style",se.style,Y.style,R),W&8){const ge=v.dynamicProps;for(let Me=0;Me<ge.length;Me++){const Le=ge[Me],rt=se[Le],qe=Y[Le];(qe!==rt||Le==="value")&&r(Q,Le,rt,qe,R,T)}}W&1&&p.children!==v.children&&d(Q,v.children)}else!J&&N==null&&F(Q,se,Y,T,R);((z=Y.onVnodeUpdated)||de)&&Kt(()=>{z&&wn(z,T,v,p),de&&dl(v,p,T,"updated")},M)},G=(p,v,T,M,R,U,J)=>{for(let Q=0;Q<v.length;Q++){const W=p[Q],N=v[Q],de=W.el&&(W.type===Tt||!gs(W,N)||W.shapeFlag&198)?g(W.el):T;k(W,N,de,null,M,R,U,J,!0)}},F=(p,v,T,M,R)=>{if(v!==T){if(v!==We)for(const U in v)!Ss(U)&&!(U in T)&&r(p,U,v[U],null,R,M);for(const U in T){if(Ss(U))continue;const J=T[U],Q=v[U];J!==Q&&U!=="value"&&r(p,U,Q,J,R,M)}"value"in T&&r(p,"value",v.value,T.value,R)}},Z=(p,v,T,M,R,U,J,Q,W)=>{const N=v.el=p?p.el:a(""),de=v.anchor=p?p.anchor:a("");let{patchFlag:se,dynamicChildren:Y,slotScopeIds:z}=v;z&&(Q=Q?Q.concat(z):z),p==null?(l(N,T,M),l(de,T,M),he(v.children||[],T,de,R,U,J,Q,W)):se>0&&se&64&&Y&&p.dynamicChildren&&p.dynamicChildren.length===Y.length?(G(p.dynamicChildren,Y,T,R,U,J,Q),(v.key!=null||R&&v===R.subTree)&&mu(p,v,!0)):j(p,v,T,de,R,U,J,Q,W)},I=(p,v,T,M,R,U,J,Q,W)=>{v.slotScopeIds=Q,p==null?v.shapeFlag&512?R.ctx.activate(v,T,M,J,W):B(v,T,M,R,U,J,W):$(p,v,W)},B=(p,v,T,M,R,U,J)=>{const Q=p.component=P0(p,M,R);if(nu(p)&&(Q.ctx.renderer=pe),F0(Q,!1,J),Q.asyncDep){if(R&&R.registerDep(Q,_,J),!p.el){const W=Q.subTree=qt(tl);O(null,W,v,T),p.placeholder=W.el}}else _(Q,p,v,T,R,U,J)},$=(p,v,T)=>{const M=v.component=p.component;if(d0(p,v,T))if(M.asyncDep&&!M.asyncResolved){A(M,v,T);return}else M.next=v,M.update();else v.el=p.el,M.vnode=v},_=(p,v,T,M,R,U,J)=>{const Q=()=>{if(p.isMounted){let{next:se,bu:Y,u:z,parent:ge,vnode:Me}=p;{const tt=vu(p);if(tt){se&&(se.el=Me.el,A(p,se,J)),tt.asyncDep.then(()=>{p.isUnmounted||Q()});return}}let Le=se,rt;hl(p,!1),se?(se.el=Me.el,A(p,se,J)):se=Me,Y&&lr(Y),(rt=se.props&&se.props.onVnodeBeforeUpdate)&&wn(rt,ge,se,Me),hl(p,!0);const qe=fa(p),pt=p.subTree;p.subTree=qe,k(pt,qe,g(pt.el),xe(pt),p,R,U),se.el=qe.el,Le===null&&h0(p,qe.el),z&&Kt(z,R),(rt=se.props&&se.props.onVnodeUpdated)&&Kt(()=>wn(rt,ge,se,Me),R)}else{let se;const{el:Y,props:z}=v,{bm:ge,m:Me,parent:Le,root:rt,type:qe}=p,pt=Ts(v);hl(p,!1),ge&&lr(ge),!pt&&(se=z&&z.onVnodeBeforeMount)&&wn(se,Le,v),hl(p,!0);{rt.ce&&rt.ce._def.shadowRoot!==!1&&rt.ce._injectChildStyle(qe);const tt=p.subTree=fa(p);k(null,tt,T,M,p,R,U),v.el=tt.el}if(Me&&Kt(Me,R),!pt&&(se=z&&z.onVnodeMounted)){const tt=v;Kt(()=>wn(se,Le,tt),R)}(v.shapeFlag&256||Le&&Ts(Le.vnode)&&Le.vnode.shapeFlag&256)&&p.a&&Kt(p.a,R),p.isMounted=!0,v=T=M=null}};p.scope.on();const W=p.effect=new Rc(Q);p.scope.off();const N=p.update=W.run.bind(W),de=p.job=W.runIfDirty.bind(W);de.i=p,de.id=p.uid,W.scheduler=()=>oi(de),hl(p,!0),N()},A=(p,v,T)=>{v.component=p;const M=p.vnode.props;p.vnode=v,p.next=null,p0(p,v.props,M,T),y0(p,v.children,T),Un(),ra(p),On()},j=(p,v,T,M,R,U,J,Q,W=!1)=>{const N=p&&p.children,de=p?p.shapeFlag:0,se=v.children,{patchFlag:Y,shapeFlag:z}=v;if(Y>0){if(Y&128){re(N,se,T,M,R,U,J,Q,W);return}else if(Y&256){ne(N,se,T,M,R,U,J,Q,W);return}}z&8?(de&16&&Ae(N,R,U),se!==N&&d(T,se)):de&16?z&16?re(N,se,T,M,R,U,J,Q,W):Ae(N,R,U,!0):(de&8&&d(T,""),z&16&&he(se,T,M,R,U,J,Q,W))},ne=(p,v,T,M,R,U,J,Q,W)=>{p=p||Hl,v=v||Hl;const N=p.length,de=v.length,se=Math.min(N,de);let Y;for(Y=0;Y<se;Y++){const z=v[Y]=W?Gn(v[Y]):kn(v[Y]);k(p[Y],z,T,null,R,U,J,Q,W)}N>de?Ae(p,R,U,!0,!1,se):he(v,T,M,R,U,J,Q,W,se)},re=(p,v,T,M,R,U,J,Q,W)=>{let N=0;const de=v.length;let se=p.length-1,Y=de-1;for(;N<=se&&N<=Y;){const z=p[N],ge=v[N]=W?Gn(v[N]):kn(v[N]);if(gs(z,ge))k(z,ge,T,null,R,U,J,Q,W);else break;N++}for(;N<=se&&N<=Y;){const z=p[se],ge=v[Y]=W?Gn(v[Y]):kn(v[Y]);if(gs(z,ge))k(z,ge,T,null,R,U,J,Q,W);else break;se--,Y--}if(N>se){if(N<=Y){const z=Y+1,ge=z<de?v[z].el:M;for(;N<=Y;)k(null,v[N]=W?Gn(v[N]):kn(v[N]),T,ge,R,U,J,Q,W),N++}}else if(N>Y)for(;N<=se;)ee(p[N],R,U,!0),N++;else{const z=N,ge=N,Me=new Map;for(N=ge;N<=Y;N++){const Je=v[N]=W?Gn(v[N]):kn(v[N]);Je.key!=null&&Me.set(Je.key,N)}let Le,rt=0;const qe=Y-ge+1;let pt=!1,tt=0;const mt=new Array(qe);for(N=0;N<qe;N++)mt[N]=0;for(N=z;N<=se;N++){const Je=p[N];if(rt>=qe){ee(Je,R,U,!0);continue}let $t;if(Je.key!=null)$t=Me.get(Je.key);else for(Le=ge;Le<=Y;Le++)if(mt[Le-ge]===0&&gs(Je,v[Le])){$t=Le;break}$t===void 0?ee(Je,R,U,!0):(mt[$t-ge]=N+1,$t>=tt?tt=$t:pt=!0,k(Je,v[$t],T,null,R,U,J,Q,W),rt++)}const Ct=pt?C0(mt):Hl;for(Le=Ct.length-1,N=qe-1;N>=0;N--){const Je=ge+N,$t=v[Je],rl=v[Je+1],Mn=Je+1<de?rl.el||bu(rl):M;mt[N]===0?k(null,$t,T,Mn,R,U,J,Q,W):pt&&(Le<0||N!==Ct[Le]?ce($t,T,Mn,2):Le--)}}},ce=(p,v,T,M,R=null)=>{const{el:U,type:J,transition:Q,children:W,shapeFlag:N}=p;if(N&6){ce(p.component.subTree,v,T,M);return}if(N&128){p.suspense.move(v,T,M);return}if(N&64){J.move(p,v,T,pe);return}if(J===Tt){l(U,v,T);for(let se=0;se<W.length;se++)ce(W[se],v,T,M);l(p.anchor,v,T);return}if(J===ho){P(p,v,T);return}if(M!==2&&N&1&&Q)if(M===0)Q.beforeEnter(U),l(U,v,T),Kt(()=>Q.enter(U),R);else{const{leave:se,delayLeave:Y,afterLeave:z}=Q,ge=()=>{p.ctx.isUnmounted?s(U):l(U,v,T)},Me=()=>{U._isLeaving&&U[$d](!0),se(U,()=>{ge(),z&&z()})};Y?Y(U,ge,Me):Me()}else l(U,v,T)},ee=(p,v,T,M=!1,R=!1)=>{const{type:U,props:J,ref:Q,children:W,dynamicChildren:N,shapeFlag:de,patchFlag:se,dirs:Y,cacheIndex:z}=p;if(se===-2&&(R=!1),Q!=null&&(Un(),Ds(Q,null,T,p,!0),On()),z!=null&&(v.renderCache[z]=void 0),de&256){v.ctx.deactivate(p);return}const ge=de&1&&Y,Me=!Ts(p);let Le;if(Me&&(Le=J&&J.onVnodeBeforeUnmount)&&wn(Le,v,p),de&6)_e(p.component,T,M);else{if(de&128){p.suspense.unmount(T,M);return}ge&&dl(p,null,v,"beforeUnmount"),de&64?p.type.remove(p,v,T,pe,M):N&&!N.hasOnce&&(U!==Tt||se>0&&se&64)?Ae(N,v,T,!1,!0):(U===Tt&&se&384||!R&&de&16)&&Ae(W,v,T),M&&q(p)}(Me&&(Le=J&&J.onVnodeUnmounted)||ge)&&Kt(()=>{Le&&wn(Le,v,p),ge&&dl(p,null,v,"unmounted")},T)},q=p=>{const{type:v,el:T,anchor:M,transition:R}=p;if(v===Tt){Fe(T,M);return}if(v===ho){C(p);return}const U=()=>{s(T),R&&!R.persisted&&R.afterLeave&&R.afterLeave()};if(p.shapeFlag&1&&R&&!R.persisted){const{leave:J,delayLeave:Q}=R,W=()=>J(T,U);Q?Q(p.el,U,W):W()}else U()},Fe=(p,v)=>{let T;for(;p!==v;)T=b(p),s(p),p=T;s(v)},_e=(p,v,T)=>{const{bum:M,scope:R,job:U,subTree:J,um:Q,m:W,a:N}=p;ga(W),ga(N),M&&lr(M),R.stop(),U&&(U.flags|=8,ee(J,p,v,T)),Q&&Kt(Q,v),Kt(()=>{p.isUnmounted=!0},v)},Ae=(p,v,T,M=!1,R=!1,U=0)=>{for(let J=U;J<p.length;J++)ee(p[J],v,T,M,R)},xe=p=>{if(p.shapeFlag&6)return xe(p.component.subTree);if(p.shapeFlag&128)return p.suspense.next();const v=b(p.anchor||p.el),T=v&&v[Vd];return T?b(T):v};let ue=!1;const le=(p,v,T)=>{let M;p==null?v._vnode&&(ee(v._vnode,null,null,!0),M=v._vnode.component):k(v._vnode||null,p,v,null,null,null,T),v._vnode=p,ue||(ue=!0,ra(M),Jc(),ue=!1)},pe={p:k,um:ee,m:ce,r:q,mt:B,mc:he,pc:j,pbc:G,n:xe,o:e};return{render:le,hydrate:void 0,createApp:o0(le)}}function fo({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function hl({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function S0(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function mu(e,t,n=!1){const l=e.children,s=t.children;if(Pe(l)&&Pe(s))for(let r=0;r<l.length;r++){const o=l[r];let a=s[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[r]=Gn(s[r]),a.el=o.el),!n&&a.patchFlag!==-2&&mu(o,a)),a.type===Mr&&(a.patchFlag!==-1?a.el=o.el:a.__elIndex=r+(e.type===Tt?1:0)),a.type===tl&&!a.el&&(a.el=o.el)}}function C0(e){const t=e.slice(),n=[0];let l,s,r,o,a;const c=e.length;for(l=0;l<c;l++){const f=e[l];if(f!==0){if(s=n[n.length-1],e[s]<f){t[l]=s,n.push(l);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,e[n[a]]<f?r=a+1:o=a;f<e[n[r]]&&(r>0&&(t[l]=n[r-1]),n[r]=l)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=t[o];return n}function vu(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:vu(t)}function ga(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function bu(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?bu(t.subTree):null}const yu=e=>e.__isSuspense;function k0(e,t){t&&t.pendingBranch?Pe(e)?t.effects.push(...e):t.effects.push(e):Fd(e)}const Tt=Symbol.for("v-fgt"),Mr=Symbol.for("v-txt"),tl=Symbol.for("v-cmt"),ho=Symbol.for("v-stc"),Es=[];let Yt=null;function we(e=!1){Es.push(Yt=e?null:[])}function D0(){Es.pop(),Yt=Es[Es.length-1]||null}let Os=1;function pa(e,t=!1){Os+=e,e<0&&Yt&&t&&(Yt.hasOnce=!0)}function xu(e){return e.dynamicChildren=Os>0?Yt||Hl:null,D0(),Os>0&&Yt&&Yt.push(e),e}function Ce(e,t,n,l,s,r){return xu(S(e,t,n,l,s,r,!0))}function wu(e,t,n,l,s){return xu(qt(e,t,n,l,s,!0))}function Su(e){return e?e.__v_isVNode===!0:!1}function gs(e,t){return e.type===t.type&&e.key===t.key}const Cu=({key:e})=>e??null,rr=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?ft(e)||Pt(e)||Re(e)?{i:sn,r:e,k:t,f:!!n}:e:null);function S(e,t=null,n=null,l=0,s=null,r=e===Tt?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Cu(t),ref:t&&rr(t),scopeId:Qc,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:l,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:sn};return a?(fi(c,n),r&128&&e.normalize(c)):n&&(c.shapeFlag|=ft(n)?8:16),Os>0&&!o&&Yt&&(c.patchFlag>0||r&6)&&c.patchFlag!==32&&Yt.push(c),c}const qt=T0;function T0(e,t=null,n=null,l=0,s=null,r=!1){if((!e||e===Qd)&&(e=tl),Su(e)){const a=Jl(e,t,!0);return n&&fi(a,n),Os>0&&!r&&Yt&&(a.shapeFlag&6?Yt[Yt.indexOf(e)]=a:Yt.push(a)),a.patchFlag=-2,a}if(O0(e)&&(e=e.__vccOpts),t){t=M0(t);let{class:a,style:c}=t;a&&!ft(a)&&(t.class=H(a)),st(c)&&(ri(c)&&!Pe(c)&&(c=Rt({},c)),t.style=Xn(c))}const o=ft(e)?1:yu(e)?128:zd(e)?64:st(e)?4:Re(e)?2:0;return S(e,t,n,l,s,o,r,!0)}function M0(e){return e?ri(e)||uu(e)?Rt({},e):e:null}function Jl(e,t,n=!1,l=!1){const{props:s,ref:r,patchFlag:o,children:a,transition:c}=e,f=t?E0(s||{},t):s,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&Cu(f),ref:t&&t.ref?n&&r?Pe(r)?r.concat(rr(t)):[r,rr(t)]:rr(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Tt?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Jl(e.ssContent),ssFallback:e.ssFallback&&Jl(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&l&&ii(d,c.clone(d)),d}function dn(e=" ",t=0){return qt(Mr,null,e,t)}function lt(e="",t=!1){return t?(we(),wu(tl,null,e)):qt(tl,null,e)}function kn(e){return e==null||typeof e=="boolean"?qt(tl):Pe(e)?qt(Tt,null,e.slice()):Su(e)?Gn(e):qt(Mr,null,String(e))}function Gn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Jl(e)}function fi(e,t){let n=0;const{shapeFlag:l}=e;if(t==null)t=null;else if(Pe(t))n=16;else if(typeof t=="object")if(l&65){const s=t.default;s&&(s._c&&(s._d=!1),fi(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!uu(t)?t._ctx=sn:s===3&&sn&&(sn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Re(t)?(t={default:t,_ctx:sn},n=32):(t=String(t),l&64?(n=16,t=[dn(t)]):n=8);e.children=t,e.shapeFlag|=n}function E0(...e){const t={};for(let n=0;n<e.length;n++){const l=e[n];for(const s in l)if(s==="class")t.class!==l.class&&(t.class=H([t.class,l.class]));else if(s==="style")t.style=Xn([t.style,l.style]);else if(br(s)){const r=t[s],o=l[s];o&&r!==o&&!(Pe(r)&&r.includes(o))&&(t[s]=r?[].concat(r,o):o)}else s!==""&&(t[s]=l[s])}return t}function wn(e,t,n,l=null){Tn(e,t,7,[n,l])}const _0=ou();let A0=0;function P0(e,t,n){const l=e.type,s=(t?t.appContext:e.appContext)||_0,r={uid:A0++,vnode:e,type:l,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new nd(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:du(l,s),emitsOptions:iu(l,s),emit:null,emitted:null,propsDefaults:We,inheritAttrs:l.inheritAttrs,ctx:We,data:We,props:We,attrs:We,slots:We,refs:We,setupState:We,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=a0.bind(null,r),e.ce&&e.ce(r),r}let Vt=null;const R0=()=>Vt||sn;let gr,Lo;{const e=wr(),t=(n,l)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(l),r=>{s.length>1?s.forEach(o=>o(r)):s[0](r)}};gr=t("__VUE_INSTANCE_SETTERS__",n=>Vt=n),Lo=t("__VUE_SSR_SETTERS__",n=>Vs=n)}const Ns=e=>{const t=Vt;return gr(e),e.scope.on(),()=>{e.scope.off(),gr(t)}},ma=()=>{Vt&&Vt.scope.off(),gr(null)};function ku(e){return e.vnode.shapeFlag&4}let Vs=!1;function F0(e,t=!1,n=!1){t&&Lo(t);const{props:l,children:s}=e.vnode,r=ku(e);g0(e,l,r,t),b0(e,s,n||t);const o=r?I0(e,t):void 0;return t&&Lo(!1),o}function I0(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Xd);const{setup:l}=n;if(l){Un();const s=e.setupContext=l.length>1?U0(e):null,r=Ns(e),o=$s(l,e,0,[e.props,s]),a=kc(o);if(On(),r(),(a||e.sp)&&!Ts(e)&&tu(e),a){if(o.then(ma,ma),t)return o.then(c=>{va(e,c)}).catch(c=>{Cr(c,e,0)});e.asyncDep=o}else va(e,o)}else Du(e)}function va(e,t,n){Re(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:st(t)&&(e.setupState=Gc(t)),Du(e)}function Du(e,t,n){const l=e.type;e.render||(e.render=l.render||Dn);{const s=Ns(e);Un();try{e0(e)}finally{On(),s()}}}const L0={get(e,t){return At(e,"get",""),e[t]}};function U0(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,L0),slots:e.slots,emit:e.emit,expose:t}}function Er(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Gc(Cd(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Ms)return Ms[n](e)},has(t,n){return n in t||n in Ms}})):e.proxy}function O0(e){return Re(e)&&"__vccOpts"in e}const ns=(e,t)=>Md(e,t,Vs),V0="3.5.26";/**
* @vue/runtime-dom v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Uo;const ba=typeof window<"u"&&window.trustedTypes;if(ba)try{Uo=ba.createPolicy("vue",{createHTML:e=>e})}catch{}const Tu=Uo?e=>Uo.createHTML(e):e=>e,z0="http://www.w3.org/2000/svg",$0="http://www.w3.org/1998/Math/MathML",An=typeof document<"u"?document:null,ya=An&&An.createElement("template"),N0={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,l)=>{const s=t==="svg"?An.createElementNS(z0,e):t==="mathml"?An.createElementNS($0,e):n?An.createElement(e,{is:n}):An.createElement(e);return e==="select"&&l&&l.multiple!=null&&s.setAttribute("multiple",l.multiple),s},createText:e=>An.createTextNode(e),createComment:e=>An.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>An.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,l,s,r){const o=n?n.previousSibling:t.lastChild;if(s&&(s===r||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===r||!(s=s.nextSibling)););else{ya.innerHTML=Tu(l==="svg"?`<svg>${e}</svg>`:l==="mathml"?`<math>${e}</math>`:e);const a=ya.content;if(l==="svg"||l==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},B0=Symbol("_vtc");function H0(e,t,n){const l=e[B0];l&&(t=(t?[t,...l]:[...l]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const xa=Symbol("_vod"),j0=Symbol("_vsh"),W0=Symbol(""),K0=/(?:^|;)\s*display\s*:/;function G0(e,t,n){const l=e.style,s=ft(n);let r=!1;if(n&&!s){if(t)if(ft(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&or(l,a,"")}else for(const o in t)n[o]==null&&or(l,o,"");for(const o in n)o==="display"&&(r=!0),or(l,o,n[o])}else if(s){if(t!==n){const o=l[W0];o&&(n+=";"+o),l.cssText=n,r=K0.test(n)}}else t&&e.removeAttribute("style");xa in e&&(e[xa]=r?l.display:"",e[j0]&&(l.display="none"))}const wa=/\s*!important$/;function or(e,t,n){if(Pe(n))n.forEach(l=>or(e,t,l));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const l=Y0(e,t);wa.test(n)?e.setProperty(sl(l),n.replace(wa,""),"important"):e[l]=n}}const Sa=["Webkit","Moz","ms"],go={};function Y0(e,t){const n=go[t];if(n)return n;let l=el(t);if(l!=="filter"&&l in e)return go[t]=l;l=Mc(l);for(let s=0;s<Sa.length;s++){const r=Sa[s]+l;if(r in e)return go[t]=r}return t}const Ca="http://www.w3.org/1999/xlink";function ka(e,t,n,l,s,r=td(t)){l&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Ca,t.slice(6,t.length)):e.setAttributeNS(Ca,t,n):n==null||r&&!_c(n)?e.removeAttribute(t):e.setAttribute(t,r?"":ll(n)?String(n):n)}function Da(e,t,n,l,s){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Tu(n):n);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?e.getAttribute("value")||"":e.value,c=n==null?e.type==="checkbox"?"on":"":String(n);(a!==c||!("_value"in e))&&(e.value=c),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=_c(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(s||t)}function Nl(e,t,n,l){e.addEventListener(t,n,l)}function q0(e,t,n,l){e.removeEventListener(t,n,l)}const Ta=Symbol("_vei");function J0(e,t,n,l,s=null){const r=e[Ta]||(e[Ta]={}),o=r[t];if(l&&o)o.value=l;else{const[a,c]=Z0(t);if(l){const f=r[t]=eh(l,s);Nl(e,a,f,c)}else o&&(q0(e,a,o,c),r[t]=void 0)}}const Ma=/(?:Once|Passive|Capture)$/;function Z0(e){let t;if(Ma.test(e)){t={};let l;for(;l=e.match(Ma);)e=e.slice(0,e.length-l[0].length),t[l[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):sl(e.slice(2)),t]}let po=0;const Q0=Promise.resolve(),X0=()=>po||(Q0.then(()=>po=0),po=Date.now());function eh(e,t){const n=l=>{if(!l._vts)l._vts=Date.now();else if(l._vts<=n.attached)return;Tn(th(l,n.value),t,5,[l])};return n.value=e,n.attached=X0(),n}function th(e,t){if(Pe(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(l=>s=>!s._stopped&&l&&l(s))}else return t}const Ea=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,nh=(e,t,n,l,s,r)=>{const o=s==="svg";t==="class"?H0(e,l,o):t==="style"?G0(e,n,l):br(t)?Yo(t)||J0(e,t,n,l,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):lh(e,t,l,o))?(Da(e,t,l),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&ka(e,t,l,o,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!ft(l))?Da(e,el(t),l,r,t):(t==="true-value"?e._trueValue=l:t==="false-value"&&(e._falseValue=l),ka(e,t,l,o))};function lh(e,t,n,l){if(l)return!!(t==="innerHTML"||t==="textContent"||t in e&&Ea(t)&&Re(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Ea(t)&&ft(n)?!1:t in e}const _a=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Pe(t)?n=>lr(t,n):t};function sh(e){e.target.composing=!0}function Aa(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const mo=Symbol("_assign");function Pa(e,t,n){return t&&(e=e.trim()),n&&(e=Zo(e)),e}const Jn={created(e,{modifiers:{lazy:t,trim:n,number:l}},s){e[mo]=_a(s);const r=l||s.props&&s.props.type==="number";Nl(e,t?"change":"input",o=>{o.target.composing||e[mo](Pa(e.value,n,r))}),(n||r)&&Nl(e,"change",()=>{e.value=Pa(e.value,n,r)}),t||(Nl(e,"compositionstart",sh),Nl(e,"compositionend",Aa),Nl(e,"change",Aa))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:l,trim:s,number:r}},o){if(e[mo]=_a(o),e.composing)return;const a=(r||e.type==="number")&&!/^0\d/.test(e.value)?Zo(e.value):e.value,c=t??"";a!==c&&(document.activeElement===e&&e.type!=="range"&&(l&&t===n||s&&e.value.trim()===c)||(e.value=c))}},rh=["ctrl","shift","alt","meta"],oh={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>rh.some(n=>e[`${n}Key`]&&!t.includes(n))},ir=(e,t)=>{const n=e._withMods||(e._withMods={}),l=t.join(".");return n[l]||(n[l]=(s,...r)=>{for(let o=0;o<t.length;o++){const a=oh[t[o]];if(a&&a(s,t))return}return e(s,...r)})},ih={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Zn=(e,t)=>{const n=e._withKeys||(e._withKeys={}),l=t.join(".");return n[l]||(n[l]=s=>{if(!("key"in s))return;const r=sl(s.key);if(t.some(o=>o===r||ih[o]===r))return e(s)})},ah=Rt({patchProp:nh},N0);let Ra;function ch(){return Ra||(Ra=x0(ah))}const uh=(...e)=>{const t=ch().createApp(...e),{mount:n}=t;return t.mount=l=>{const s=dh(l);if(!s)return;const r=t._component;!Re(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,fh(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function fh(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function dh(e){return ft(e)?document.querySelector(e):e}const hh=[{value:"serial",label:"",description:"Web Serial API"},{value:"websocket",label:"WebSocket",description:"WebSocket "},{value:"bluetooth",label:"",description:"Web Bluetooth API"}],Fa=[{value:"justfloat",label:"JustFloat",description:""},{value:"firewater",label:"FireWater",description:" (ch0,ch1,...\\n)"}],Pn=["#2196F3","#4CAF50","#FF9800","#E91E63","#9C27B0","#00BCD4","#FFEB3B","#795548"],vo={baudRate:115200,bufferSize:1e4,channels:[],protocol:"justfloat",connectionType:"serial",wsUrl:"ws://localhost:8080",btServiceUUID:"ffe0",btCharacteristicUUID:"ffe1",isDark:!0},gh=[9600,19200,38400,57600,115200,230400,460800,921600],_s=1e3,As=1e6,Xs=new Uint8Array([0,0,128,127]),ph={class:"flex items-center gap-3"},mh={class:"flex items-center gap-2"},vh={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},bh={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},yh=["value","disabled"],xh=["value"],wh={key:0,class:"flex items-center gap-1"},Sh=["disabled"],Ch={id:"baudRateList"},kh=["value"],Dh=["disabled"],Th=["disabled"],Mh=["disabled"],Eh={class:"flex items-center gap-2"},_h=["disabled"],Ah=ts({__name:"HeaderBar",props:{status:{},isSupported:{type:Boolean},connectionType:{},wsUrl:{},btServiceUUID:{},btCharacteristicUUID:{},baudRate:{},isDark:{type:Boolean}},emits:["connect","clear","export","import","toggleTheme","update:connectionType","update:wsUrl","update:btServiceUUID","update:btCharacteristicUUID","update:baudRate"],setup(e,{emit:t}){const n=e,l=t,s=Se(n.wsUrl),r=Se(n.btServiceUUID),o=Se(n.btCharacteristicUUID),a=Se(n.baudRate);at(()=>n.wsUrl,k=>{s.value=k}),at(()=>n.btServiceUUID,k=>{r.value=k}),at(()=>n.btCharacteristicUUID,k=>{o.value=k}),at(()=>n.baudRate,k=>{a.value=k});const c=()=>{l("update:wsUrl",s.value)},f=()=>{l("update:btServiceUUID",r.value)},d=()=>{l("update:btCharacteristicUUID",o.value)},g=()=>{const k=Math.max(300,a.value||115200);a.value=k,l("update:baudRate",k)},b=k=>{const L=k.target;l("update:connectionType",L.value)},y={disconnected:"",connecting:"...",connected:"",error:""},w={disconnected:"bg-gray-500",connecting:"bg-yellow-500",connected:"bg-green-500",error:"bg-red-500"};return(k,L)=>(we(),Ce("header",{class:H(["border-b px-4 py-3 flex items-center justify-between",e.isDark?"bg-gray-800 border-gray-700":"bg-gray-100 border-gray-300"])},[S("div",ph,[S("h1",{class:H(["text-xl font-semibold",e.isDark?"text-white":"text-gray-900"])},"JustFloat ",2),S("span",{class:H(["text-xs",e.isDark?"text-gray-500":"text-gray-400"])},"Web Serial Protocol Analyzer",2)]),S("div",mh,[S("button",{class:H(["px-3 py-1.5 text-sm rounded",e.isDark?"bg-gray-700 hover:bg-gray-600 text-gray-300":"bg-white hover:bg-gray-200 text-gray-700"]),onClick:L[0]||(L[0]=O=>l("import"))},"  ",2),S("button",{class:H(["px-3 py-1.5 text-sm rounded",e.isDark?"bg-gray-700 hover:bg-gray-600 text-gray-300":"bg-white hover:bg-gray-200 text-gray-700"]),onClick:L[1]||(L[1]=O=>l("export"))},"  ",2),S("button",{class:H(["px-3 py-1.5 text-sm rounded",e.isDark?"bg-gray-700 hover:bg-gray-600 text-gray-300":"bg-white hover:bg-gray-200 text-gray-700"]),onClick:L[2]||(L[2]=O=>l("clear"))},"  ",2),S("button",{class:H(["p-1.5 rounded",e.isDark?"bg-gray-700 hover:bg-gray-600 text-gray-300":"bg-white hover:bg-gray-200 text-gray-700"]),onClick:L[3]||(L[3]=O=>l("toggleTheme")),title:""},[e.isDark?(we(),Ce("svg",bh,[...L[10]||(L[10]=[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1)])])):(we(),Ce("svg",vh,[...L[9]||(L[9]=[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1)])]))],2),S("div",{class:H(["w-px h-6 mx-2",e.isDark?"bg-gray-600":"bg-gray-400"])},null,2),S("select",{value:e.connectionType,class:H(["px-2 py-1.5 text-sm rounded border focus:outline-none focus:border-blue-500",e.isDark?"bg-gray-700 text-gray-300 border-gray-600":"bg-white text-gray-700 border-gray-300"]),disabled:e.status==="connected"||e.status==="connecting",onChange:b},[(we(!0),Ce(Tt,null,ql(me(hh),O=>(we(),Ce("option",{key:O.value,value:O.value},Te(O.label),9,xh))),128))],42,yh),e.connectionType==="serial"?(we(),Ce("div",wh,[qn(S("input",{"onUpdate:modelValue":L[4]||(L[4]=O=>a.value=O),type:"number",list:"baudRateList",min:"300",max:"4000000",placeholder:"115200",class:H(["px-2 py-1.5 text-sm rounded border focus:outline-none focus:border-blue-500 w-28",e.isDark?"bg-gray-700 text-gray-300 border-gray-600":"bg-white text-gray-700 border-gray-300"]),disabled:e.status==="connected"||e.status==="connecting",onBlur:g,onKeyup:Zn(g,["enter"])},null,42,Sh),[[Jn,a.value,void 0,{number:!0}]]),S("datalist",Ch,[(we(!0),Ce(Tt,null,ql(me(gh),O=>(we(),Ce("option",{key:O,value:O},null,8,kh))),128))]),S("span",{class:H(["text-xs",e.isDark?"text-gray-500":"text-gray-400"])},"bps",2)])):lt("",!0),e.connectionType==="websocket"?qn((we(),Ce("input",{key:1,"onUpdate:modelValue":L[5]||(L[5]=O=>s.value=O),type:"text",placeholder:"ws://localhost:8080",class:H(["px-2 py-1.5 text-sm rounded border focus:outline-none focus:border-blue-500 w-48",e.isDark?"bg-gray-700 text-gray-300 border-gray-600":"bg-white text-gray-700 border-gray-300"]),disabled:e.status==="connected"||e.status==="connecting",onBlur:c,onKeyup:Zn(c,["enter"])},null,42,Dh)),[[Jn,s.value]]):lt("",!0),e.connectionType==="bluetooth"?(we(),Ce(Tt,{key:2},[qn(S("input",{"onUpdate:modelValue":L[6]||(L[6]=O=>r.value=O),type:"text",placeholder:" UUID ( ffe0)",class:H(["px-2 py-1.5 text-sm rounded border focus:outline-none focus:border-blue-500 w-36",e.isDark?"bg-gray-700 text-gray-300 border-gray-600":"bg-white text-gray-700 border-gray-300"]),disabled:e.status==="connected"||e.status==="connecting",onBlur:f,onKeyup:Zn(f,["enter"])},null,42,Th),[[Jn,r.value]]),qn(S("input",{"onUpdate:modelValue":L[7]||(L[7]=O=>o.value=O),type:"text",placeholder:" UUID ( ffe1)",class:H(["px-2 py-1.5 text-sm rounded border focus:outline-none focus:border-blue-500 w-36",e.isDark?"bg-gray-700 text-gray-300 border-gray-600":"bg-white text-gray-700 border-gray-300"]),disabled:e.status==="connected"||e.status==="connecting",onBlur:d,onKeyup:Zn(d,["enter"])},null,42,Mh),[[Jn,o.value]])],64)):lt("",!0),S("div",{class:H(["w-px h-6 mx-2",e.isDark?"bg-gray-600":"bg-gray-400"])},null,2),S("div",Eh,[S("span",{class:H(["w-2 h-2 rounded-full",w[e.status]])},null,2),S("span",{class:H(["text-sm",e.isDark?"text-gray-400":"text-gray-600"])},Te(y[e.status]),3)]),e.isSupported?(we(),Ce("button",{key:3,class:H(["px-4 py-1.5 text-sm rounded",e.status==="connected"?"bg-red-600 hover:bg-red-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white"]),disabled:e.status==="connecting",onClick:L[8]||(L[8]=O=>l("connect"))},Te(e.status==="connected"?"":e.status==="connecting"?"...":""),11,_h)):(we(),Ce("span",{key:4,class:H(["text-sm",e.isDark?"text-red-400":"text-red-600"])},"  Web Serial API ",2))])],2))}});function _t(e,t=6){return isFinite(e)?e.toFixed(t):"-"}function Ia(e){return e>=1e6?(e/1e6).toFixed(2)+"M":e>=1e3?(e/1e3).toFixed(2)+"K":e.toString()}function Ph(e){if(e<1)return(e*1e3).toFixed(0)+" s";if(e<1e3)return e.toFixed(1)+" ms";if(e<6e4)return e.toFixed(2)+" s";const t=Math.floor(e/6e4),n=e%6e4/1e3;return`${t}:${n.toFixed(0).padStart(2,"0")} min`}function Rh(e){return e>=1e6?(e/1e6).toFixed(2)+" MHz":e>=1e3?(e/1e3).toFixed(2)+" kHz":e.toFixed(0)+" Hz"}function Fh(e,t){const n=JSON.stringify(e,null,2),l=new Blob([n],{type:"application/json"}),s=URL.createObjectURL(l),r=document.createElement("a");r.href=s,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(s)}function Ih(e){return new Promise((t,n)=>{const l=new FileReader;l.onload=s=>{var r;try{const o=JSON.parse((r=s.target)==null?void 0:r.result);t(o)}catch{n(new Error(" JSON "))}},l.onerror=()=>n(new Error("")),l.readAsText(e)})}const Lh={class:"relative"},Uh={class:"grid grid-cols-4 gap-1.5"},Oh=["onClick"],Vh=["title"],zh={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},$h={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Nh={key:0,class:"px-3 pb-2"},Bh={class:"text-yellow-500 text-xs"},Hh={class:"text-yellow-600 font-mono tabular-nums text-base font-semibold"},jh={key:0,class:"text-sm ml-1"},Wh={class:"grid grid-cols-4 gap-1 text-xs"},Kh={class:"text-center"},Gh={class:"text-green-500 font-mono tabular-nums"},Yh={class:"text-center"},qh={class:"text-red-500 font-mono tabular-nums"},Jh={class:"text-center"},Zh={class:"text-blue-500 font-mono tabular-nums"},Qh={class:"text-center"},Xh={class:"text-purple-500 font-mono tabular-nums"},eg={class:"grid grid-cols-2 gap-2"},tg={class:"text-yellow-500 text-xs"},ng={class:"text-yellow-600 font-mono tabular-nums text-base font-semibold"},lg={key:0,class:"text-sm ml-1"},sg={class:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs"},rg={class:"flex justify-between"},og={class:"text-green-500 font-mono tabular-nums"},ig={class:"flex justify-between"},ag={class:"text-red-500 font-mono tabular-nums"},cg={class:"flex justify-between"},ug={class:"text-blue-500 font-mono tabular-nums"},fg={class:"flex justify-between"},dg={class:"text-purple-500 font-mono tabular-nums"},hg={class:"flex gap-2 pt-2"},gg=ts({__name:"ChannelItem",props:{channel:{},stats:{},cursorValue:{},cursorIndex:{},isDark:{type:Boolean}},emits:["update","toggleVisibility"],setup(e,{emit:t}){const n=e,l=t,s=Se(!1),r=Se(!1),o=Se(n.channel.name),a=Se(n.channel.unit),c=Se(String(n.channel.coefficient)),f=Se(!1),d=Se(!1),g=Se(!1);at(()=>n.channel.name,E=>{f.value||(o.value=E)}),at(()=>n.channel.unit,E=>{d.value||(a.value=E)}),at(()=>n.channel.coefficient,E=>{g.value||(c.value=String(E))});const b=()=>{f.value=!1;const E=o.value||` ${n.channel.id+1}`;E!==n.channel.name&&l("update",{name:E})},y=()=>{d.value=!1,a.value!==n.channel.unit&&l("update",{unit:a.value})},w=()=>{g.value=!1;const E=parseFloat(c.value),P=!c.value||isNaN(E)||E===0?1:E;c.value=String(P),P!==n.channel.coefficient&&l("update",{coefficient:P})},k=ns(()=>n.stats?n.stats.max-n.stats.min:0),L=Pn,O=E=>{l("update",{color:E}),r.value=!1};return(E,P)=>(we(),Ce("div",{class:H(["rounded-lg border",e.channel.visible?e.isDark?"border-gray-600 bg-gray-700/50":"border-gray-300 bg-gray-50 shadow-sm":e.isDark?"border-gray-700 bg-gray-800/50 opacity-50":"border-gray-300 bg-gray-100 opacity-60"])},[S("div",{class:H(["flex items-center gap-2 px-3 py-2 cursor-pointer rounded-t-lg",e.isDark?"hover:bg-gray-700/50":"hover:bg-gray-200"]),onClick:P[3]||(P[3]=C=>s.value=!s.value)},[S("div",Lh,[S("button",{class:"w-3 h-3 rounded-full flex-shrink-0 ring-2 ring-transparent hover:ring-white/30",style:Xn({backgroundColor:e.channel.color}),onClick:P[0]||(P[0]=ir(C=>r.value=!r.value,["stop"])),title:""},null,4),r.value?(we(),Ce("div",{key:0,class:H(["absolute left-0 top-5 border rounded-lg p-2 z-20 shadow-xl",e.isDark?"bg-gray-800 border-gray-600":"bg-white border-gray-400 shadow-lg"]),onClick:P[1]||(P[1]=ir(()=>{},["stop"]))},[S("div",Uh,[(we(!0),Ce(Tt,null,ql(me(L),C=>(we(),Ce("button",{key:C,class:H(["w-5 h-5 rounded-full hover:scale-110",{"ring-2 ring-white":e.channel.color===C}]),style:Xn({backgroundColor:C}),onClick:ie=>O(C)},null,14,Oh))),128))])],2)):lt("",!0)]),S("span",{class:H(["flex-1 text-sm truncate",e.isDark?"text-white":"text-gray-900"])},[dn(Te(e.channel.name)+" ",1),e.channel.unit?(we(),Ce("span",{key:0,class:H(["text-xs ml-1",e.isDark?"text-gray-400":"text-gray-600"])},"("+Te(e.channel.unit)+")",3)):lt("",!0)],2),e.stats?(we(),Ce("span",{key:0,class:H(["text-sm font-mono tabular-nums",e.isDark?"text-gray-200":"text-gray-800"])},[dn(Te(me(_t)(e.stats.current,3))+" ",1),e.channel.unit?(we(),Ce("span",{key:0,class:H(["text-xs",e.isDark?"text-gray-500":"text-gray-600"])},Te(e.channel.unit),3)):lt("",!0)],2)):lt("",!0),S("button",{class:H(["p-1 rounded",[e.channel.visible?"text-blue-400":"text-gray-500",e.isDark?"hover:bg-gray-600":"hover:bg-gray-300"]]),onClick:P[2]||(P[2]=ir(C=>l("toggleVisibility"),["stop"])),title:e.channel.visible?"":""},[e.channel.visible?(we(),Ce("svg",zh,[...P[15]||(P[15]=[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])])):(we(),Ce("svg",$h,[...P[16]||(P[16]=[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},null,-1)])]))],10,Vh),(we(),Ce("svg",{class:H(["w-4 h-4",(e.isDark,"text-gray-500"),{"rotate-180":s.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...P[17]||(P[17]=[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))],2),e.stats&&!s.value?(we(),Ce("div",Nh,[e.cursorValue!=null?(we(),Ce("div",{key:0,class:H(["mb-2 flex items-center justify-between rounded px-2 py-1.5",e.isDark?"bg-gray-800/50":"bg-yellow-50 border border-yellow-200"])},[S("span",Bh,[P[18]||(P[18]=S("svg",{class:"w-3 h-3 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 15l-2 5L9 9l11 4-5 2z"})],-1)),dn("  ["+Te(e.cursorIndex)+"] ",1)]),S("span",Hh,[dn(Te(me(_t)(e.cursorValue))+" ",1),e.channel.unit?(we(),Ce("span",jh,Te(e.channel.unit),1)):lt("",!0)])],2)):lt("",!0),S("div",Wh,[S("div",Kh,[S("div",{class:H(e.isDark?"text-gray-500":"text-gray-600")},"",2),S("div",Gh,Te(me(_t)(e.stats.min,3)),1)]),S("div",Yh,[S("div",{class:H(e.isDark?"text-gray-500":"text-gray-600")},"",2),S("div",qh,Te(me(_t)(e.stats.max,3)),1)]),S("div",Jh,[S("div",{class:H(e.isDark?"text-gray-500":"text-gray-600")},"",2),S("div",Zh,Te(me(_t)(e.stats.avg,3)),1)]),S("div",Qh,[S("div",{class:H(e.isDark?"text-gray-500":"text-gray-600")},"",2),S("div",Xh,Te(me(_t)(k.value,3)),1)])])])):lt("",!0),s.value?(we(),Ce("div",{key:1,class:H(["px-3 pb-3 pt-1 space-y-3 border-t",e.isDark?"border-gray-700":"border-gray-300"])},[S("div",null,[S("label",{class:H(["block text-xs mb-1",e.isDark?"text-gray-500":"text-gray-600"])},"",2),qn(S("input",{type:"text","onUpdate:modelValue":P[4]||(P[4]=C=>o.value=C),class:H(["w-full rounded px-2 py-1.5 text-sm focus:outline-none focus:border-blue-500",e.isDark?"bg-gray-700 border border-gray-600 text-white":"bg-white border border-gray-400 text-gray-900"]),placeholder:"",onFocus:P[5]||(P[5]=C=>f.value=!0),onBlur:b,onKeyup:P[6]||(P[6]=Zn(C=>C.target.blur(),["enter"]))},null,34),[[Jn,o.value]])]),S("div",eg,[S("div",null,[S("label",{class:H(["block text-xs mb-1",e.isDark?"text-gray-500":"text-gray-600"])},"",2),qn(S("input",{type:"text","onUpdate:modelValue":P[7]||(P[7]=C=>a.value=C),placeholder:"V, A, C...",class:H(["w-full rounded px-2 py-1.5 text-sm focus:outline-none focus:border-blue-500",e.isDark?"bg-gray-700 border border-gray-600 text-white":"bg-white border border-gray-400 text-gray-900"]),onFocus:P[8]||(P[8]=C=>d.value=!0),onBlur:y,onKeyup:P[9]||(P[9]=Zn(C=>C.target.blur(),["enter"]))},null,34),[[Jn,a.value]])]),S("div",null,[S("label",{class:H(["block text-xs mb-1",e.isDark?"text-gray-500":"text-gray-600"])},"",2),qn(S("input",{type:"text","onUpdate:modelValue":P[10]||(P[10]=C=>c.value=C),placeholder:"1.0",class:H(["w-full rounded px-2 py-1.5 text-sm focus:outline-none focus:border-blue-500",e.isDark?"bg-gray-700 border border-gray-600 text-white":"bg-white border border-gray-400 text-gray-900"]),onFocus:P[11]||(P[11]=C=>g.value=!0),onBlur:w,onKeyup:P[12]||(P[12]=Zn(C=>C.target.blur(),["enter"]))},null,34),[[Jn,c.value]])])]),e.stats?(we(),Ce("div",{key:0,class:H(["pt-2 border-t",e.isDark?"border-gray-700":"border-gray-300"])},[S("div",{class:H(["text-xs mb-2",e.isDark?"text-gray-500":"text-gray-600"])},"",2),e.cursorValue!=null?(we(),Ce("div",{key:0,class:H(["mb-2 flex items-center justify-between rounded px-2 py-1.5 border",e.isDark?"bg-yellow-900/30 border-yellow-700/30":"bg-yellow-50 border-yellow-300"])},[S("span",tg,[P[19]||(P[19]=S("svg",{class:"w-3 h-3 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 15l-2 5L9 9l11 4-5 2z"})],-1)),dn("  ["+Te(e.cursorIndex)+"]: ",1)]),S("span",ng,[dn(Te(me(_t)(e.cursorValue))+" ",1),e.channel.unit?(we(),Ce("span",lg,Te(e.channel.unit),1)):lt("",!0)])],2)):lt("",!0),S("div",sg,[S("div",rg,[S("span",{class:H(e.isDark?"text-gray-500":"text-gray-600")},":",2),S("span",og,Te(me(_t)(e.stats.min)),1)]),S("div",ig,[S("span",{class:H(e.isDark?"text-gray-500":"text-gray-600")},":",2),S("span",ag,Te(me(_t)(e.stats.max)),1)]),S("div",cg,[S("span",{class:H(e.isDark?"text-gray-500":"text-gray-600")},":",2),S("span",ug,Te(me(_t)(e.stats.avg)),1)]),S("div",fg,[S("span",{class:H(e.isDark?"text-gray-500":"text-gray-600")},":",2),S("span",{class:H(["font-mono tabular-nums",e.isDark?"text-white":"text-gray-900"])},Te(me(_t)(e.stats.current)),3)]),S("div",{class:H(["flex justify-between col-span-2 pt-1 border-t mt-1",e.isDark?"border-gray-700":"border-gray-300"])},[S("span",{class:H(e.isDark?"text-gray-500":"text-gray-600")},":",2),S("span",dg,Te(me(_t)(k.value)),1)],2)])],2)):lt("",!0),S("div",hg,[S("button",{class:H(["flex-1 px-2 py-1 text-xs rounded text-white",e.channel.visible?e.isDark?"bg-gray-600 hover:bg-gray-500":"bg-gray-500 hover:bg-gray-600":"bg-blue-600 hover:bg-blue-500"]),onClick:P[13]||(P[13]=C=>l("toggleVisibility"))},Te(e.channel.visible?"":""),3),S("button",{class:H(["px-2 py-1 text-xs text-white rounded",e.isDark?"bg-gray-600 hover:bg-gray-500":"bg-gray-500 hover:bg-gray-600"]),onClick:P[14]||(P[14]=C=>l("update",{name:` ${e.channel.id+1}`,unit:"",coefficient:1})),title:""},"  ",2)])],2)):lt("",!0)],2))}}),pg={class:"mb-3"},mg=["value"],vg=["value"],bg=["min","max"],yg={class:"flex-1 overflow-y-auto p-4"},xg={key:1,class:"space-y-2"},wg=ts({__name:"SidePanel",props:{bufferSize:{},protocol:{},channels:{},channelCount:{},cursorValues:{},cursorIndex:{},getChannelStats:{type:Function},isDark:{type:Boolean}},emits:["update:bufferSize","update:protocol","updateChannel","toggleVisibility"],setup(e,{emit:t}){const n=e,l=t,s=Se(n.bufferSize),r=Se(!1);at(()=>n.bufferSize,f=>{r.value||(s.value=f)});const o=()=>{r.value=!1;const f=Math.max(_s,Math.min(As,s.value));s.value=f,l("update:bufferSize",f)},a=ns(()=>n.channels.slice(0,n.channelCount)),c=f=>!n.cursorValues||f>=n.cursorValues.length?null:n.cursorValues[f];return(f,d)=>{var g;return we(),Ce("aside",{class:H(["w-72 flex-shrink-0 border-r flex flex-col overflow-hidden",e.isDark?"bg-gray-800 border-gray-700":"bg-white border-gray-300"])},[S("div",{class:H(["p-4 border-b",e.isDark?"border-gray-700":"border-gray-300"])},[S("h2",{class:H(["text-sm font-semibold mb-3",e.isDark?"text-gray-400":"text-gray-700"])},"",2),S("div",pg,[S("label",{class:H(["block text-xs mb-1",e.isDark?"text-gray-500":"text-gray-600"])},"",2),S("select",{value:e.protocol,class:H(["w-full rounded px-3 py-1.5 text-sm focus:outline-none focus:border-blue-500",e.isDark?"bg-gray-700 border border-gray-600 text-white":"bg-white border border-gray-400 text-gray-900"]),onChange:d[0]||(d[0]=b=>l("update:protocol",b.target.value))},[(we(!0),Ce(Tt,null,ql(me(Fa),b=>(we(),Ce("option",{key:b.value,value:b.value},Te(b.label),9,vg))),128))],42,mg),S("div",{class:H(["text-xs mt-1",e.isDark?"text-gray-600":"text-gray-500"])},Te((g=me(Fa).find(b=>b.value===e.protocol))==null?void 0:g.description),3)]),S("div",null,[S("label",{class:H(["block text-xs mb-1",e.isDark?"text-gray-500":"text-gray-600"])},"  ("+Te(me(_s).toLocaleString())+" - "+Te(me(As).toLocaleString())+") ",3),qn(S("input",{type:"number","onUpdate:modelValue":d[1]||(d[1]=b=>s.value=b),min:me(_s),max:me(As),step:"1000",class:H(["w-full rounded px-3 py-1.5 text-sm focus:outline-none focus:border-blue-500",e.isDark?"bg-gray-700 border border-gray-600 text-white":"bg-white border border-gray-400 text-gray-900"]),onFocus:d[2]||(d[2]=b=>r.value=!0),onBlur:o,onKeydown:d[3]||(d[3]=Zn(b=>b.target.blur(),["enter"]))},null,42,bg),[[Jn,s.value,void 0,{number:!0}]])])],2),S("div",yg,[S("h2",{class:H(["text-sm font-semibold mb-3",e.isDark?"text-gray-400":"text-gray-700"])},"  ("+Te(e.channelCount)+") ",3),e.channelCount===0?(we(),Ce("div",{key:0,class:H(["text-sm text-center py-4",(e.isDark,"text-gray-500")])}," ... ",2)):(we(),Ce("div",xg,[(we(!0),Ce(Tt,null,ql(a.value,b=>(we(),wu(gg,{key:b.id,channel:b,stats:e.getChannelStats(b.id),"cursor-value":c(b.id),"cursor-index":e.cursorIndex,"is-dark":e.isDark,onUpdate:y=>l("updateChannel",b.id,y),onToggleVisibility:y=>l("toggleVisibility",b.id)},null,8,["channel","stats","cursor-value","cursor-index","is-dark","onUpdate","onToggleVisibility"]))),128))]))])],2)}}}),Sg=!0,gt="u-",Cg="uplot",kg=gt+"hz",Dg=gt+"vt",Tg=gt+"title",Mg=gt+"wrap",Eg=gt+"under",_g=gt+"over",Ag=gt+"axis",vl=gt+"off",Pg=gt+"select",Rg=gt+"cursor-x",Fg=gt+"cursor-y",Ig=gt+"cursor-pt",Lg=gt+"legend",Ug=gt+"live",Og=gt+"inline",Vg=gt+"series",zg=gt+"marker",La=gt+"label",$g=gt+"value",ys="width",xs="height",ps="top",Ua="bottom",zl="left",bo="right",di="#000",Oa=di+"0",yo="mousemove",Va="mousedown",xo="mouseup",za="mouseenter",$a="mouseleave",Na="dblclick",Ng="resize",Bg="scroll",Ba="change",pr="dppxchange",hi="--",ls=typeof window<"u",Oo=ls?document:null,Gl=ls?window:null,Hg=ls?navigator:null;let $e,er;function Vo(){let e=devicePixelRatio;$e!=e&&($e=e,er&&$o(Ba,er,Vo),er=matchMedia(`(min-resolution: ${$e-.001}dppx) and (max-resolution: ${$e+.001}dppx)`),xl(Ba,er,Vo),Gl.dispatchEvent(new CustomEvent(pr)))}function Gt(e,t){if(t!=null){let n=e.classList;!n.contains(t)&&n.add(t)}}function zo(e,t){let n=e.classList;n.contains(t)&&n.remove(t)}function et(e,t,n){e.style[t]=n+"px"}function un(e,t,n,l){let s=Oo.createElement(e);return t!=null&&Gt(s,t),n!=null&&n.insertBefore(s,l),s}function nn(e,t){return un("div",e,t)}const Ha=new WeakMap;function Sn(e,t,n,l,s){let r="translate("+t+"px,"+n+"px)",o=Ha.get(e);r!=o&&(e.style.transform=r,Ha.set(e,r),t<0||n<0||t>l||n>s?Gt(e,vl):zo(e,vl))}const ja=new WeakMap;function Wa(e,t,n){let l=t+n,s=ja.get(e);l!=s&&(ja.set(e,l),e.style.background=t,e.style.borderColor=n)}const Ka=new WeakMap;function Ga(e,t,n,l){let s=t+""+n,r=Ka.get(e);s!=r&&(Ka.set(e,s),e.style.height=n+"px",e.style.width=t+"px",e.style.marginLeft=l?-t/2+"px":0,e.style.marginTop=l?-n/2+"px":0)}const gi={passive:!0},jg={...gi,capture:!0};function xl(e,t,n,l){t.addEventListener(e,n,l?jg:gi)}function $o(e,t,n,l){t.removeEventListener(e,n,gi)}ls&&Vo();function fn(e,t,n,l){let s;n=n||0,l=l||t.length-1;let r=l<=2147483647;for(;l-n>1;)s=r?n+l>>1:Jt((n+l)/2),t[s]<e?n=s:l=s;return e-t[n]<=t[l]-e?n:l}function Mu(e){return(n,l,s)=>{let r=-1,o=-1;for(let a=l;a<=s;a++)if(e(n[a])){r=a;break}for(let a=s;a>=l;a--)if(e(n[a])){o=a;break}return[r,o]}}const Eu=e=>e!=null,_u=e=>e!=null&&e>0,_r=Mu(Eu),Wg=Mu(_u);function Kg(e,t,n,l=0,s=!1){let r=s?Wg:_r,o=s?_u:Eu;[t,n]=r(e,t,n);let a=e[t],c=e[t];if(t>-1)if(l==1)a=e[t],c=e[n];else if(l==-1)a=e[n],c=e[t];else for(let f=t;f<=n;f++){let d=e[f];o(d)&&(d<a?a=d:d>c&&(c=d))}return[a??Ke,c??-Ke]}function Ar(e,t,n,l){let s=Ja(e),r=Ja(t);e==t&&(s==-1?(e*=n,t/=n):(e/=n,t*=n));let o=n==10?In:Au,a=s==1?Jt:ln,c=r==1?ln:Jt,f=a(o(ht(e))),d=c(o(ht(t))),g=Zl(n,f),b=Zl(n,d);return n==10&&(f<0&&(g=Ge(g,-f)),d<0&&(b=Ge(b,-d))),l||n==2?(e=g*s,t=b*r):(e=Iu(e,g),t=Pr(t,b)),[e,t]}function pi(e,t,n,l){let s=Ar(e,t,n,l);return e==0&&(s[0]=0),t==0&&(s[1]=0),s}const mi=.1,Ya={mode:3,pad:mi},Ps={pad:0,soft:null,mode:0},Gg={min:Ps,max:Ps};function mr(e,t,n,l){return Rr(n)?qa(e,t,n):(Ps.pad=n,Ps.soft=l?0:null,Ps.mode=l?3:0,qa(e,t,Gg))}function Ve(e,t){return e??t}function Yg(e,t,n){for(t=Ve(t,0),n=Ve(n,e.length-1);t<=n;){if(e[t]!=null)return!0;t++}return!1}function qa(e,t,n){let l=n.min,s=n.max,r=Ve(l.pad,0),o=Ve(s.pad,0),a=Ve(l.hard,-Ke),c=Ve(s.hard,Ke),f=Ve(l.soft,Ke),d=Ve(s.soft,-Ke),g=Ve(l.mode,0),b=Ve(s.mode,0),y=t-e,w=In(y),k=zt(ht(e),ht(t)),L=In(k),O=ht(L-w);(y<1e-24||O>10)&&(y=0,(e==0||t==0)&&(y=1e-24,g==2&&f!=Ke&&(r=0),b==2&&d!=-Ke&&(o=0)));let E=y||k||1e3,P=In(E),C=Zl(10,Jt(P)),ie=E*(y==0?e==0?.1:1:r),te=Ge(Iu(e-ie,C/10),24),ve=e>=f&&(g==1||g==3&&te<=f||g==2&&te>=f)?f:Ke,he=zt(a,te<ve&&e>=ve?ve:hn(ve,te)),be=E*(y==0?t==0?.1:1:o),G=Ge(Pr(t+be,C/10),24),F=t<=d&&(b==1||b==3&&G>=d||b==2&&G<=d)?d:-Ke,Z=hn(c,G>F&&t<=F?F:zt(F,G));return he==Z&&he==0&&(Z=100),[he,Z]}const qg=new Intl.NumberFormat(ls?Hg.language:"en-US"),vi=e=>qg.format(e),Zt=Math,ar=Zt.PI,ht=Zt.abs,Jt=Zt.floor,dt=Zt.round,ln=Zt.ceil,hn=Zt.min,zt=Zt.max,Zl=Zt.pow,Ja=Zt.sign,In=Zt.log10,Au=Zt.log2,Jg=(e,t=1)=>Zt.sinh(e)*t,wo=(e,t=1)=>Zt.asinh(e/t),Ke=1/0;function Za(e){return(In((e^e>>31)-(e>>31))|0)+1}function No(e,t,n){return hn(zt(e,t),n)}function Pu(e){return typeof e=="function"}function Ue(e){return Pu(e)?e:()=>e}const Zg=()=>{},Ru=e=>e,Fu=(e,t)=>t,Qg=e=>null,Qa=e=>!0,Xa=(e,t)=>e==t,Xg=/\.\d*?(?=9{6,}|0{6,})/gm,wl=e=>{if(Uu(e)||nl.has(e))return e;const t=`${e}`,n=t.match(Xg);if(n==null)return e;let l=n[0].length-1;if(t.indexOf("e-")!=-1){let[s,r]=t.split("e");return+`${wl(s)}e${r}`}return Ge(e,l)};function pl(e,t){return wl(Ge(wl(e/t))*t)}function Pr(e,t){return wl(ln(wl(e/t))*t)}function Iu(e,t){return wl(Jt(wl(e/t))*t)}function Ge(e,t=0){if(Uu(e))return e;let n=10**t,l=e*n*(1+Number.EPSILON);return dt(l)/n}const nl=new Map;function Lu(e){return((""+e).split(".")[1]||"").length}function zs(e,t,n,l){let s=[],r=l.map(Lu);for(let o=t;o<n;o++){let a=ht(o),c=Ge(Zl(e,o),a);for(let f=0;f<l.length;f++){let d=e==10?+`${l[f]}e${o}`:l[f]*c,g=(o>=0?0:a)+(o>=r[f]?0:r[f]),b=e==10?d:Ge(d,g);s.push(b),nl.set(b,g)}}return s}const Rs={},bi=[],Ql=[null,null],Yn=Array.isArray,Uu=Number.isInteger,ep=e=>e===void 0;function ec(e){return typeof e=="string"}function Rr(e){let t=!1;if(e!=null){let n=e.constructor;t=n==null||n==Object}return t}function tp(e){return e!=null&&typeof e=="object"}const np=Object.getPrototypeOf(Uint8Array),Ou="__proto__";function Xl(e,t=Rr){let n;if(Yn(e)){let l=e.find(s=>s!=null);if(Yn(l)||t(l)){n=Array(e.length);for(let s=0;s<e.length;s++)n[s]=Xl(e[s],t)}else n=e.slice()}else if(e instanceof np)n=e.slice();else if(t(e)){n={};for(let l in e)l!=Ou&&(n[l]=Xl(e[l],t))}else n=e;return n}function ut(e){let t=arguments;for(let n=1;n<t.length;n++){let l=t[n];for(let s in l)s!=Ou&&(Rr(e[s])?ut(e[s],Xl(l[s])):e[s]=Xl(l[s]))}return e}const lp=0,sp=1,rp=2;function op(e,t,n){for(let l=0,s,r=-1;l<t.length;l++){let o=t[l];if(o>r){for(s=o-1;s>=0&&e[s]==null;)e[s--]=null;for(s=o+1;s<n&&e[s]==null;)e[r=s++]=null}}}function ip(e,t){if(up(e)){let o=e[0].slice();for(let a=1;a<e.length;a++)o.push(...e[a].slice(1));return fp(o[0])||(o=cp(o)),o}let n=new Set;for(let o=0;o<e.length;o++){let c=e[o][0],f=c.length;for(let d=0;d<f;d++)n.add(c[d])}let l=[Array.from(n).sort((o,a)=>o-a)],s=l[0].length,r=new Map;for(let o=0;o<s;o++)r.set(l[0][o],o);for(let o=0;o<e.length;o++){let a=e[o],c=a[0];for(let f=1;f<a.length;f++){let d=a[f],g=Array(s).fill(void 0),b=t?t[o][f]:sp,y=[];for(let w=0;w<d.length;w++){let k=d[w],L=r.get(c[w]);k===null?b!=lp&&(g[L]=k,b==rp&&y.push(L)):g[L]=k}op(g,y,s),l.push(g)}}return l}const ap=typeof queueMicrotask>"u"?e=>Promise.resolve().then(e):queueMicrotask;function cp(e){let t=e[0],n=t.length,l=Array(n);for(let r=0;r<l.length;r++)l[r]=r;l.sort((r,o)=>t[r]-t[o]);let s=[];for(let r=0;r<e.length;r++){let o=e[r],a=Array(n);for(let c=0;c<n;c++)a[c]=o[l[c]];s.push(a)}return s}function up(e){let t=e[0][0],n=t.length;for(let l=1;l<e.length;l++){let s=e[l][0];if(s.length!=n)return!1;if(s!=t){for(let r=0;r<n;r++)if(s[r]!=t[r])return!1}}return!0}function fp(e,t=100){const n=e.length;if(n<=1)return!0;let l=0,s=n-1;for(;l<=s&&e[l]==null;)l++;for(;s>=l&&e[s]==null;)s--;if(s<=l)return!0;const r=zt(1,Jt((s-l+1)/t));for(let o=e[l],a=l+r;a<=s;a+=r){const c=e[a];if(c!=null){if(c<=o)return!1;o=c}}return!0}const Vu=["January","February","March","April","May","June","July","August","September","October","November","December"],zu=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function $u(e){return e.slice(0,3)}const dp=zu.map($u),hp=Vu.map($u),gp={MMMM:Vu,MMM:hp,WWWW:zu,WWW:dp};function ms(e){return(e<10?"0":"")+e}function pp(e){return(e<10?"00":e<100?"0":"")+e}const mp={YYYY:e=>e.getFullYear(),YY:e=>(e.getFullYear()+"").slice(2),MMMM:(e,t)=>t.MMMM[e.getMonth()],MMM:(e,t)=>t.MMM[e.getMonth()],MM:e=>ms(e.getMonth()+1),M:e=>e.getMonth()+1,DD:e=>ms(e.getDate()),D:e=>e.getDate(),WWWW:(e,t)=>t.WWWW[e.getDay()],WWW:(e,t)=>t.WWW[e.getDay()],HH:e=>ms(e.getHours()),H:e=>e.getHours(),h:e=>{let t=e.getHours();return t==0?12:t>12?t-12:t},AA:e=>e.getHours()>=12?"PM":"AM",aa:e=>e.getHours()>=12?"pm":"am",a:e=>e.getHours()>=12?"p":"a",mm:e=>ms(e.getMinutes()),m:e=>e.getMinutes(),ss:e=>ms(e.getSeconds()),s:e=>e.getSeconds(),fff:e=>pp(e.getMilliseconds())};function yi(e,t){t=t||gp;let n=[],l=/\{([a-z]+)\}|[^{]+/gi,s;for(;s=l.exec(e);)n.push(s[0][0]=="{"?mp[s[1]]:s[0]);return r=>{let o="";for(let a=0;a<n.length;a++)o+=typeof n[a]=="string"?n[a]:n[a](r,t);return o}}const vp=new Intl.DateTimeFormat().resolvedOptions().timeZone;function bp(e,t){let n;return t=="UTC"||t=="Etc/UTC"?n=new Date(+e+e.getTimezoneOffset()*6e4):t==vp?n=e:(n=new Date(e.toLocaleString("en-US",{timeZone:t})),n.setMilliseconds(e.getMilliseconds())),n}const Nu=e=>e%1==0,vr=[1,2,2.5,5],yp=zs(10,-32,0,vr),Bu=zs(10,0,32,vr),xp=Bu.filter(Nu),ml=yp.concat(Bu),xi=`
`,Hu="{YYYY}",tc=xi+Hu,ju="{M}/{D}",ws=xi+ju,tr=ws+"/{YY}",Wu="{aa}",wp="{h}:{mm}",Bl=wp+Wu,nc=xi+Bl,lc=":{ss}",Ne=null;function Ku(e){let t=e*1e3,n=t*60,l=n*60,s=l*24,r=s*30,o=s*365,c=(e==1?zs(10,0,3,vr).filter(Nu):zs(10,-3,0,vr)).concat([t,t*5,t*10,t*15,t*30,n,n*5,n*10,n*15,n*30,l,l*2,l*3,l*4,l*6,l*8,l*12,s,s*2,s*3,s*4,s*5,s*6,s*7,s*8,s*9,s*10,s*15,r,r*2,r*3,r*4,r*6,o,o*2,o*5,o*10,o*25,o*50,o*100]);const f=[[o,Hu,Ne,Ne,Ne,Ne,Ne,Ne,1],[s*28,"{MMM}",tc,Ne,Ne,Ne,Ne,Ne,1],[s,ju,tc,Ne,Ne,Ne,Ne,Ne,1],[l,"{h}"+Wu,tr,Ne,ws,Ne,Ne,Ne,1],[n,Bl,tr,Ne,ws,Ne,Ne,Ne,1],[t,lc,tr+" "+Bl,Ne,ws+" "+Bl,Ne,nc,Ne,1],[e,lc+".{fff}",tr+" "+Bl,Ne,ws+" "+Bl,Ne,nc,Ne,1]];function d(g){return(b,y,w,k,L,O)=>{let E=[],P=L>=o,C=L>=r&&L<o,ie=g(w),te=Ge(ie*e,3),ve=So(ie.getFullYear(),P?0:ie.getMonth(),C||P?1:ie.getDate()),he=Ge(ve*e,3);if(C||P){let be=C?L/r:0,G=P?L/o:0,F=te==he?te:Ge(So(ve.getFullYear()+G,ve.getMonth()+be,1)*e,3),Z=new Date(dt(F/e)),I=Z.getFullYear(),B=Z.getMonth();for(let $=0;F<=k;$++){let _=So(I+G*$,B+be*$,1),A=_-g(Ge(_*e,3));F=Ge((+_+A)*e,3),F<=k&&E.push(F)}}else{let be=L>=s?s:L,G=Jt(w)-Jt(te),F=he+G+Pr(te-he,be);E.push(F);let Z=g(F),I=Z.getHours()+Z.getMinutes()/n+Z.getSeconds()/l,B=L/l,$=b.axes[y]._space,_=O/$;for(;F=Ge(F+L,e==1?0:3),!(F>k);)if(B>1){let A=Jt(Ge(I+B,6))%24,re=g(F).getHours()-A;re>1&&(re=-1),F-=re*l,I=(I+B)%24;let ce=E[E.length-1];Ge((F-ce)/L,3)*_>=.7&&E.push(F)}else E.push(F)}return E}}return[c,f,d]}const[Sp,Cp,kp]=Ku(1),[Dp,Tp,Mp]=Ku(.001);zs(2,-53,53,[1]);function sc(e,t){return e.map(n=>n.map((l,s)=>s==0||s==8||l==null?l:t(s==1||n[8]==0?l:n[1]+l)))}function rc(e,t){return(n,l,s,r,o)=>{let a=t.find(w=>o>=w[0])||t[t.length-1],c,f,d,g,b,y;return l.map(w=>{let k=e(w),L=k.getFullYear(),O=k.getMonth(),E=k.getDate(),P=k.getHours(),C=k.getMinutes(),ie=k.getSeconds(),te=L!=c&&a[2]||O!=f&&a[3]||E!=d&&a[4]||P!=g&&a[5]||C!=b&&a[6]||ie!=y&&a[7]||a[1];return c=L,f=O,d=E,g=P,b=C,y=ie,te(k)})}}function Ep(e,t){let n=yi(t);return(l,s,r,o,a)=>s.map(c=>n(e(c)))}function So(e,t,n){return new Date(e,t,n)}function oc(e,t){return t(e)}const _p="{YYYY}-{MM}-{DD} {h}:{mm}{aa}";function ic(e,t){return(n,l,s,r)=>r==null?hi:t(e(l))}function Ap(e,t){let n=e.series[t];return n.width?n.stroke(e,t):n.points.width?n.points.stroke(e,t):null}function Pp(e,t){return e.series[t].fill(e,t)}const Rp={show:!0,live:!0,isolate:!1,mount:Zg,markers:{show:!0,width:2,stroke:Ap,fill:Pp,dash:"solid"},idx:null,idxs:null,values:[]};function Fp(e,t){let n=e.cursor.points,l=nn(),s=n.size(e,t);et(l,ys,s),et(l,xs,s);let r=s/-2;et(l,"marginLeft",r),et(l,"marginTop",r);let o=n.width(e,t,s);return o&&et(l,"borderWidth",o),l}function Ip(e,t){let n=e.series[t].points;return n._fill||n._stroke}function Lp(e,t){let n=e.series[t].points;return n._stroke||n._fill}function Up(e,t){return e.series[t].points.size}const Co=[0,0];function Op(e,t,n){return Co[0]=t,Co[1]=n,Co}function nr(e,t,n,l=!0){return s=>{s.button==0&&(!l||s.target==t)&&n(s)}}function ko(e,t,n,l=!0){return s=>{(!l||s.target==t)&&n(s)}}const Vp={show:!0,x:!0,y:!0,lock:!1,move:Op,points:{one:!1,show:Fp,size:Up,width:0,stroke:Lp,fill:Ip},bind:{mousedown:nr,mouseup:nr,click:nr,dblclick:nr,mousemove:ko,mouseleave:ko,mouseenter:ko},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,click:(e,t)=>{t.stopPropagation(),t.stopImmediatePropagation()},_x:!1,_y:!1},focus:{dist:(e,t,n,l,s)=>l-s,prox:-1,bias:0},hover:{skip:[void 0],prox:null,bias:0},left:-10,top:-10,idx:null,dataIdx:null,idxs:null,event:null},Gu={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},wi=ut({},Gu,{filter:Fu}),Yu=ut({},wi,{size:10}),qu=ut({},Gu,{show:!1}),Si='12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',Ju="bold "+Si,Zu=1.5,ac={show:!0,scale:"x",stroke:di,space:50,gap:5,alignTo:1,size:50,labelGap:0,labelSize:30,labelFont:Ju,side:2,grid:wi,ticks:Yu,border:qu,font:Si,lineGap:Zu,rotate:0},zp="Value",$p="Time",cc={show:!0,scale:"x",auto:!1,sorted:1,min:Ke,max:-Ke,idxs:[]};function Np(e,t,n,l,s){return t.map(r=>r==null?"":vi(r))}function Bp(e,t,n,l,s,r,o){let a=[],c=nl.get(s)||0;n=o?n:Ge(Pr(n,s),c);for(let f=n;f<=l;f=Ge(f+s,c))a.push(Object.is(f,-0)?0:f);return a}function Bo(e,t,n,l,s,r,o){const a=[],c=e.scales[e.axes[t].scale].log,f=c==10?In:Au,d=Jt(f(n));s=Zl(c,d),c==10&&(s=ml[fn(s,ml)]);let g=n,b=s*c;c==10&&(b=ml[fn(b,ml)]);do a.push(g),g=g+s,c==10&&!nl.has(g)&&(g=Ge(g,nl.get(s))),g>=b&&(s=g,b=s*c,c==10&&(b=ml[fn(b,ml)]));while(g<=l);return a}function Hp(e,t,n,l,s,r,o){let c=e.scales[e.axes[t].scale].asinh,f=l>c?Bo(e,t,zt(c,n),l,s):[c],d=l>=0&&n<=0?[0]:[];return(n<-c?Bo(e,t,zt(c,-l),-n,s):[c]).reverse().map(b=>-b).concat(d,f)}const Qu=/./,jp=/[12357]/,Wp=/[125]/,uc=/1/,Ho=(e,t,n,l)=>e.map((s,r)=>t==4&&s==0||r%l==0&&n.test(s.toExponential()[s<0?1:0])?s:null);function Kp(e,t,n,l,s){let r=e.axes[n],o=r.scale,a=e.scales[o],c=e.valToPos,f=r._space,d=c(10,o),g=c(9,o)-d>=f?Qu:c(7,o)-d>=f?jp:c(5,o)-d>=f?Wp:uc;if(g==uc){let b=ht(c(1,o)-d);if(b<f)return Ho(t.slice().reverse(),a.distr,g,ln(f/b)).reverse()}return Ho(t,a.distr,g,1)}function Gp(e,t,n,l,s){let r=e.axes[n],o=r.scale,a=r._space,c=e.valToPos,f=ht(c(1,o)-c(2,o));return f<a?Ho(t.slice().reverse(),3,Qu,ln(a/f)).reverse():t}function Yp(e,t,n,l){return l==null?hi:t==null?"":vi(t)}const fc={show:!0,scale:"y",stroke:di,space:30,gap:5,alignTo:1,size:50,labelGap:0,labelSize:30,labelFont:Ju,side:3,grid:wi,ticks:Yu,border:qu,font:Si,lineGap:Zu,rotate:0};function qp(e,t){let n=3+(e||1)*2;return Ge(n*t,3)}function Jp(e,t){let{scale:n,idxs:l}=e.series[0],s=e._data[0],r=e.valToPos(s[l[0]],n,!0),o=e.valToPos(s[l[1]],n,!0),a=ht(o-r),c=e.series[t],f=a/(c.points.space*$e);return l[1]-l[0]<=f}const dc={scale:null,auto:!0,sorted:0,min:Ke,max:-Ke},Xu=(e,t,n,l,s)=>s,hc={show:!0,auto:!0,sorted:0,gaps:Xu,alpha:1,facets:[ut({},dc,{scale:"x"}),ut({},dc,{scale:"y"})]},gc={scale:"y",auto:!0,sorted:0,show:!0,spanGaps:!1,gaps:Xu,alpha:1,points:{show:Jp,filter:null},values:null,min:Ke,max:-Ke,idxs:[],path:null,clip:null};function Zp(e,t,n,l,s){return n/10}const ef={time:Sg,auto:!0,distr:1,log:10,asinh:1,min:null,max:null,dir:1,ori:0},Qp=ut({},ef,{time:!1,ori:1}),pc={};function tf(e,t){let n=pc[e];return n||(n={key:e,plots:[],sub(l){n.plots.push(l)},unsub(l){n.plots=n.plots.filter(s=>s!=l)},pub(l,s,r,o,a,c,f){for(let d=0;d<n.plots.length;d++)n.plots[d]!=s&&n.plots[d].pub(l,s,r,o,a,c,f)}},e!=null&&(pc[e]=n)),n}const es=1,jo=2;function Sl(e,t,n){const l=e.mode,s=e.series[t],r=l==2?e._data[t]:e._data,o=e.scales,a=e.bbox;let c=r[0],f=l==2?r[1]:r[t],d=l==2?o[s.facets[0].scale]:o[e.series[0].scale],g=l==2?o[s.facets[1].scale]:o[s.scale],b=a.left,y=a.top,w=a.width,k=a.height,L=e.valToPosH,O=e.valToPosV;return d.ori==0?n(s,c,f,d,g,L,O,b,y,w,k,Ir,ss,Ur,lf,rf):n(s,c,f,d,g,O,L,y,b,k,w,Lr,rs,Di,sf,of)}function Ci(e,t){let n=0,l=0,s=Ve(e.bands,bi);for(let r=0;r<s.length;r++){let o=s[r];o.series[0]==t?n=o.dir:o.series[1]==t&&(o.dir==1?l|=1:l|=2)}return[n,l==1?-1:l==2?1:l==3?2:0]}function Xp(e,t,n,l,s){let r=e.mode,o=e.series[t],a=r==2?o.facets[1].scale:o.scale,c=e.scales[a];return s==-1?c.min:s==1?c.max:c.distr==3?c.dir==1?c.min:c.max:0}function Ln(e,t,n,l,s,r){return Sl(e,t,(o,a,c,f,d,g,b,y,w,k,L)=>{let O=o.pxRound;const E=f.dir*(f.ori==0?1:-1),P=f.ori==0?ss:rs;let C,ie;E==1?(C=n,ie=l):(C=l,ie=n);let te=O(g(a[C],f,k,y)),ve=O(b(c[C],d,L,w)),he=O(g(a[ie],f,k,y)),be=O(b(r==1?d.max:d.min,d,L,w)),G=new Path2D(s);return P(G,he,be),P(G,te,be),P(G,te,ve),G})}function Fr(e,t,n,l,s,r){let o=null;if(e.length>0){o=new Path2D;const a=t==0?Ur:Di;let c=n;for(let g=0;g<e.length;g++){let b=e[g];if(b[1]>b[0]){let y=b[0]-c;y>0&&a(o,c,l,y,l+r),c=b[1]}}let f=n+s-c,d=10;f>0&&a(o,c,l-d/2,f,l+r+d)}return o}function em(e,t,n){let l=e[e.length-1];l&&l[0]==t?l[1]=n:e.push([t,n])}function ki(e,t,n,l,s,r,o){let a=[],c=e.length;for(let f=s==1?n:l;f>=n&&f<=l;f+=s)if(t[f]===null){let g=f,b=f;if(s==1)for(;++f<=l&&t[f]===null;)b=f;else for(;--f>=n&&t[f]===null;)b=f;let y=r(e[g]),w=b==g?y:r(e[b]),k=g-s;y=o<=0&&k>=0&&k<c?r(e[k]):y;let O=b+s;w=o>=0&&O>=0&&O<c?r(e[O]):w,w>=y&&a.push([y,w])}return a}function mc(e){return e==0?Ru:e==1?dt:t=>pl(t,e)}function nf(e){let t=e==0?Ir:Lr,n=e==0?(s,r,o,a,c,f)=>{s.arcTo(r,o,a,c,f)}:(s,r,o,a,c,f)=>{s.arcTo(o,r,c,a,f)},l=e==0?(s,r,o,a,c)=>{s.rect(r,o,a,c)}:(s,r,o,a,c)=>{s.rect(o,r,c,a)};return(s,r,o,a,c,f=0,d=0)=>{f==0&&d==0?l(s,r,o,a,c):(f=hn(f,a/2,c/2),d=hn(d,a/2,c/2),t(s,r+f,o),n(s,r+a,o,r+a,o+c,f),n(s,r+a,o+c,r,o+c,d),n(s,r,o+c,r,o,d),n(s,r,o,r+a,o,f),s.closePath())}}const Ir=(e,t,n)=>{e.moveTo(t,n)},Lr=(e,t,n)=>{e.moveTo(n,t)},ss=(e,t,n)=>{e.lineTo(t,n)},rs=(e,t,n)=>{e.lineTo(n,t)},Ur=nf(0),Di=nf(1),lf=(e,t,n,l,s,r)=>{e.arc(t,n,l,s,r)},sf=(e,t,n,l,s,r)=>{e.arc(n,t,l,s,r)},rf=(e,t,n,l,s,r,o)=>{e.bezierCurveTo(t,n,l,s,r,o)},of=(e,t,n,l,s,r,o)=>{e.bezierCurveTo(n,t,s,l,o,r)};function af(e){return(t,n,l,s,r)=>Sl(t,n,(o,a,c,f,d,g,b,y,w,k,L)=>{let{pxRound:O,points:E}=o,P,C;f.ori==0?(P=Ir,C=lf):(P=Lr,C=sf);const ie=Ge(E.width*$e,3);let te=(E.size-E.width)/2*$e,ve=Ge(te*2,3),he=new Path2D,be=new Path2D,{left:G,top:F,width:Z,height:I}=t.bbox;Ur(be,G-ve,F-ve,Z+ve*2,I+ve*2);const B=$=>{if(c[$]!=null){let _=O(g(a[$],f,k,y)),A=O(b(c[$],d,L,w));P(he,_+te,A),C(he,_,A,te,0,ar*2)}};if(r)r.forEach(B);else for(let $=l;$<=s;$++)B($);return{stroke:ie>0?he:null,fill:he,clip:be,flags:es|jo}})}function cf(e){return(t,n,l,s,r,o)=>{l!=s&&(r!=l&&o!=l&&e(t,n,l),r!=s&&o!=s&&e(t,n,s),e(t,n,o))}}const tm=cf(ss),nm=cf(rs);function uf(e){const t=Ve(e==null?void 0:e.alignGaps,0);return(n,l,s,r)=>Sl(n,l,(o,a,c,f,d,g,b,y,w,k,L)=>{[s,r]=_r(c,s,r);let O=o.pxRound,E=I=>O(g(I,f,k,y)),P=I=>O(b(I,d,L,w)),C,ie;f.ori==0?(C=ss,ie=tm):(C=rs,ie=nm);const te=f.dir*(f.ori==0?1:-1),ve={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:es},he=ve.stroke;let be=!1;if(r-s>=k*4){let I=q=>n.posToVal(q,f.key,!0),B=null,$=null,_,A,j,ne=E(a[te==1?s:r]),re=E(a[s]),ce=E(a[r]),ee=I(te==1?re+1:ce-1);for(let q=te==1?s:r;q>=s&&q<=r;q+=te){let Fe=a[q],Ae=(te==1?Fe<ee:Fe>ee)?ne:E(Fe),xe=c[q];Ae==ne?xe!=null?(A=xe,B==null?(C(he,Ae,P(A)),_=B=$=A):A<B?B=A:A>$&&($=A)):xe===null&&(be=!0):(B!=null&&ie(he,ne,P(B),P($),P(_),P(A)),xe!=null?(A=xe,C(he,Ae,P(A)),B=$=_=A):(B=$=null,xe===null&&(be=!0)),ne=Ae,ee=I(ne+te))}B!=null&&B!=$&&j!=ne&&ie(he,ne,P(B),P($),P(_),P(A))}else for(let I=te==1?s:r;I>=s&&I<=r;I+=te){let B=c[I];B===null?be=!0:B!=null&&C(he,E(a[I]),P(B))}let[F,Z]=Ci(n,l);if(o.fill!=null||F!=0){let I=ve.fill=new Path2D(he),B=o.fillTo(n,l,o.min,o.max,F),$=P(B),_=E(a[s]),A=E(a[r]);te==-1&&([A,_]=[_,A]),C(I,A,$),C(I,_,$)}if(!o.spanGaps){let I=[];be&&I.push(...ki(a,c,s,r,te,E,t)),ve.gaps=I=o.gaps(n,l,s,r,I),ve.clip=Fr(I,f.ori,y,w,k,L)}return Z!=0&&(ve.band=Z==2?[Ln(n,l,s,r,he,-1),Ln(n,l,s,r,he,1)]:Ln(n,l,s,r,he,Z)),ve})}function lm(e){const t=Ve(e.align,1),n=Ve(e.ascDesc,!1),l=Ve(e.alignGaps,0),s=Ve(e.extend,!1);return(r,o,a,c)=>Sl(r,o,(f,d,g,b,y,w,k,L,O,E,P)=>{[a,c]=_r(g,a,c);let C=f.pxRound,{left:ie,width:te}=r.bbox,ve=re=>C(w(re,b,E,L)),he=re=>C(k(re,y,P,O)),be=b.ori==0?ss:rs;const G={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:es},F=G.stroke,Z=b.dir*(b.ori==0?1:-1);let I=he(g[Z==1?a:c]),B=ve(d[Z==1?a:c]),$=B,_=B;s&&t==-1&&(_=ie,be(F,_,I)),be(F,B,I);for(let re=Z==1?a:c;re>=a&&re<=c;re+=Z){let ce=g[re];if(ce==null)continue;let ee=ve(d[re]),q=he(ce);t==1?be(F,ee,I):be(F,$,q),be(F,ee,q),I=q,$=ee}let A=$;s&&t==1&&(A=ie+te,be(F,A,I));let[j,ne]=Ci(r,o);if(f.fill!=null||j!=0){let re=G.fill=new Path2D(F),ce=f.fillTo(r,o,f.min,f.max,j),ee=he(ce);be(re,A,ee),be(re,_,ee)}if(!f.spanGaps){let re=[];re.push(...ki(d,g,a,c,Z,ve,l));let ce=f.width*$e/2,ee=n||t==1?ce:-ce,q=n||t==-1?-ce:ce;re.forEach(Fe=>{Fe[0]+=ee,Fe[1]+=q}),G.gaps=re=f.gaps(r,o,a,c,re),G.clip=Fr(re,b.ori,L,O,E,P)}return ne!=0&&(G.band=ne==2?[Ln(r,o,a,c,F,-1),Ln(r,o,a,c,F,1)]:Ln(r,o,a,c,F,ne)),G})}function vc(e,t,n,l,s,r,o=Ke){if(e.length>1){let a=null;for(let c=0,f=1/0;c<e.length;c++)if(t[c]!==void 0){if(a!=null){let d=ht(e[c]-e[a]);d<f&&(f=d,o=ht(n(e[c],l,s,r)-n(e[a],l,s,r)))}a=c}}return o}function sm(e){e=e||Rs;const t=Ve(e.size,[.6,Ke,1]),n=e.align||0,l=e.gap||0;let s=e.radius;s=s==null?[0,0]:typeof s=="number"?[s,0]:s;const r=Ue(s),o=1-t[0],a=Ve(t[1],Ke),c=Ve(t[2],1),f=Ve(e.disp,Rs),d=Ve(e.each,y=>{}),{fill:g,stroke:b}=f;return(y,w,k,L)=>Sl(y,w,(O,E,P,C,ie,te,ve,he,be,G,F)=>{let Z=O.pxRound,I=n,B=l*$e,$=a*$e,_=c*$e,A,j;C.ori==0?[A,j]=r(y,w):[j,A]=r(y,w);const ne=C.dir*(C.ori==0?1:-1);let re=C.ori==0?Ur:Di,ce=C.ori==0?d:(z,ge,Me,Le,rt,qe,pt)=>{d(z,ge,Me,rt,Le,pt,qe)},ee=Ve(y.bands,bi).find(z=>z.series[0]==w),q=ee!=null?ee.dir:0,Fe=O.fillTo(y,w,O.min,O.max,q),_e=Z(ve(Fe,ie,F,be)),Ae,xe,ue,le=G,pe=Z(O.width*$e),De=!1,p=null,v=null,T=null,M=null;g!=null&&(pe==0||b!=null)&&(De=!0,p=g.values(y,w,k,L),v=new Map,new Set(p).forEach(z=>{z!=null&&v.set(z,new Path2D)}),pe>0&&(T=b.values(y,w,k,L),M=new Map,new Set(T).forEach(z=>{z!=null&&M.set(z,new Path2D)})));let{x0:R,size:U}=f;if(R!=null&&U!=null){I=1,E=R.values(y,w,k,L),R.unit==2&&(E=E.map(Me=>y.posToVal(he+Me*G,C.key,!0)));let z=U.values(y,w,k,L);U.unit==2?xe=z[0]*G:xe=te(z[0],C,G,he)-te(0,C,G,he),le=vc(E,P,te,C,G,he,le),ue=le-xe+B}else le=vc(E,P,te,C,G,he,le),ue=le*o+B,xe=le-ue;ue<1&&(ue=0),pe>=xe/2&&(pe=0),ue<5&&(Z=Ru);let J=ue>0,Q=le-ue-(J?pe:0);xe=Z(No(Q,_,$)),Ae=(I==0?xe/2:I==ne?0:xe)-I*ne*((I==0?B/2:0)+(J?pe/2:0));const W={stroke:null,fill:null,clip:null,band:null,gaps:null,flags:0},N=De?null:new Path2D;let de=null;if(ee!=null)de=y.data[ee.series[1]];else{let{y0:z,y1:ge}=f;z!=null&&ge!=null&&(P=ge.values(y,w,k,L),de=z.values(y,w,k,L))}let se=A*xe,Y=j*xe;for(let z=ne==1?k:L;z>=k&&z<=L;z+=ne){let ge=P[z];if(ge==null)continue;if(de!=null){let Ct=de[z]??0;if(ge-Ct==0)continue;_e=ve(Ct,ie,F,be)}let Me=C.distr!=2||f!=null?E[z]:z,Le=te(Me,C,G,he),rt=ve(Ve(ge,Fe),ie,F,be),qe=Z(Le-Ae),pt=Z(zt(rt,_e)),tt=Z(hn(rt,_e)),mt=pt-tt;if(ge!=null){let Ct=ge<0?Y:se,Je=ge<0?se:Y;De?(pe>0&&T[z]!=null&&re(M.get(T[z]),qe,tt+Jt(pe/2),xe,zt(0,mt-pe),Ct,Je),p[z]!=null&&re(v.get(p[z]),qe,tt+Jt(pe/2),xe,zt(0,mt-pe),Ct,Je)):re(N,qe,tt+Jt(pe/2),xe,zt(0,mt-pe),Ct,Je),ce(y,w,z,qe-pe/2,tt,xe+pe,mt)}}return pe>0?W.stroke=De?M:N:De||(W._fill=O.width==0?O._fill:O._stroke??O._fill,W.width=0),W.fill=De?v:N,W})}function rm(e,t){const n=Ve(t==null?void 0:t.alignGaps,0);return(l,s,r,o)=>Sl(l,s,(a,c,f,d,g,b,y,w,k,L,O)=>{[r,o]=_r(f,r,o);let E=a.pxRound,P=A=>E(b(A,d,L,w)),C=A=>E(y(A,g,O,k)),ie,te,ve;d.ori==0?(ie=Ir,ve=ss,te=rf):(ie=Lr,ve=rs,te=of);const he=d.dir*(d.ori==0?1:-1);let be=P(c[he==1?r:o]),G=be,F=[],Z=[];for(let A=he==1?r:o;A>=r&&A<=o;A+=he)if(f[A]!=null){let ne=c[A],re=P(ne);F.push(G=re),Z.push(C(f[A]))}const I={stroke:e(F,Z,ie,ve,te,E),fill:null,clip:null,band:null,gaps:null,flags:es},B=I.stroke;let[$,_]=Ci(l,s);if(a.fill!=null||$!=0){let A=I.fill=new Path2D(B),j=a.fillTo(l,s,a.min,a.max,$),ne=C(j);ve(A,G,ne),ve(A,be,ne)}if(!a.spanGaps){let A=[];A.push(...ki(c,f,r,o,he,P,n)),I.gaps=A=a.gaps(l,s,r,o,A),I.clip=Fr(A,d.ori,w,k,L,O)}return _!=0&&(I.band=_==2?[Ln(l,s,r,o,B,-1),Ln(l,s,r,o,B,1)]:Ln(l,s,r,o,B,_)),I})}function om(e){return rm(im,e)}function im(e,t,n,l,s,r){const o=e.length;if(o<2)return null;const a=new Path2D;if(n(a,e[0],t[0]),o==2)l(a,e[1],t[1]);else{let c=Array(o),f=Array(o-1),d=Array(o-1),g=Array(o-1);for(let b=0;b<o-1;b++)d[b]=t[b+1]-t[b],g[b]=e[b+1]-e[b],f[b]=d[b]/g[b];c[0]=f[0];for(let b=1;b<o-1;b++)f[b]===0||f[b-1]===0||f[b-1]>0!=f[b]>0?c[b]=0:(c[b]=3*(g[b-1]+g[b])/((2*g[b]+g[b-1])/f[b-1]+(g[b]+2*g[b-1])/f[b]),isFinite(c[b])||(c[b]=0));c[o-1]=f[o-2];for(let b=0;b<o-1;b++)s(a,e[b]+g[b]/3,t[b]+c[b]*g[b]/3,e[b+1]-g[b]/3,t[b+1]-c[b+1]*g[b]/3,e[b+1],t[b+1])}return a}const Wo=new Set;function bc(){for(let e of Wo)e.syncRect(!0)}ls&&(xl(Ng,Gl,bc),xl(Bg,Gl,bc,!0),xl(pr,Gl,()=>{Mt.pxRatio=$e}));const am=uf(),cm=af();function yc(e,t,n,l){return(l?[e[0],e[1]].concat(e.slice(2)):[e[0]].concat(e.slice(1))).map((r,o)=>Ko(r,o,t,n))}function um(e,t){return e.map((n,l)=>l==0?{}:ut({},t,n))}function Ko(e,t,n,l){return ut({},t==0?n:l,e)}function ff(e,t,n){return t==null?Ql:[t,n]}const fm=ff;function dm(e,t,n){return t==null?Ql:mr(t,n,mi,!0)}function df(e,t,n,l){return t==null?Ql:Ar(t,n,e.scales[l].log,!1)}const hm=df;function hf(e,t,n,l){return t==null?Ql:pi(t,n,e.scales[l].log,!1)}const gm=hf;function pm(e,t,n,l,s){let r=zt(Za(e),Za(t)),o=t-e,a=fn(s/l*o,n);do{let c=n[a],f=l*c/o;if(f>=s&&r+(c<5?nl.get(c):0)<=17)return[c,f]}while(++a<n.length);return[0,0]}function xc(e){let t,n;return e=e.replace(/(\d+)px/,(l,s)=>(t=dt((n=+s)*$e))+"px"),[e,t,n]}function mm(e){e.show&&[e.font,e.labelFont].forEach(t=>{let n=Ge(t[2]*$e,1);t[0]=t[0].replace(/[0-9.]+px/,n+"px"),t[1]=n})}function Mt(e,t,n){const l={mode:Ve(e.mode,1)},s=l.mode;function r(i,u,h,m){let x=u.valToPct(i);return m+h*(u.dir==-1?1-x:x)}function o(i,u,h,m){let x=u.valToPct(i);return m+h*(u.dir==-1?x:1-x)}function a(i,u,h,m){return u.ori==0?r(i,u,h,m):o(i,u,h,m)}l.valToPosH=r,l.valToPosV=o;let c=!1;l.status=0;const f=l.root=nn(Cg);if(e.id!=null&&(f.id=e.id),Gt(f,e.class),e.title){let i=nn(Tg,f);i.textContent=e.title}const d=un("canvas"),g=l.ctx=d.getContext("2d"),b=nn(Mg,f);xl("click",b,i=>{i.target===w&&(Ze!=Rl||nt!=Fl)&&Dt.click(l,i)},!0);const y=l.under=nn(Eg,b);b.appendChild(d);const w=l.over=nn(_g,b);e=Xl(e);const k=+Ve(e.pxAlign,1),L=mc(k);(e.plugins||[]).forEach(i=>{i.opts&&(e=i.opts(l,e)||e)});const O=e.ms||.001,E=l.series=s==1?yc(e.series||[],cc,gc,!1):um(e.series||[null],hc),P=l.axes=yc(e.axes||[],ac,fc,!0),C=l.scales={},ie=l.bands=e.bands||[];ie.forEach(i=>{i.fill=Ue(i.fill||null),i.dir=Ve(i.dir,-1)});const te=s==2?E[1].facets[0].scale:E[0].scale,ve={axes:_f,series:kf},he=(e.drawOrder||["axes","series"]).map(i=>ve[i]);function be(i){const u=i.distr==3?h=>In(h>0?h:i.clamp(l,h,i.min,i.max,i.key)):i.distr==4?h=>wo(h,i.asinh):i.distr==100?h=>i.fwd(h):h=>h;return h=>{let m=u(h),{_min:x,_max:D}=i,V=D-x;return(m-x)/V}}function G(i){let u=C[i];if(u==null){let h=(e.scales||Rs)[i]||Rs;if(h.from!=null){G(h.from);let m=ut({},C[h.from],h,{key:i});m.valToPct=be(m),C[i]=m}else{u=C[i]=ut({},i==te?ef:Qp,h),u.key=i;let m=u.time,x=u.range,D=Yn(x);if((i!=te||s==2&&!m)&&(D&&(x[0]==null||x[1]==null)&&(x={min:x[0]==null?Ya:{mode:1,hard:x[0],soft:x[0]},max:x[1]==null?Ya:{mode:1,hard:x[1],soft:x[1]}},D=!1),!D&&Rr(x))){let V=x;x=(K,X,oe)=>X==null?Ql:mr(X,oe,V)}u.range=Ue(x||(m?fm:i==te?u.distr==3?hm:u.distr==4?gm:ff:u.distr==3?df:u.distr==4?hf:dm)),u.auto=Ue(D?!1:u.auto),u.clamp=Ue(u.clamp||Zp),u._min=u._max=null,u.valToPct=be(u)}}}G("x"),G("y"),s==1&&E.forEach(i=>{G(i.scale)}),P.forEach(i=>{G(i.scale)});for(let i in e.scales)G(i);const F=C[te],Z=F.distr;let I,B;F.ori==0?(Gt(f,kg),I=r,B=o):(Gt(f,Dg),I=o,B=r);const $={};for(let i in C){let u=C[i];(u.min!=null||u.max!=null)&&($[i]={min:u.min,max:u.max},u.min=u.max=null)}const _=e.tzDate||(i=>new Date(dt(i/O))),A=e.fmtDate||yi,j=O==1?kp(_):Mp(_),ne=rc(_,sc(O==1?Cp:Tp,A)),re=ic(_,oc(_p,A)),ce=[],ee=l.legend=ut({},Rp,e.legend),q=l.cursor=ut({},Vp,{drag:{y:s==2}},e.cursor),Fe=ee.show,_e=q.show,Ae=ee.markers;ee.idxs=ce,Ae.width=Ue(Ae.width),Ae.dash=Ue(Ae.dash),Ae.stroke=Ue(Ae.stroke),Ae.fill=Ue(Ae.fill);let xe,ue,le,pe=[],De=[],p,v=!1,T={};if(ee.live){const i=E[1]?E[1].values:null;v=i!=null,p=v?i(l,1,0):{_:0};for(let u in p)T[u]=hi}if(Fe)if(xe=un("table",Lg,f),le=un("tbody",null,xe),ee.mount(l,xe),v){ue=un("thead",null,xe,le);let i=un("tr",null,ue);un("th",null,i);for(var M in p)un("th",La,i).textContent=M}else Gt(xe,Og),ee.live&&Gt(xe,Ug);const R={show:!0},U={show:!1};function J(i,u){if(u==0&&(v||!ee.live||s==2))return Ql;let h=[],m=un("tr",Vg,le,le.childNodes[u]);Gt(m,i.class),i.show||Gt(m,vl);let x=un("th",null,m);if(Ae.show){let K=nn(zg,x);if(u>0){let X=Ae.width(l,u);X&&(K.style.border=X+"px "+Ae.dash(l,u)+" "+Ae.stroke(l,u)),K.style.background=Ae.fill(l,u)}}let D=nn(La,x);i.label instanceof HTMLElement?D.appendChild(i.label):D.textContent=i.label,u>0&&(Ae.show||(D.style.color=i.width>0?Ae.stroke(l,u):Ae.fill(l,u)),W("click",x,K=>{if(q._lock)return;il(K);let X=E.indexOf(i);if((K.ctrlKey||K.metaKey)!=ee.isolate){let oe=E.some((ae,fe)=>fe>0&&fe!=X&&ae.show);E.forEach((ae,fe)=>{fe>0&&vn(fe,oe?fe==X?R:U:R,!0,ct.setSeries)})}else vn(X,{show:!i.show},!0,ct.setSeries)},!1),Cl&&W(za,x,K=>{q._lock||(il(K),vn(E.indexOf(i),Ll,!0,ct.setSeries))},!1));for(var V in p){let K=un("td",$g,m);K.textContent="--",h.push(K)}return[m,h]}const Q=new Map;function W(i,u,h,m=!0){const x=Q.get(u)||{},D=q.bind[i](l,u,h,m);D&&(xl(i,u,x[i]=D),Q.set(u,x))}function N(i,u,h){const m=Q.get(u)||{};for(let x in m)(i==null||x==i)&&($o(x,u,m[x]),delete m[x]);i==null&&Q.delete(u)}let de=0,se=0,Y=0,z=0,ge=0,Me=0,Le=ge,rt=Me,qe=Y,pt=z,tt=0,mt=0,Ct=0,Je=0;l.bbox={};let $t=!1,rl=!1,Mn=!1,ol=!1,Bs=!1,Qt=!1;function Or(i,u,h){(h||i!=l.width||u!=l.height)&&Ti(i,u),El(!1),Mn=!0,rl=!0,_l()}function Ti(i,u){l.width=de=Y=i,l.height=se=z=u,ge=Me=0,vf(),bf();let h=l.bbox;tt=h.left=pl(ge*$e,.5),mt=h.top=pl(Me*$e,.5),Ct=h.width=pl(Y*$e,.5),Je=h.height=pl(z*$e,.5)}const gf=3;function pf(){let i=!1,u=0;for(;!i;){u++;let h=Mf(u),m=Ef(u);i=u==gf||h&&m,i||(Ti(l.width,l.height),rl=!0)}}function mf({width:i,height:u}){Or(i,u)}l.setSize=mf;function vf(){let i=!1,u=!1,h=!1,m=!1;P.forEach((x,D)=>{if(x.show&&x._show){let{side:V,_size:K}=x,X=V%2,oe=x.label!=null?x.labelSize:0,ae=K+oe;ae>0&&(X?(Y-=ae,V==3?(ge+=ae,m=!0):h=!0):(z-=ae,V==0?(Me+=ae,i=!0):u=!0))}}),al[0]=i,al[1]=h,al[2]=u,al[3]=m,Y-=$n[1]+$n[3],ge+=$n[3],z-=$n[2]+$n[0],Me+=$n[0]}function bf(){let i=ge+Y,u=Me+z,h=ge,m=Me;function x(D,V){switch(D){case 1:return i+=V,i-V;case 2:return u+=V,u-V;case 3:return h-=V,h+V;case 0:return m-=V,m+V}}P.forEach((D,V)=>{if(D.show&&D._show){let K=D.side;D._pos=x(K,D._size),D.label!=null&&(D._lpos=x(K,D.labelSize))}})}if(q.dataIdx==null){let i=q.hover,u=i.skip=new Set(i.skip??[]);u.add(void 0);let h=i.prox=Ue(i.prox),m=i.bias??(i.bias=0);q.dataIdx=(x,D,V,K)=>{if(D==0)return V;let X=V,oe=h(x,D,V,K)??Ke,ae=oe>=0&&oe<Ke,fe=F.ori==0?Y:z,Ee=q.left,ze=t[0],Oe=t[D];if(u.has(Oe[V])){X=null;let Ie=null,ke=null,ye;if(m==0||m==-1)for(ye=V;Ie==null&&ye-- >0;)u.has(Oe[ye])||(Ie=ye);if(m==0||m==1)for(ye=V;ke==null&&ye++<Oe.length;)u.has(Oe[ye])||(ke=ye);if(Ie!=null||ke!=null)if(ae){let Xe=Ie==null?-1/0:I(ze[Ie],F,fe,0),ot=ke==null?1/0:I(ze[ke],F,fe,0),St=Ee-Xe,je=ot-Ee;St<=je?St<=oe&&(X=Ie):je<=oe&&(X=ke)}else X=ke==null?Ie:Ie==null?ke:V-Ie<=ke-V?Ie:ke}else ae&&ht(Ee-I(ze[V],F,fe,0))>oe&&(X=null);return X}}const il=i=>{q.event=i};q.idxs=ce,q._lock=!1;let Et=q.points;Et.show=Ue(Et.show),Et.size=Ue(Et.size),Et.stroke=Ue(Et.stroke),Et.width=Ue(Et.width),Et.fill=Ue(Et.fill);const mn=l.focus=ut({},e.focus||{alpha:.3},q.focus),Cl=mn.prox>=0,kl=Cl&&Et.one;let Xt=[],Dl=[],Tl=[];function Mi(i,u){let h=Et.show(l,u);if(h instanceof HTMLElement)return Gt(h,Ig),Gt(h,i.class),Sn(h,-10,-10,Y,z),w.insertBefore(h,Xt[u]),h}function Ei(i,u){if(s==1||u>0){let h=s==1&&C[i.scale].time,m=i.value;i.value=h?ec(m)?ic(_,oc(m,A)):m||re:m||Yp,i.label=i.label||(h?$p:zp)}if(kl||u>0){i.width=i.width==null?1:i.width,i.paths=i.paths||am||Qg,i.fillTo=Ue(i.fillTo||Xp),i.pxAlign=+Ve(i.pxAlign,k),i.pxRound=mc(i.pxAlign),i.stroke=Ue(i.stroke||null),i.fill=Ue(i.fill||null),i._stroke=i._fill=i._paths=i._focus=null;let h=qp(zt(1,i.width),1),m=i.points=ut({},{size:h,width:zt(1,h*.2),stroke:i.stroke,space:h*2,paths:cm,_stroke:null,_fill:null},i.points);m.show=Ue(m.show),m.filter=Ue(m.filter),m.fill=Ue(m.fill),m.stroke=Ue(m.stroke),m.paths=Ue(m.paths),m.pxAlign=i.pxAlign}if(Fe){let h=J(i,u);pe.splice(u,0,h[0]),De.splice(u,0,h[1]),ee.values.push(null)}if(_e){ce.splice(u,0,null);let h=null;kl?u==0&&(h=Mi(i,u)):u>0&&(h=Mi(i,u)),Xt.splice(u,0,h),Dl.splice(u,0,0),Tl.splice(u,0,0)}wt("addSeries",u)}function yf(i,u){u=u??E.length,i=s==1?Ko(i,u,cc,gc):Ko(i,u,{},hc),E.splice(u,0,i),Ei(E[u],u)}l.addSeries=yf;function xf(i){if(E.splice(i,1),Fe){ee.values.splice(i,1),De.splice(i,1);let u=pe.splice(i,1)[0];N(null,u.firstChild),u.remove()}_e&&(ce.splice(i,1),Xt.splice(i,1)[0].remove(),Dl.splice(i,1),Tl.splice(i,1)),wt("delSeries",i)}l.delSeries=xf;const al=[!1,!1,!1,!1];function wf(i,u){if(i._show=i.show,i.show){let h=i.side%2,m=C[i.scale];m==null&&(i.scale=h?E[1].scale:te,m=C[i.scale]);let x=m.time;i.size=Ue(i.size),i.space=Ue(i.space),i.rotate=Ue(i.rotate),Yn(i.incrs)&&i.incrs.forEach(V=>{!nl.has(V)&&nl.set(V,Lu(V))}),i.incrs=Ue(i.incrs||(m.distr==2?xp:x?O==1?Sp:Dp:ml)),i.splits=Ue(i.splits||(x&&m.distr==1?j:m.distr==3?Bo:m.distr==4?Hp:Bp)),i.stroke=Ue(i.stroke),i.grid.stroke=Ue(i.grid.stroke),i.ticks.stroke=Ue(i.ticks.stroke),i.border.stroke=Ue(i.border.stroke);let D=i.values;i.values=Yn(D)&&!Yn(D[0])?Ue(D):x?Yn(D)?rc(_,sc(D,A)):ec(D)?Ep(_,D):D||ne:D||Np,i.filter=Ue(i.filter||(m.distr>=3&&m.log==10?Kp:m.distr==3&&m.log==2?Gp:Fu)),i.font=xc(i.font),i.labelFont=xc(i.labelFont),i._size=i.size(l,null,u,0),i._space=i._rotate=i._incrs=i._found=i._splits=i._values=null,i._size>0&&(al[u]=!0,i._el=nn(Ag,b))}}function os(i,u,h,m){let[x,D,V,K]=h,X=u%2,oe=0;return X==0&&(K||D)&&(oe=u==0&&!x||u==2&&!V?dt(ac.size/3):0),X==1&&(x||V)&&(oe=u==1&&!D||u==3&&!K?dt(fc.size/2):0),oe}const _i=l.padding=(e.padding||[os,os,os,os]).map(i=>Ue(Ve(i,os))),$n=l._padding=_i.map((i,u)=>i(l,u,al,0));let kt,vt=null,bt=null;const Hs=s==1?E[0].idxs:null;let on=null,is=!1;function Ai(i,u){if(t=i??[],l.data=l._data=t,s==2){kt=0;for(let h=1;h<E.length;h++)kt+=t[h][0].length}else{t.length==0&&(l.data=l._data=t=[[]]),on=t[0],kt=on.length;let h=t;if(Z==2){h=t.slice();let m=h[0]=Array(kt);for(let x=0;x<kt;x++)m[x]=x}l._data=t=h}if(El(!0),wt("setData"),Z==2&&(Mn=!0),u!==!1){let h=F;h.auto(l,is)?Vr():Bn(te,h.min,h.max),ol=ol||q.left>=0,Qt=!0,_l()}}l.setData=Ai;function Vr(){is=!0;let i,u;s==1&&(kt>0?(vt=Hs[0]=0,bt=Hs[1]=kt-1,i=t[0][vt],u=t[0][bt],Z==2?(i=vt,u=bt):i==u&&(Z==3?[i,u]=Ar(i,i,F.log,!1):Z==4?[i,u]=pi(i,i,F.log,!1):F.time?u=i+dt(86400/O):[i,u]=mr(i,u,mi,!0))):(vt=Hs[0]=i=null,bt=Hs[1]=u=null)),Bn(te,i,u)}let js,Ml,zr,$r,Nr,Br,Hr,jr,Wr,Nt;function Pi(i,u,h,m,x,D){i??(i=Oa),h??(h=bi),m??(m="butt"),x??(x=Oa),D??(D="round"),i!=js&&(g.strokeStyle=js=i),x!=Ml&&(g.fillStyle=Ml=x),u!=zr&&(g.lineWidth=zr=u),D!=Nr&&(g.lineJoin=Nr=D),m!=Br&&(g.lineCap=Br=m),h!=$r&&g.setLineDash($r=h)}function Ri(i,u,h,m){u!=Ml&&(g.fillStyle=Ml=u),i!=Hr&&(g.font=Hr=i),h!=jr&&(g.textAlign=jr=h),m!=Wr&&(g.textBaseline=Wr=m)}function Kr(i,u,h,m,x=0){if(m.length>0&&i.auto(l,is)&&(u==null||u.min==null)){let D=Ve(vt,0),V=Ve(bt,m.length-1),K=h.min==null?Kg(m,D,V,x,i.distr==3):[h.min,h.max];i.min=hn(i.min,h.min=K[0]),i.max=zt(i.max,h.max=K[1])}}const Fi={min:null,max:null};function Sf(){for(let m in C){let x=C[m];$[m]==null&&(x.min==null||$[te]!=null&&x.auto(l,is))&&($[m]=Fi)}for(let m in C){let x=C[m];$[m]==null&&x.from!=null&&$[x.from]!=null&&($[m]=Fi)}$[te]!=null&&El(!0);let i={};for(let m in $){let x=$[m];if(x!=null){let D=i[m]=Xl(C[m],tp);if(x.min!=null)ut(D,x);else if(m!=te||s==2)if(kt==0&&D.from==null){let V=D.range(l,null,null,m);D.min=V[0],D.max=V[1]}else D.min=Ke,D.max=-Ke}}if(kt>0){E.forEach((m,x)=>{if(s==1){let D=m.scale,V=$[D];if(V==null)return;let K=i[D];if(x==0){let X=K.range(l,K.min,K.max,D);K.min=X[0],K.max=X[1],vt=fn(K.min,t[0]),bt=fn(K.max,t[0]),bt-vt>1&&(t[0][vt]<K.min&&vt++,t[0][bt]>K.max&&bt--),m.min=on[vt],m.max=on[bt]}else m.show&&m.auto&&Kr(K,V,m,t[x],m.sorted);m.idxs[0]=vt,m.idxs[1]=bt}else if(x>0&&m.show&&m.auto){let[D,V]=m.facets,K=D.scale,X=V.scale,[oe,ae]=t[x],fe=i[K],Ee=i[X];fe!=null&&Kr(fe,$[K],D,oe,D.sorted),Ee!=null&&Kr(Ee,$[X],V,ae,V.sorted),m.min=V.min,m.max=V.max}});for(let m in i){let x=i[m],D=$[m];if(x.from==null&&(D==null||D.min==null)){let V=x.range(l,x.min==Ke?null:x.min,x.max==-Ke?null:x.max,m);x.min=V[0],x.max=V[1]}}}for(let m in i){let x=i[m];if(x.from!=null){let D=i[x.from];if(D.min==null)x.min=x.max=null;else{let V=x.range(l,D.min,D.max,m);x.min=V[0],x.max=V[1]}}}let u={},h=!1;for(let m in i){let x=i[m],D=C[m];if(D.min!=x.min||D.max!=x.max){D.min=x.min,D.max=x.max;let V=D.distr;D._min=V==3?In(D.min):V==4?wo(D.min,D.asinh):V==100?D.fwd(D.min):D.min,D._max=V==3?In(D.max):V==4?wo(D.max,D.asinh):V==100?D.fwd(D.max):D.max,u[m]=h=!0}}if(h){E.forEach((m,x)=>{s==2?x>0&&u.y&&(m._paths=null):u[m.scale]&&(m._paths=null)});for(let m in u)Mn=!0,wt("setScale",m);_e&&q.left>=0&&(ol=Qt=!0)}for(let m in $)$[m]=null}function Cf(i){let u=No(vt-1,0,kt-1),h=No(bt+1,0,kt-1);for(;i[u]==null&&u>0;)u--;for(;i[h]==null&&h<kt-1;)h++;return[u,h]}function kf(){if(kt>0){let i=E.some(u=>u._focus)&&Nt!=mn.alpha;i&&(g.globalAlpha=Nt=mn.alpha),E.forEach((u,h)=>{if(h>0&&u.show&&(Ii(h,!1),Ii(h,!0),u._paths==null)){let m=Nt;Nt!=u.alpha&&(g.globalAlpha=Nt=u.alpha);let x=s==2?[0,t[h][0].length-1]:Cf(t[h]);u._paths=u.paths(l,h,x[0],x[1]),Nt!=m&&(g.globalAlpha=Nt=m)}}),E.forEach((u,h)=>{if(h>0&&u.show){let m=Nt;Nt!=u.alpha&&(g.globalAlpha=Nt=u.alpha),u._paths!=null&&Li(h,!1);{let x=u._paths!=null?u._paths.gaps:null,D=u.points.show(l,h,vt,bt,x),V=u.points.filter(l,h,D,x);(D||V)&&(u.points._paths=u.points.paths(l,h,vt,bt,V),Li(h,!0))}Nt!=m&&(g.globalAlpha=Nt=m),wt("drawSeries",h)}}),i&&(g.globalAlpha=Nt=1)}}function Ii(i,u){let h=u?E[i].points:E[i];h._stroke=h.stroke(l,i),h._fill=h.fill(l,i)}function Li(i,u){let h=u?E[i].points:E[i],{stroke:m,fill:x,clip:D,flags:V,_stroke:K=h._stroke,_fill:X=h._fill,_width:oe=h.width}=h._paths;oe=Ge(oe*$e,3);let ae=null,fe=oe%2/2;u&&X==null&&(X=oe>0?"#fff":K);let Ee=h.pxAlign==1&&fe>0;if(Ee&&g.translate(fe,fe),!u){let ze=tt-oe/2,Oe=mt-oe/2,Ie=Ct+oe,ke=Je+oe;ae=new Path2D,ae.rect(ze,Oe,Ie,ke)}u?Gr(K,oe,h.dash,h.cap,X,m,x,V,D):Df(i,K,oe,h.dash,h.cap,X,m,x,V,ae,D),Ee&&g.translate(-fe,-fe)}function Df(i,u,h,m,x,D,V,K,X,oe,ae){let fe=!1;X!=0&&ie.forEach((Ee,ze)=>{if(Ee.series[0]==i){let Oe=E[Ee.series[1]],Ie=t[Ee.series[1]],ke=(Oe._paths||Rs).band;Yn(ke)&&(ke=Ee.dir==1?ke[0]:ke[1]);let ye,Xe=null;Oe.show&&ke&&Yg(Ie,vt,bt)?(Xe=Ee.fill(l,ze)||D,ye=Oe._paths.clip):ke=null,Gr(u,h,m,x,Xe,V,K,X,oe,ae,ye,ke),fe=!0}}),fe||Gr(u,h,m,x,D,V,K,X,oe,ae)}const Ui=es|jo;function Gr(i,u,h,m,x,D,V,K,X,oe,ae,fe){Pi(i,u,h,m,x),(X||oe||fe)&&(g.save(),X&&g.clip(X),oe&&g.clip(oe)),fe?(K&Ui)==Ui?(g.clip(fe),ae&&g.clip(ae),Ks(x,V),Ws(i,D,u)):K&jo?(Ks(x,V),g.clip(fe),Ws(i,D,u)):K&es&&(g.save(),g.clip(fe),ae&&g.clip(ae),Ks(x,V),g.restore(),Ws(i,D,u)):(Ks(x,V),Ws(i,D,u)),(X||oe||fe)&&g.restore()}function Ws(i,u,h){h>0&&(u instanceof Map?u.forEach((m,x)=>{g.strokeStyle=js=x,g.stroke(m)}):u!=null&&i&&g.stroke(u))}function Ks(i,u){u instanceof Map?u.forEach((h,m)=>{g.fillStyle=Ml=m,g.fill(h)}):u!=null&&i&&g.fill(u)}function Tf(i,u,h,m){let x=P[i],D;if(m<=0)D=[0,0];else{let V=x._space=x.space(l,i,u,h,m),K=x._incrs=x.incrs(l,i,u,h,m,V);D=pm(u,h,K,m,V)}return x._found=D}function Yr(i,u,h,m,x,D,V,K,X,oe){let ae=V%2/2;k==1&&g.translate(ae,ae),Pi(K,V,X,oe,K),g.beginPath();let fe,Ee,ze,Oe,Ie=x+(m==0||m==3?-D:D);h==0?(Ee=x,Oe=Ie):(fe=x,ze=Ie);for(let ke=0;ke<i.length;ke++)u[ke]!=null&&(h==0?fe=ze=i[ke]:Ee=Oe=i[ke],g.moveTo(fe,Ee),g.lineTo(ze,Oe));g.stroke(),k==1&&g.translate(-ae,-ae)}function Mf(i){let u=!0;return P.forEach((h,m)=>{if(!h.show)return;let x=C[h.scale];if(x.min==null){h._show&&(u=!1,h._show=!1,El(!1));return}else h._show||(u=!1,h._show=!0,El(!1));let D=h.side,V=D%2,{min:K,max:X}=x,[oe,ae]=Tf(m,K,X,V==0?Y:z);if(ae==0)return;let fe=x.distr==2,Ee=h._splits=h.splits(l,m,K,X,oe,ae,fe),ze=x.distr==2?Ee.map(ye=>on[ye]):Ee,Oe=x.distr==2?on[Ee[1]]-on[Ee[0]]:oe,Ie=h._values=h.values(l,h.filter(l,ze,m,ae,Oe),m,ae,Oe);h._rotate=D==2?h.rotate(l,Ie,m,ae):0;let ke=h._size;h._size=ln(h.size(l,Ie,m,i)),ke!=null&&h._size!=ke&&(u=!1)}),u}function Ef(i){let u=!0;return _i.forEach((h,m)=>{let x=h(l,m,al,i);x!=$n[m]&&(u=!1),$n[m]=x}),u}function _f(){for(let i=0;i<P.length;i++){let u=P[i];if(!u.show||!u._show)continue;let h=u.side,m=h%2,x,D,V=u.stroke(l,i),K=h==0||h==3?-1:1,[X,oe]=u._found;if(u.label!=null){let It=u.labelGap*K,Wt=dt((u._lpos+It)*$e);Ri(u.labelFont[0],V,"center",h==2?ps:Ua),g.save(),m==1?(x=D=0,g.translate(Wt,dt(mt+Je/2)),g.rotate((h==3?-ar:ar)/2)):(x=dt(tt+Ct/2),D=Wt);let fl=Pu(u.label)?u.label(l,i,X,oe):u.label;g.fillText(fl,x,D),g.restore()}if(oe==0)continue;let ae=C[u.scale],fe=m==0?Ct:Je,Ee=m==0?tt:mt,ze=u._splits,Oe=ae.distr==2?ze.map(It=>on[It]):ze,Ie=ae.distr==2?on[ze[1]]-on[ze[0]]:X,ke=u.ticks,ye=u.border,Xe=ke.show?ke.size:0,ot=dt(Xe*$e),St=dt((u.alignTo==2?u._size-Xe-u.gap:u.gap)*$e),je=u._rotate*-ar/180,it=L(u._pos*$e),Ht=(ot+St)*K,Ft=it+Ht;D=m==0?Ft:0,x=m==1?Ft:0;let en=u.font[0],an=u.align==1?zl:u.align==2?bo:je>0?zl:je<0?bo:m==0?"center":h==3?bo:zl,yn=je||m==1?"middle":h==2?ps:Ua;Ri(en,V,an,yn);let jt=u.font[1]*u.lineGap,tn=ze.map(It=>L(a(It,ae,fe,Ee))),cn=u._values;for(let It=0;It<cn.length;It++){let Wt=cn[It];if(Wt!=null){m==0?x=tn[It]:D=tn[It],Wt=""+Wt;let fl=Wt.indexOf(`
`)==-1?[Wt]:Wt.split(/\n/gm);for(let Lt=0;Lt<fl.length;Lt++){let ta=fl[Lt];je?(g.save(),g.translate(x,D+Lt*jt),g.rotate(je),g.fillText(ta,0,0),g.restore()):g.fillText(ta,x,D+Lt*jt)}}}ke.show&&Yr(tn,ke.filter(l,Oe,i,oe,Ie),m,h,it,ot,Ge(ke.width*$e,3),ke.stroke(l,i),ke.dash,ke.cap);let xn=u.grid;xn.show&&Yr(tn,xn.filter(l,Oe,i,oe,Ie),m,m==0?2:1,m==0?mt:tt,m==0?Je:Ct,Ge(xn.width*$e,3),xn.stroke(l,i),xn.dash,xn.cap),ye.show&&Yr([it],[1],m==0?1:0,m==0?1:2,m==1?mt:tt,m==1?Je:Ct,Ge(ye.width*$e,3),ye.stroke(l,i),ye.dash,ye.cap)}wt("drawAxes")}function El(i){E.forEach((u,h)=>{h>0&&(u._paths=null,i&&(s==1?(u.min=null,u.max=null):u.facets.forEach(m=>{m.min=null,m.max=null})))})}let Gs=!1,qr=!1,as=[];function Af(){qr=!1;for(let i=0;i<as.length;i++)wt(...as[i]);as.length=0}function _l(){Gs||(ap(Oi),Gs=!0)}function Pf(i,u=!1){Gs=!0,qr=u,i(l),Oi(),u&&as.length>0&&queueMicrotask(Af)}l.batch=Pf;function Oi(){if($t&&(Sf(),$t=!1),Mn&&(pf(),Mn=!1),rl){if(et(y,zl,ge),et(y,ps,Me),et(y,ys,Y),et(y,xs,z),et(w,zl,ge),et(w,ps,Me),et(w,ys,Y),et(w,xs,z),et(b,ys,de),et(b,xs,se),d.width=dt(de*$e),d.height=dt(se*$e),P.forEach(({_el:i,_show:u,_size:h,_pos:m,side:x})=>{if(i!=null)if(u){let D=x===3||x===0?h:0,V=x%2==1;et(i,V?"left":"top",m-D),et(i,V?"width":"height",h),et(i,V?"top":"left",V?Me:ge),et(i,V?"height":"width",V?z:Y),zo(i,vl)}else Gt(i,vl)}),js=Ml=zr=Nr=Br=Hr=jr=Wr=$r=null,Nt=1,fs(!0),ge!=Le||Me!=rt||Y!=qe||z!=pt){El(!1);let i=Y/qe,u=z/pt;if(_e&&!ol&&q.left>=0){q.left*=i,q.top*=u,Al&&Sn(Al,dt(q.left),0,Y,z),Pl&&Sn(Pl,0,dt(q.top),Y,z);for(let h=0;h<Xt.length;h++){let m=Xt[h];m!=null&&(Dl[h]*=i,Tl[h]*=u,Sn(m,ln(Dl[h]),ln(Tl[h]),Y,z))}}if(Qe.show&&!Bs&&Qe.left>=0&&Qe.width>0){Qe.left*=i,Qe.width*=i,Qe.top*=u,Qe.height*=u;for(let h in to)et(Il,h,Qe[h])}Le=ge,rt=Me,qe=Y,pt=z}wt("setSize"),rl=!1}de>0&&se>0&&(g.clearRect(0,0,d.width,d.height),wt("drawClear"),he.forEach(i=>i()),wt("draw")),Qe.show&&Bs&&(Ys(Qe),Bs=!1),_e&&ol&&(ul(null,!0,!1),ol=!1),ee.show&&ee.live&&Qt&&(Xr(),Qt=!1),c||(c=!0,l.status=1,wt("ready")),is=!1,Gs=!1}l.redraw=(i,u)=>{Mn=u||!1,i!==!1?Bn(te,F.min,F.max):_l()};function Jr(i,u){let h=C[i];if(h.from==null){if(kt==0){let m=h.range(l,u.min,u.max,i);u.min=m[0],u.max=m[1]}if(u.min>u.max){let m=u.min;u.min=u.max,u.max=m}if(kt>1&&u.min!=null&&u.max!=null&&u.max-u.min<1e-16)return;i==te&&h.distr==2&&kt>0&&(u.min=fn(u.min,t[0]),u.max=fn(u.max,t[0]),u.min==u.max&&u.max++),$[i]=u,$t=!0,_l()}}l.setScale=Jr;let Zr,Qr,Al,Pl,Vi,zi,Rl,Fl,$i,Ni,Ze,nt,Nn=!1;const Dt=q.drag;let yt=Dt.x,xt=Dt.y;_e&&(q.x&&(Zr=nn(Rg,w)),q.y&&(Qr=nn(Fg,w)),F.ori==0?(Al=Zr,Pl=Qr):(Al=Qr,Pl=Zr),Ze=q.left,nt=q.top);const Qe=l.select=ut({show:!0,over:!0,left:0,width:0,top:0,height:0},e.select),Il=Qe.show?nn(Pg,Qe.over?w:y):null;function Ys(i,u){if(Qe.show){for(let h in i)Qe[h]=i[h],h in to&&et(Il,h,i[h]);u!==!1&&wt("setSelect")}}l.setSelect=Ys;function Rf(i){if(E[i].show)Fe&&zo(pe[i],vl);else if(Fe&&Gt(pe[i],vl),_e){let h=kl?Xt[0]:Xt[i];h!=null&&Sn(h,-10,-10,Y,z)}}function Bn(i,u,h){Jr(i,{min:u,max:h})}function vn(i,u,h,m){u.focus!=null&&Of(i),u.show!=null&&E.forEach((x,D)=>{D>0&&(i==D||i==null)&&(x.show=u.show,Rf(D),s==2?(Bn(x.facets[0].scale,null,null),Bn(x.facets[1].scale,null,null)):Bn(x.scale,null,null),_l())}),h!==!1&&wt("setSeries",i,u),m&&ds("setSeries",l,i,u)}l.setSeries=vn;function Ff(i,u){ut(ie[i],u)}function If(i,u){i.fill=Ue(i.fill||null),i.dir=Ve(i.dir,-1),u=u??ie.length,ie.splice(u,0,i)}function Lf(i){i==null?ie.length=0:ie.splice(i,1)}l.addBand=If,l.setBand=Ff,l.delBand=Lf;function Uf(i,u){E[i].alpha=u,_e&&Xt[i]!=null&&(Xt[i].style.opacity=u),Fe&&pe[i]&&(pe[i].style.opacity=u)}let En,Hn,cl;const Ll={focus:!0};function Of(i){if(i!=cl){let u=i==null,h=mn.alpha!=1;E.forEach((m,x)=>{if(s==1||x>0){let D=u||x==0||x==i;m._focus=u?null:D,h&&Uf(x,D?1:mn.alpha)}}),cl=i,h&&_l()}}Fe&&Cl&&W($a,xe,i=>{q._lock||(il(i),cl!=null&&vn(null,Ll,!0,ct.setSeries))});function bn(i,u,h){let m=C[u];h&&(i=i/$e-(m.ori==1?Me:ge));let x=Y;m.ori==1&&(x=z,i=x-i),m.dir==-1&&(i=x-i);let D=m._min,V=m._max,K=i/x,X=D+(V-D)*K,oe=m.distr;return oe==3?Zl(10,X):oe==4?Jg(X,m.asinh):oe==100?m.bwd(X):X}function Vf(i,u){let h=bn(i,te,u);return fn(h,t[0],vt,bt)}l.valToIdx=i=>fn(i,t[0]),l.posToIdx=Vf,l.posToVal=bn,l.valToPos=(i,u,h)=>C[u].ori==0?r(i,C[u],h?Ct:Y,h?tt:0):o(i,C[u],h?Je:z,h?mt:0),l.setCursor=(i,u,h)=>{Ze=i.left,nt=i.top,ul(null,u,h)};function Bi(i,u){et(Il,zl,Qe.left=i),et(Il,ys,Qe.width=u)}function Hi(i,u){et(Il,ps,Qe.top=i),et(Il,xs,Qe.height=u)}let cs=F.ori==0?Bi:Hi,us=F.ori==1?Bi:Hi;function zf(){if(Fe&&ee.live)for(let i=s==2?1:0;i<E.length;i++){if(i==0&&v)continue;let u=ee.values[i],h=0;for(let m in u)De[i][h++].firstChild.nodeValue=u[m]}}function Xr(i,u){if(i!=null&&(i.idxs?i.idxs.forEach((h,m)=>{ce[m]=h}):ep(i.idx)||ce.fill(i.idx),ee.idx=ce[0]),Fe&&ee.live){for(let h=0;h<E.length;h++)(h>0||s==1&&!v)&&$f(h,ce[h]);zf()}Qt=!1,u!==!1&&wt("setLegend")}l.setLegend=Xr;function $f(i,u){let h=E[i],m=i==0&&Z==2?on:t[i],x;v?x=h.values(l,i,u)??T:(x=h.value(l,u==null?null:m[u],i,u),x=x==null?T:{_:x}),ee.values[i]=x}function ul(i,u,h){$i=Ze,Ni=nt,[Ze,nt]=q.move(l,Ze,nt),q.left=Ze,q.top=nt,_e&&(Al&&Sn(Al,dt(Ze),0,Y,z),Pl&&Sn(Pl,0,dt(nt),Y,z));let m,x=vt>bt;En=Ke,Hn=null;let D=F.ori==0?Y:z,V=F.ori==1?Y:z;if(Ze<0||kt==0||x){m=q.idx=null;for(let K=0;K<E.length;K++){let X=Xt[K];X!=null&&Sn(X,-10,-10,Y,z)}Cl&&vn(null,Ll,!0,i==null&&ct.setSeries),ee.live&&(ce.fill(m),Qt=!0)}else{let K,X,oe;s==1&&(K=F.ori==0?Ze:nt,X=bn(K,te),m=q.idx=fn(X,t[0],vt,bt),oe=I(t[0][m],F,D,0));let ae=-10,fe=-10,Ee=0,ze=0,Oe=!0,Ie="",ke="";for(let ye=s==2?1:0;ye<E.length;ye++){let Xe=E[ye],ot=ce[ye],St=ot==null?null:s==1?t[ye][ot]:t[ye][1][ot],je=q.dataIdx(l,ye,m,X),it=je==null?null:s==1?t[ye][je]:t[ye][1][je];if(Qt=Qt||it!=St||je!=ot,ce[ye]=je,ye>0&&Xe.show){let Ht=je==null?-10:je==m?oe:I(s==1?t[0][je]:t[ye][0][je],F,D,0),Ft=it==null?-10:B(it,s==1?C[Xe.scale]:C[Xe.facets[1].scale],V,0);if(Cl&&it!=null){let en=F.ori==1?Ze:nt,an=ht(mn.dist(l,ye,je,Ft,en));if(an<En){let yn=mn.bias;if(yn!=0){let jt=bn(en,Xe.scale),tn=it>=0?1:-1,cn=jt>=0?1:-1;cn==tn&&(cn==1?yn==1?it>=jt:it<=jt:yn==1?it<=jt:it>=jt)&&(En=an,Hn=ye)}else En=an,Hn=ye}}if(Qt||kl){let en,an;F.ori==0?(en=Ht,an=Ft):(en=Ft,an=Ht);let yn,jt,tn,cn,xn,It,Wt=!0,fl=Et.bbox;if(fl!=null){Wt=!1;let Lt=fl(l,ye);tn=Lt.left,cn=Lt.top,yn=Lt.width,jt=Lt.height}else tn=en,cn=an,yn=jt=Et.size(l,ye);if(It=Et.fill(l,ye),xn=Et.stroke(l,ye),kl)ye==Hn&&En<=mn.prox&&(ae=tn,fe=cn,Ee=yn,ze=jt,Oe=Wt,Ie=It,ke=xn);else{let Lt=Xt[ye];Lt!=null&&(Dl[ye]=tn,Tl[ye]=cn,Ga(Lt,yn,jt,Wt),Wa(Lt,It,xn),Sn(Lt,ln(tn),ln(cn),Y,z))}}}}if(kl){let ye=mn.prox,Xe=cl==null?En<=ye:En>ye||Hn!=cl;if(Qt||Xe){let ot=Xt[0];ot!=null&&(Dl[0]=ae,Tl[0]=fe,Ga(ot,Ee,ze,Oe),Wa(ot,Ie,ke),Sn(ot,ln(ae),ln(fe),Y,z))}}}if(Qe.show&&Nn)if(i!=null){let[K,X]=ct.scales,[oe,ae]=ct.match,[fe,Ee]=i.cursor.sync.scales,ze=i.cursor.drag;if(yt=ze._x,xt=ze._y,yt||xt){let{left:Oe,top:Ie,width:ke,height:ye}=i.select,Xe=i.scales[fe].ori,ot=i.posToVal,St,je,it,Ht,Ft,en=K!=null&&oe(K,fe),an=X!=null&&ae(X,Ee);en&&yt?(Xe==0?(St=Oe,je=ke):(St=Ie,je=ye),it=C[K],Ht=I(ot(St,fe),it,D,0),Ft=I(ot(St+je,fe),it,D,0),cs(hn(Ht,Ft),ht(Ft-Ht))):cs(0,D),an&&xt?(Xe==1?(St=Oe,je=ke):(St=Ie,je=ye),it=C[X],Ht=B(ot(St,Ee),it,V,0),Ft=B(ot(St+je,Ee),it,V,0),us(hn(Ht,Ft),ht(Ft-Ht))):us(0,V)}else no()}else{let K=ht($i-Vi),X=ht(Ni-zi);if(F.ori==1){let Ee=K;K=X,X=Ee}yt=Dt.x&&K>=Dt.dist,xt=Dt.y&&X>=Dt.dist;let oe=Dt.uni;oe!=null?yt&&xt&&(yt=K>=oe,xt=X>=oe,!yt&&!xt&&(X>K?xt=!0:yt=!0)):Dt.x&&Dt.y&&(yt||xt)&&(yt=xt=!0);let ae,fe;yt&&(F.ori==0?(ae=Rl,fe=Ze):(ae=Fl,fe=nt),cs(hn(ae,fe),ht(fe-ae)),xt||us(0,V)),xt&&(F.ori==1?(ae=Rl,fe=Ze):(ae=Fl,fe=nt),us(hn(ae,fe),ht(fe-ae)),yt||cs(0,D)),!yt&&!xt&&(cs(0,0),us(0,0))}if(Dt._x=yt,Dt._y=xt,i==null){if(h){if(ea!=null){let[K,X]=ct.scales;ct.values[0]=K!=null?bn(F.ori==0?Ze:nt,K):null,ct.values[1]=X!=null?bn(F.ori==1?Ze:nt,X):null}ds(yo,l,Ze,nt,Y,z,m)}if(Cl){let K=h&&ct.setSeries,X=mn.prox;cl==null?En<=X&&vn(Hn,Ll,!0,K):En>X?vn(null,Ll,!0,K):Hn!=cl&&vn(Hn,Ll,!0,K)}}Qt&&(ee.idx=m,Xr()),u!==!1&&wt("setCursor")}let jn=null;Object.defineProperty(l,"rect",{get(){return jn==null&&fs(!1),jn}});function fs(i=!1){i?jn=null:(jn=w.getBoundingClientRect(),wt("syncRect",jn))}function ji(i,u,h,m,x,D,V){q._lock||Nn&&i!=null&&i.movementX==0&&i.movementY==0||(eo(i,u,h,m,x,D,V,!1,i!=null),i!=null?ul(null,!0,!0):ul(u,!0,!1))}function eo(i,u,h,m,x,D,V,K,X){if(jn==null&&fs(!1),il(i),i!=null)h=i.clientX-jn.left,m=i.clientY-jn.top;else{if(h<0||m<0){Ze=-10,nt=-10;return}let[oe,ae]=ct.scales,fe=u.cursor.sync,[Ee,ze]=fe.values,[Oe,Ie]=fe.scales,[ke,ye]=ct.match,Xe=u.axes[0].side%2==1,ot=F.ori==0?Y:z,St=F.ori==1?Y:z,je=Xe?D:x,it=Xe?x:D,Ht=Xe?m:h,Ft=Xe?h:m;if(Oe!=null?h=ke(oe,Oe)?a(Ee,C[oe],ot,0):-10:h=ot*(Ht/je),Ie!=null?m=ye(ae,Ie)?a(ze,C[ae],St,0):-10:m=St*(Ft/it),F.ori==1){let en=h;h=m,m=en}}X&&(u==null||u.cursor.event.type==yo)&&((h<=1||h>=Y-1)&&(h=pl(h,Y)),(m<=1||m>=z-1)&&(m=pl(m,z))),K?(Vi=h,zi=m,[Rl,Fl]=q.move(l,h,m)):(Ze=h,nt=m)}const to={width:0,height:0,left:0,top:0};function no(){Ys(to,!1)}let Wi,Ki,Gi,Yi;function qi(i,u,h,m,x,D,V){Nn=!0,yt=xt=Dt._x=Dt._y=!1,eo(i,u,h,m,x,D,V,!0,!1),i!=null&&(W(xo,Oo,Ji,!1),ds(Va,l,Rl,Fl,Y,z,null));let{left:K,top:X,width:oe,height:ae}=Qe;Wi=K,Ki=X,Gi=oe,Yi=ae}function Ji(i,u,h,m,x,D,V){Nn=Dt._x=Dt._y=!1,eo(i,u,h,m,x,D,V,!1,!0);let{left:K,top:X,width:oe,height:ae}=Qe,fe=oe>0||ae>0,Ee=Wi!=K||Ki!=X||Gi!=oe||Yi!=ae;if(fe&&Ee&&Ys(Qe),Dt.setScale&&fe&&Ee){let ze=K,Oe=oe,Ie=X,ke=ae;if(F.ori==1&&(ze=X,Oe=ae,Ie=K,ke=oe),yt&&Bn(te,bn(ze,te),bn(ze+Oe,te)),xt)for(let ye in C){let Xe=C[ye];ye!=te&&Xe.from==null&&Xe.min!=Ke&&Bn(ye,bn(Ie+ke,ye),bn(Ie,ye))}no()}else q.lock&&(q._lock=!q._lock,ul(u,!0,i!=null));i!=null&&(N(xo,Oo),ds(xo,l,Ze,nt,Y,z,null))}function Nf(i,u,h,m,x,D,V){if(q._lock)return;il(i);let K=Nn;if(Nn){let X=!0,oe=!0,ae=10,fe,Ee;F.ori==0?(fe=yt,Ee=xt):(fe=xt,Ee=yt),fe&&Ee&&(X=Ze<=ae||Ze>=Y-ae,oe=nt<=ae||nt>=z-ae),fe&&X&&(Ze=Ze<Rl?0:Y),Ee&&oe&&(nt=nt<Fl?0:z),ul(null,!0,!0),Nn=!1}Ze=-10,nt=-10,ce.fill(null),ul(null,!0,!0),K&&(Nn=K)}function Zi(i,u,h,m,x,D,V){q._lock||(il(i),Vr(),no(),i!=null&&ds(Na,l,Ze,nt,Y,z,null))}function Qi(){P.forEach(mm),Or(l.width,l.height,!0)}xl(pr,Gl,Qi);const Ul={};Ul.mousedown=qi,Ul.mousemove=ji,Ul.mouseup=Ji,Ul.dblclick=Zi,Ul.setSeries=(i,u,h,m)=>{let x=ct.match[2];h=x(l,u,h),h!=-1&&vn(h,m,!0,!1)},_e&&(W(Va,w,qi),W(yo,w,ji),W(za,w,i=>{il(i),fs(!1)}),W($a,w,Nf),W(Na,w,Zi),Wo.add(l),l.syncRect=fs);const qs=l.hooks=e.hooks||{};function wt(i,u,h){qr?as.push([i,u,h]):i in qs&&qs[i].forEach(m=>{m.call(null,l,u,h)})}(e.plugins||[]).forEach(i=>{for(let u in i.hooks)qs[u]=(qs[u]||[]).concat(i.hooks[u])});const Xi=(i,u,h)=>h,ct=ut({key:null,setSeries:!1,filters:{pub:Qa,sub:Qa},scales:[te,E[1]?E[1].scale:null],match:[Xa,Xa,Xi],values:[null,null]},q.sync);ct.match.length==2&&ct.match.push(Xi),q.sync=ct;const ea=ct.key,lo=tf(ea);function ds(i,u,h,m,x,D,V){ct.filters.pub(i,u,h,m,x,D,V)&&lo.pub(i,u,h,m,x,D,V)}lo.sub(l);function Bf(i,u,h,m,x,D,V){ct.filters.sub(i,u,h,m,x,D,V)&&Ul[i](null,u,h,m,x,D,V)}l.pub=Bf;function Hf(){lo.unsub(l),Wo.delete(l),Q.clear(),$o(pr,Gl,Qi),f.remove(),xe==null||xe.remove(),wt("destroy")}l.destroy=Hf;function so(){wt("init",e,t),Ai(t||e.data,!1),$[te]?Jr(te,$[te]):Vr(),Bs=Qe.show&&(Qe.width>0||Qe.height>0),ol=Qt=!0,Or(e.width,e.height)}return E.forEach(Ei),P.forEach(wf),n?n instanceof HTMLElement?(n.appendChild(f),so()):n(l,so):so(),l}Mt.assign=ut;Mt.fmtNum=vi;Mt.rangeNum=mr;Mt.rangeLog=Ar;Mt.rangeAsinh=pi;Mt.orient=Sl;Mt.pxRatio=$e;Mt.join=ip;Mt.fmtDate=yi,Mt.tzDate=bp;Mt.sync=tf;{Mt.addGap=em,Mt.clipGaps=Fr;let e=Mt.paths={points:af};e.linear=uf,e.stepped=lm,e.bars=sm,e.spline=om}const vm=["title"],bm={class:"absolute top-2 right-2 flex gap-2 z-10"},ym={key:0,class:"bg-blue-600 text-white text-xs px-2 py-1 rounded flex items-center gap-2"},xm={class:"flex items-center gap-2"},wm={class:"grid grid-cols-2 gap-2 mb-3 text-xs"},Sm={class:"flex items-center gap-1.5 mb-1.5"},Cm={class:"grid grid-cols-3 gap-2 text-xs"},km={class:"text-green-500 font-mono"},Dm={class:"text-red-500 font-mono"},Tm={class:"text-blue-500 font-mono"},Mm={key:1,class:"absolute inset-0 flex items-center justify-center pointer-events-none"},Em=ts({__name:"OscilloscopeChart",props:{data:{},dataVersion:{},channels:{},channelCount:{},sampleRate:{},getChartData:{type:Function},getChartDataInRange:{type:Function},getSelectionStats:{type:Function},totalPoints:{},isDark:{type:Boolean}},emits:["selection-change","cursor-values"],setup(e,{expose:t,emit:n}){const l=e,s=n,r=Se(null),o=Ls(null),a=Se(null),c=Ls(null),f=Se(null),d=Se(!1),g=Se(0),b=Se(0),y=Se(null),w=Se(!1),k=Se(null),L=Se([]),O=Se(null),E=Se(null),P=Se({x:8,y:8}),C=Se(!1),ie=Se({x:0,y:0}),te=ue=>{if(!E.value)return;C.value=!0;const le=E.value.getBoundingClientRect();ie.value={x:ue.clientX-le.left,y:ue.clientY-le.top},document.addEventListener("mousemove",ve),document.addEventListener("mouseup",he)},ve=ue=>{var v;if(!C.value||!r.value)return;const le=r.value.getBoundingClientRect(),pe=(v=E.value)==null?void 0:v.getBoundingClientRect();if(!pe)return;let De=ue.clientX-le.left-ie.value.x,p=ue.clientY-le.top-ie.value.y;De=Math.max(0,Math.min(De,le.width-pe.width)),p=Math.max(0,Math.min(p,le.height-pe.height)),P.value={x:De,y:p}},he=()=>{C.value=!1,document.removeEventListener("mousemove",ve),document.removeEventListener("mouseup",he)};let be=null,G=0,F=!1,Z=null,I=null;const B=ns(()=>{const ue=l.totalPoints,le=l.sampleRate,pe=33;return le>7500&&ue>5e5?50:ue>5e5?40:ue>2e5?35:ue>1e5?pe+2:ue>5e4?pe+1:pe}),$=(ue,le)=>{const pe=[{label:""}];for(let M=0;M<Math.max(l.channelCount,1);M++){const R=l.channels[M],U=(R==null?void 0:R.color)||Pn[M%Pn.length],J=(R==null?void 0:R.visible)??!0;pe.push({label:(R==null?void 0:R.name)||` ${M+1}`,stroke:U,width:1.5,show:J,spanGaps:!0})}const De=l.isDark,p=De?"#888":"#333",v=De?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)",T=De?"#666":"#888";return{width:ue,height:le,series:pe,scales:{x:{time:!1},y:{auto:!0}},axes:[{stroke:p,grid:{stroke:v,width:1},ticks:{stroke:T,width:1},font:"11px system-ui",labelFont:"12px system-ui"},{stroke:p,grid:{stroke:v,width:1},ticks:{stroke:T,width:1},font:"11px system-ui",labelFont:"12px system-ui"}],cursor:{show:!0,drag:{x:!0,y:!0,setScale:!1},focus:{prox:30},points:{size:6,fill:(M,R)=>M.series[R].stroke}},select:{show:!0,left:0,top:0,width:0,height:0},legend:{show:!0},hooks:{setSelect:[M=>{const R=M.select.left,U=M.select.width;if(U>10){const J=M.posToVal(R,"x"),Q=M.posToVal(R+U,"x"),W=Math.max(0,Math.floor(J)),N=Math.min(l.totalPoints-1,Math.ceil(Q));if(N>W){w.value&&k.value&&L.value.push({...k.value});const de=l.getSelectionStats(W,N);y.value=de,s("selection-change",de),k.value={start:W,end:N},w.value=!0}}M.setSelect({left:0,top:0,width:0,height:0},!1)}],setCursor:[M=>{const R=M.cursor.idx;if(R!=null&&R>=0&&M.data&&M.data[0]&&R<M.data[0].length){const U=[];for(let J=1;J<M.data.length;J++)U.push(M.data[J][R]);O.value=Math.round(M.data[0][R]),s("cursor-values",U,O.value)}else O.value=null,s("cursor-values",null,null)}]}}},_=(ue,le)=>{const pe=[{label:""}];for(let T=0;T<Math.max(l.channelCount,1);T++){const M=l.channels[T],R=(M==null?void 0:M.color)||Pn[T%Pn.length];((M==null?void 0:M.visible)??!0)&&pe.push({label:(M==null?void 0:M.name)||` ${T+1}`,stroke:R,width:1,show:!0,spanGaps:!0,fill:`${R}20`})}const De=l.isDark,p=De?"#666":"#ccc";return{width:ue,height:le,series:pe,scales:{x:{time:!1},y:{auto:!0}},axes:[{stroke:p,grid:{show:!1},ticks:{show:!1},size:0},{stroke:p,grid:{stroke:De?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.05)",width:1},ticks:{show:!1},size:0}],cursor:{show:!1},select:{show:!1,left:0,top:0,width:0,height:0},legend:{show:!1},hooks:{}}},A=()=>{if(!r.value)return;const ue=r.value.getBoundingClientRect(),le=ue.width||800,pe=ue.height||400,De=[[0]];for(let v=0;v<Math.max(l.channelCount,1);v++)De.push([0]);const p=$(le,pe);o.value=new Mt(p,De,r.value),j()},j=()=>{if(!a.value||l.totalPoints===0)return;const le=a.value.getBoundingClientRect().width||800,pe=60,De=l.getChartData();if(!De||De[0].length===0)return;const p=le*2,v=De[0],T=Math.max(1,Math.ceil(v.length/p)),M=[[]];for(let U=1;U<De.length;U++)M.push([]);for(let U=0;U<v.length;U+=T){M[0].push(v[U]);for(let J=1;J<De.length;J++){const Q=De[J];M[J].push(Q[U])}}const R=_(le,pe);c.value=new Mt(R,M,a.value),ne()},ne=()=>{if(!f.value||!c.value||l.totalPoints===0)return;const ue=l.totalPoints;let le=0,pe=1;if(w.value&&k.value){const De=k.value.end-k.value.start;le=k.value.start/ue,pe=De/ue}f.value.style.left=`${le*100}%`,f.value.style.width=`${pe*100}%`},re=ue=>{!f.value||!a.value||(d.value=!0,g.value=ue.clientX,b.value=parseFloat(f.value.style.left||"0"),document.addEventListener("mousemove",ce),document.addEventListener("mouseup",ee),ue.preventDefault())},ce=ue=>{if(!d.value||!f.value||!a.value||!c.value)return;const le=a.value.getBoundingClientRect(),De=(ue.clientX-g.value)/le.width*100;let p=b.value+De;const v=parseFloat(f.value.style.width||"100");p=Math.max(0,Math.min(p,100-v)),f.value.style.left=`${p}%`;const T=l.totalPoints,M=Math.floor(p/100*T),R=Math.floor((p+v)/100*T);if(R>M){k.value={start:M,end:R},w.value=!0;const U=l.getSelectionStats(M,R);y.value=U,s("selection-change",U)}},ee=()=>{d.value=!1,document.removeEventListener("mousemove",ce),document.removeEventListener("mouseup",ee)},q=()=>{if(!o.value||F){be=requestAnimationFrame(q);return}const ue=performance.now();if(ue-G<B.value){be=requestAnimationFrame(q);return}G=ue,F=!0;try{let le;if(w.value&&k.value?le=l.getChartDataInRange(k.value.start,k.value.end):le=l.getChartData(),!le||le.length===0||le[0].length===0){if(o.value){const De=[[]];for(let p=0;p<l.channelCount;p++)De.push([]);o.value.setData(De)}be=requestAnimationFrame(q),F=!1;return}const pe=l.channelCount+1;if(o.value.series.length!==pe){Ae(),A(),be=requestAnimationFrame(q),F=!1;return}l.channels.forEach((De,p)=>{const v=p+1;o.value&&o.value.series[v]&&o.value.series[v].show!==De.visible&&o.value.setSeries(v,{show:De.visible})}),o.value.setData(le)}finally{F=!1}be=requestAnimationFrame(q)},Fe=()=>{if(L.value.length>0){const ue=L.value.pop();if(ue){k.value=ue;const le=l.getSelectionStats(ue.start,ue.end);y.value=le,s("selection-change",le);return}}w.value=!1,k.value=null,y.value=null,s("selection-change",null)},_e=()=>{w.value=!1,k.value=null,L.value=[],y.value=null,s("selection-change",null)},Ae=()=>{be&&(cancelAnimationFrame(be),be=null),o.value&&(o.value.destroy(),o.value=null),c.value&&(c.value.destroy(),c.value=null)},xe=()=>{I&&clearTimeout(I),I=setTimeout(()=>{if(!r.value||!o.value)return;const ue=r.value.getBoundingClientRect(),le=Math.max(100,Math.floor(ue.width)),pe=Math.max(100,Math.floor(ue.height));if(le>0&&pe>0){const De=o.value.width,p=o.value.height;(Math.abs(De-le)>1||Math.abs(p-pe)>1)&&o.value.setSize({width:le,height:pe})}},100)};return at(()=>l.channelCount,(ue,le)=>{ue!==le&&ue>0&&(Ae(),A(),be=requestAnimationFrame(q))}),at(()=>l.isDark,async()=>{o.value&&(Ae(),await A(),be=requestAnimationFrame(q)),a.value&&l.totalPoints>0&&(c.value&&(c.value.destroy(),c.value=null),j())}),at(()=>l.totalPoints,(ue,le)=>{le>0&&ue===0&&(w.value=!1,k.value=null,L.value=[],y.value=null,s("selection-change",null))}),at(()=>l.channels,()=>{if(w.value&&k.value){const ue=l.getSelectionStats(k.value.start,k.value.end);y.value=ue,s("selection-change",ue)}},{deep:!0}),at(()=>l.totalPoints,(ue,le)=>{ue>0&&le===0?j():ue>0&&c.value&&(c.value.destroy(),c.value=null,j())}),at([()=>w.value,()=>k.value],()=>{ne()}),ai(()=>{A(),be=requestAnimationFrame(q),r.value&&(Z=new ResizeObserver(()=>{xe()}),Z.observe(r.value)),window.addEventListener("resize",xe)}),Dr(()=>{Ae(),Z&&(Z.disconnect(),Z=null),I&&(clearTimeout(I),I=null),window.removeEventListener("resize",xe),document.removeEventListener("mousemove",ve),document.removeEventListener("mouseup",he),document.removeEventListener("mousemove",ce),document.removeEventListener("mouseup",ee)}),t({resetZoom:_e}),(ue,le)=>{var pe,De,p;return we(),Ce("div",{class:H(["w-full h-full rounded-lg overflow-hidden relative",e.isDark?"bg-gray-800":"bg-white"])},[S("div",{ref_key:"chartContainer",ref:r,class:H(["w-full h-full",e.isDark?"dark-chart":"light-chart"]),onDblclick:le[0]||(le[0]=v=>w.value&&Fe()),title:w.value?"":""},null,42,vm),S("div",bm,[w.value?(we(),Ce("div",ym,[S("span",null,": "+Te((pe=k.value)==null?void 0:pe.start)+" - "+Te((De=k.value)==null?void 0:De.end),1),S("button",{class:"hover:bg-blue-500 rounded px-1",onClick:_e,title:""},[...le[1]||(le[1]=[S("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)])])])):lt("",!0),e.totalPoints>1e5?(we(),Ce("div",{key:1,class:H(["text-xs px-2 py-1 rounded",e.isDark?"bg-yellow-600 text-white":"bg-yellow-200 text-yellow-800"]),title:""},Te((e.totalPoints/1e3).toFixed(0))+"K  ",3)):lt("",!0)]),y.value?(we(),Ce("div",{key:0,ref_key:"panelRef",ref:E,class:H(["absolute backdrop-blur rounded-lg p-3 z-10 border max-h-[80%] overflow-y-auto shadow-xl",e.isDark?"bg-gray-900/95 border-gray-700":"bg-white/98 border-gray-400 shadow-lg",{"cursor-grabbing":C.value}]),style:Xn({left:P.value.x+"px",top:P.value.y+"px",minWidth:"200px",maxWidth:"280px"})},[S("div",{class:H(["flex items-center justify-between mb-2 select-none cursor-grab",{"cursor-grabbing":C.value}]),onMousedown:te},[S("div",xm,[(we(),Ce("svg",{class:H(["w-4 h-4",e.isDark?"text-gray-500":"text-gray-600"]),fill:"currentColor",viewBox:"0 0 24 24"},[...le[2]||(le[2]=[S("path",{d:"M8 6a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 18a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM14 6a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM14 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM14 18a2 2 0 1 1-4 0 2 2 0 0 1 4 0z"},null,-1)])],2)),S("h3",{class:H(["text-sm font-semibold",e.isDark?"text-white":"text-gray-900"])},"",2)]),S("button",{class:H(["p-1",e.isDark?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"]),onClick:ir(_e,["stop"])},[...le[3]||(le[3]=[S("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],2)],34),S("div",wm,[S("div",null,[S("span",{class:H(e.isDark?"text-gray-500":"text-gray-600")},"",2),S("div",{class:H(["font-mono",e.isDark?"text-white":"text-gray-900"])},Te((p=y.value.pointCount)==null?void 0:p.toLocaleString()),3)]),S("div",null,[S("span",{class:H(e.isDark?"text-gray-500":"text-gray-600")},"",2),S("div",{class:H(["font-mono",e.isDark?"text-white":"text-gray-900"])},Te(me(Ph)(y.value.duration)),3)]),S("div",null,[S("span",{class:H(e.isDark?"text-gray-500":"text-gray-600")},"",2),S("div",{class:H(["font-mono",e.isDark?"text-white":"text-gray-900"])},Te(me(_t)(y.value.frequency,0))+"Hz",3)]),S("div",null,[S("span",{class:H(e.isDark?"text-gray-500":"text-gray-600")},"",2),S("div",{class:H(["font-mono text-xs",e.isDark?"text-white":"text-gray-900"])},Te(y.value.startIndex)+"-"+Te(y.value.endIndex),3)])]),S("div",{class:H(["border-t pt-2 space-y-2",e.isDark?"border-gray-700":"border-gray-300"])},[(we(!0),Ce(Tt,null,ql(y.value.channels,v=>{var T,M;return we(),Ce("div",{key:v.id,class:H(["rounded p-2 border",e.isDark?"bg-gray-800 border-gray-700":"bg-gray-50 border-gray-300 shadow-sm"])},[S("div",Sm,[S("span",{class:"w-2 h-2 rounded-full flex-shrink-0",style:Xn({backgroundColor:((T=e.channels[v.id])==null?void 0:T.color)||me(Pn)[v.id%me(Pn).length]})},null,4),S("span",{class:H(["text-xs font-medium truncate",e.isDark?"text-gray-300":"text-gray-800"])},Te(((M=e.channels[v.id])==null?void 0:M.name)||` ${v.id+1}`),3)]),S("div",Cm,[S("div",null,[S("div",{class:H((e.isDark,"text-gray-600"))},"",2),S("div",km,Te(me(_t)(v.min)),1)]),S("div",null,[S("div",{class:H((e.isDark,"text-gray-600"))},"",2),S("div",Dm,Te(me(_t)(v.max)),1)]),S("div",null,[S("div",{class:H((e.isDark,"text-gray-600"))},"",2),S("div",Tm,Te(me(_t)(v.avg)),1)])])],2)}),128))],2)],6)):lt("",!0),e.totalPoints===0?(we(),Ce("div",Mm,[S("div",{class:H(["text-center",e.isDark?"text-gray-500":"text-gray-400"])},[le[4]||(le[4]=S("svg",{class:"w-16 h-16 mx-auto mb-4 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)),le[5]||(le[5]=S("p",null,"...",-1)),le[6]||(le[6]=S("p",{class:"text-sm mt-2"},"",-1)),S("p",{class:H(["text-xs mt-3",e.isDark?"text-gray-600":"text-gray-500"])},": ",2)],2)])):lt("",!0),e.totalPoints>0&&!y.value?(we(),Ce("div",{key:2,class:H(["absolute bottom-2 left-2 text-xs",e.isDark?"text-gray-500":"text-gray-400"]),style:{bottom:"75px"}},"  ",2)):lt("",!0),e.totalPoints>0?(we(),Ce("div",{key:3,class:H(["absolute bottom-0 left-0 right-0 z-20",e.isDark?"border-t border-gray-700":"border-t border-gray-300"]),style:Xn({height:"70px",background:e.isDark?"#1f2937":"#f9fafb"})},[S("div",{ref_key:"minimapContainer",ref:a,class:"absolute inset-0",style:{margin:"5px 10px 5px 10px",height:"60px"}},null,512),c.value?(we(),Ce("div",{key:0,ref_key:"minimapViewport",ref:f,class:H(["absolute top-0 bottom-0 cursor-grab border-2",e.isDark?"bg-blue-900/30 border-blue-500":"bg-blue-100/50 border-blue-500",{"cursor-grabbing":d.value}]),style:{margin:"5px 10px 5px 10px","min-width":"20px"},onMousedown:re},null,34)):lt("",!0)],6)):lt("",!0)],2)}}}),_m=(e,t)=>{const n=e.__vccOpts||e;for(const[l,s]of t)n[l]=s;return n},Am=_m(Em,[["__scopeId","data-v-4e0d80c8"]]),Pm={class:"flex items-center gap-4"},Rm={class:"flex items-center gap-1.5"},Fm={key:0,class:"text-red-400 ml-1"},Im={key:0},Lm=ts({__name:"StatusBar",props:{status:{},errorMessage:{},sampleRate:{},totalPoints:{},frameCount:{},channelCount:{},isDark:{type:Boolean}},setup(e){const t={disconnected:"text-gray-500",connecting:"text-yellow-400",connected:"text-green-400",error:"text-red-400"},n={disconnected:"",connecting:"",connected:"",error:""};return(l,s)=>(we(),Ce("footer",{class:H(["border-t px-4 py-2 flex items-center justify-between text-xs",e.isDark?"bg-gray-800 border-gray-700":"bg-gray-100 border-gray-300"])},[S("div",Pm,[S("div",Rm,[S("span",{class:H(["w-1.5 h-1.5 rounded-full",t[e.status].replace("text-","bg-")])},null,2),S("span",{class:H(t[e.status])},Te(n[e.status]),3),e.errorMessage?(we(),Ce("span",Fm,"- "+Te(e.errorMessage),1)):lt("",!0)]),e.channelCount>0?(we(),Ce("div",{key:0,class:H(e.isDark?"text-gray-400":"text-gray-600")},[s[0]||(s[0]=dn(" : ",-1)),S("span",{class:H(e.isDark?"text-gray-300":"text-gray-700")},Te(e.channelCount),3)],2)):lt("",!0)]),S("div",{class:H(["flex items-center gap-3",e.isDark?"text-gray-500":"text-gray-600"])},[S("a",{href:"mailto:createskyblue@outlook.com",class:H(["flex items-center gap-1",e.isDark?"hover:text-gray-300":"hover:text-gray-800"]),title:""},[...s[1]||(s[1]=[S("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1),S("span",{class:"hidden sm:inline"},"createskyblue@outlook.com",-1)])],2),S("a",{href:"https://github.com/createskyblue/justfloat-web-oscilloscope",target:"_blank",rel:"noopener noreferrer",class:H(["flex items-center gap-1",e.isDark?"hover:text-gray-300":"hover:text-gray-800"]),title:"GitHub Pages"},[...s[2]||(s[2]=[S("svg",{class:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 24 24"},[S("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z"})],-1),S("span",{class:"hidden sm:inline"},"GitHub",-1)])],2)],2),S("div",{class:H(["flex items-center gap-4",e.isDark?"text-gray-400":"text-gray-600"])},[e.sampleRate>0?(we(),Ce("div",Im,[s[3]||(s[3]=dn(" : ",-1)),S("span",{class:H(["font-mono",e.isDark?"text-gray-300":"text-gray-700"])},Te(me(Rh)(e.sampleRate)),3)])):lt("",!0),S("div",null,[s[4]||(s[4]=dn(" : ",-1)),S("span",{class:H(["font-mono",e.isDark?"text-gray-300":"text-gray-700"])},Te(me(Ia)(e.totalPoints)),3)]),S("div",null,[s[5]||(s[5]=dn(" : ",-1)),S("span",{class:H(["font-mono",e.isDark?"text-gray-300":"text-gray-700"])},Te(me(Ia)(e.frameCount)),3)])],2)],2))}});function Um(){const e=Se("disconnected"),t=Se(""),n=Ls(null),l=Ls(null);let s=null,r=!1,o=null;const a=()=>"serial"in navigator,c=async(y=115200)=>{if(!a())return e.value="error",t.value=" Web Serial API Chrome  Edge ",!1;n.value&&await d();try{return e.value="connecting",t.value="",n.value=await navigator.serial.requestPort(),await n.value.open({baudRate:y,dataBits:8,stopBits:1,parity:"none",flowControl:"none",bufferSize:4096}),e.value="connected",o=f(),!0}catch(w){return e.value="error",w instanceof Error?w.name==="NotFoundError"?t.value="":w.name==="InvalidStateError"?t.value="":t.value=w.message:t.value="",n.value=null,!1}},f=async()=>{var y,w;if(!(!((y=n.value)!=null&&y.readable)||r)){r=!0;try{for(;r&&((w=n.value)!=null&&w.readable);){l.value=n.value.readable.getReader();try{for(;r;){const{value:k,done:L}=await l.value.read();if(L)break;k&&s&&s(k)}}finally{l.value.releaseLock(),l.value=null}}}catch(k){r&&(console.error(":",k),e.value="error",t.value=k instanceof Error?k.message:"")}r=!1}},d=async()=>{r=!1;try{if(l.value){try{await l.value.cancel()}catch{}try{l.value.releaseLock()}catch{}l.value=null}if(o){try{await Promise.race([o,new Promise(y=>setTimeout(y,500))])}catch{}o=null}if(n.value){try{await n.value.close()}catch(y){console.warn(":",y)}n.value=null}}catch(y){console.error(":",y)}e.value="disconnected",t.value=""};return{status:e,errorMessage:t,isSupported:a,connect:c,disconnect:d,onData:y=>{s=y},getPortInfo:()=>n.value?n.value.getInfo():null}}function Om(){const e=Se("disconnected"),t=Se("");let n=null,l=null;const s=()=>!0,r=async f=>(n&&await o(),new Promise(d=>{try{e.value="connecting",t.value="",n=new WebSocket(f),n.binaryType="arraybuffer",n.onopen=()=>{e.value="connected",d(!0)},n.onmessage=g=>{if(l){if(g.data instanceof ArrayBuffer)l(new Uint8Array(g.data));else if(typeof g.data=="string"){const b=new TextEncoder;l(b.encode(g.data))}}},n.onerror=()=>{e.value="error",t.value="WebSocket ",d(!1)},n.onclose=g=>{e.value==="connected"&&(e.value="disconnected",t.value=g.wasClean?"":""),n=null}}catch(g){e.value="error",t.value=g instanceof Error?g.message:"",n=null,d(!1)}})),o=async()=>{if(n){try{n.close(1e3,"User disconnect")}catch{}n=null}e.value="disconnected",t.value=""};return{status:e,errorMessage:t,isSupported:s,connect:r,disconnect:o,onData:f=>{l=f},send:f=>n&&n.readyState===WebSocket.OPEN?(n.send(f),!0):!1}}function Vm(){const e=Se("disconnected"),t=Se("");let n=null,l=null,s=null;const r=()=>"bluetooth"in navigator,o=async y=>{if(!r())return e.value="error",t.value=" Web Bluetooth API Chrome  Edge ",!1;n&&await d();try{e.value="connecting",t.value="";const w=wc(y.serviceUUID),k=wc(y.characteristicUUID);if(!w||!k)throw new Error(" UUID ");if(n=await navigator.bluetooth.requestDevice({filters:[{services:[w]}],optionalServices:[w]}),!n.gatt)throw new Error(" GATT");return n.addEventListener("gattserverdisconnected",c),l=await(await(await n.gatt.connect()).getPrimaryService(w)).getCharacteristic(k),await l.startNotifications(),l.addEventListener("characteristicvaluechanged",a),e.value="connected",!0}catch(w){return e.value="error",w instanceof Error?w.name==="NotFoundError"?t.value="":w.name==="SecurityError"?t.value="":w.name==="NetworkError"?t.value="":t.value=w.message:t.value="",n=null,l=null,!1}},a=y=>{const w=y.target;w.value&&s&&s(new Uint8Array(w.value.buffer))},c=()=>{e.value==="connected"&&(e.value="disconnected",t.value=""),f()},f=()=>{if(l){try{l.removeEventListener("characteristicvaluechanged",a)}catch{}l=null}if(n){try{n.removeEventListener("gattserverdisconnected",c)}catch{}n=null}},d=async()=>{var y;try{if(l)try{await l.stopNotifications()}catch{}(y=n==null?void 0:n.gatt)!=null&&y.connected&&n.gatt.disconnect()}catch(w){console.warn(":",w)}f(),e.value="disconnected",t.value=""};return{status:e,errorMessage:t,isSupported:r,connect:o,disconnect:d,onData:y=>{s=y},getDeviceInfo:()=>n?{name:n.name||"",id:n.id}:null}}function wc(e){return e?(e=e.trim().toLowerCase(),/^(0x)?[0-9a-f]{4}$/i.test(e)?`0000${e.replace(/^0x/,"")}-0000-1000-8000-00805f9b34fb`:/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e)?e:/^[0-9a-f]{32}$/i.test(e)?`${e.slice(0,8)}-${e.slice(8,12)}-${e.slice(12,16)}-${e.slice(16,20)}-${e.slice(20)}`:null):null}function zm(){const e=Se(0),t=Se(0),n=Se("justfloat");let l=[],s=0,r=-1,o=0,a="",c=new TextDecoder,f=null,d=null;const g=100,b=16;let y=[],w=null;const k=()=>{if(w&&(clearTimeout(w),w=null),y.length===0)return;const _=y;if(y=[],d)d(_);else if(f)for(const A of _)f(A)},L=()=>{w&&clearTimeout(w),w=setTimeout(k,b)},O=_=>{y.push(_),t.value++,(_.length>e.value||e.value===0)&&(e.value=_.length),y.length>=g?k():L()},E=()=>{if(l.length<4)return!1;const _=l.length-4;return l[_]===Xs[0]&&l[_+1]===Xs[1]&&l[_+2]===Xs[2]&&l[_+3]===Xs[3]},P=(_,A)=>{const j=A-_;return!(j%4!==0||j===0||j<4||j>256)},C=_=>{const A=[],j=new DataView(new ArrayBuffer(4));for(let ne=0;ne<_.length;ne+=4)j.setUint8(0,_[ne]),j.setUint8(1,_[ne+1]),j.setUint8(2,_[ne+2]),j.setUint8(3,_[ne+3]),A.push(j.getFloat32(0,!0));return A},ie=_=>{for(let A=0;A<_.length;A++)switch(l.push(_[A]),l.length>1e5&&(l=l.slice(-5e4),s=0,r=-1),s){case 0:E()&&(r=l.length-4,s=1);break;case 1:if(E()){const j=l.length-4,ne=r+4,re=j;if(P(ne,re)){const ce=l.slice(ne,re),ee=C(ce);if(o>0&&ee.length!==o){s=0,r=-1;break}ee.length>0&&(o===0&&(o=ee.length),O(ee))}else break;l=l.slice(j),r=0}break}},te=_=>{a+=c.decode(_,{stream:!0}),a.length>1e5&&(a=a.slice(-5e4));let A;for(;(A=ve(a))!==-1;){const j=a.substring(0,A).trim();if(a=a.substring(A+1),!j)continue;const ne=he(j);ne&&ne.length>0&&O(ne)}},ve=_=>{for(let A=0;A<_.length;A++)if(_[A]===`
`||_[A]==="\r")return A+1<_.length&&(_[A+1]===`
`||_[A+1]==="\r")&&_[A+1]!==_[A]?A+1:A;return-1},he=_=>{if(_.toLowerCase().startsWith("image"))return null;let A=_;const j=_.indexOf(":");j!==-1&&(A=_.substring(j+1));const ne=A.split(","),re=[];for(const ce of ne){const ee=ce.trim();if(ee==="")continue;const q=parseFloat(ee);if(isFinite(q))re.push(q);else return null}return re.length>0?re:null},be=_=>{n.value==="justfloat"?ie(_):te(_)},G=_=>{f=_},F=_=>{d=_},Z=_=>{n.value!==_&&(n.value=_,I())},I=()=>{w&&(clearTimeout(w),w=null),y=[],l=[],s=0,r=-1,o=0,a="",c=new TextDecoder};return{channelCount:e,frameCount:t,currentProtocol:n,processData:be,onFrame:G,onFramesBatch:F,setProtocol:Z,reset:I,fullReset:()=>{I(),e.value=0,t.value=0},setChannelCount:_=>{e.value=_}}}class $m{constructor(t){Ol(this,"buffer");Ol(this,"head",0);Ol(this,"tail",0);Ol(this,"_size",0);Ol(this,"capacity");this.capacity=t,this.buffer=new Array(t)}push(t){this.buffer[this.tail]=t,this.tail=(this.tail+1)%this.capacity,this._size<this.capacity?this._size++:this.head=(this.head+1)%this.capacity}pushBatch(t){for(const n of t)this.push(n)}get size(){return this._size}get(t){if(!(t<0||t>=this._size))return this.buffer[(this.head+t)%this.capacity]}getRange(t,n){const l=[],s=Math.min(n,this._size-1);for(let r=t;r<=s;r++){const o=this.get(r);o&&l.push(o)}return l}toArray(){const t=new Array(this._size);for(let n=0;n<this._size;n++)t[n]=this.buffer[(this.head+n)%this.capacity];return t}clear(){this.head=0,this.tail=0,this._size=0}resize(t){if(t===this.capacity)return;const n=this.toArray().slice(-t);this.capacity=t,this.buffer=new Array(t),this.head=0,this.tail=0,this._size=0;for(const l of n)this.push(l)}}function Nm(e=1e4){const t=Se(Math.max(_s,Math.min(As,e))),n=new $m(t.value),l=Se(0),s=Ls([]),r=Se(0);let o=new Map;const a=100;let c=0,f=0,d=!1;const g=()=>{d||(d=!0,queueMicrotask(()=>{l.value++,d=!1}))},b=ns(()=>(l.value,n.size)),y=G=>{const F=performance.now(),Z={timestamp:F,values:G};f===0&&(f=F,c=0),c++;const I=F-f;I>=1e3&&(r.value=Math.round(c/(I/1e3)),f=F,c=0),n.push(Z),g()},w=G=>{if(G.length===0)return;const F=performance.now(),I=1e3/(r.value>0?r.value:1),B=G.map((_,A)=>({timestamp:F+A*I,values:_}));f===0&&(f=F,c=0),c+=G.length;const $=F-f;$>=1e3&&(r.value=Math.round(c/($/1e3)),f=F,c=0),n.pushBatch(B),g()},k=(G,F=1)=>{const Z=performance.now(),I=n.size;if(I===0)return null;const B=o.get(G);if(B&&Z-B.timestamp<a)return{min:B.stats.min*F,max:B.stats.max*F,avg:B.stats.avg*F,current:B.stats.current*F};let $=1/0,_=-1/0,A=0,j=0,ne=0;const re=I>5e4?Math.ceil(I/1e4):1;for(let q=0;q<I;q+=re){const Fe=n.get(q);if(Fe&&G<Fe.values.length){const _e=Fe.values[G];isFinite(_e)&&($=Math.min($,_e),_=Math.max(_,_e),A+=_e,j++)}}const ce=n.get(I-1);if(ce&&G<ce.values.length&&(ne=ce.values[G]),j===0)return null;const ee={min:$,max:_,avg:A/j,current:ne};return o.set(G,{stats:ee,timestamp:Z}),{min:ee.min*F,max:ee.max*F,avg:ee.avg*F,current:ee.current*F}},L=(G,F,Z,I=[])=>{const B=n.getRange(G,F);if(B.length<2)return null;const $=B.length,_=r.value>0?r.value:1,A=$/_*1e3,j=1e3/A,ne=[];for(let re=0;re<Z;re++){let ce=1/0,ee=-1/0,q=0,Fe=0;const _e=I[re]??1;for(const Ae of B)if(re<Ae.values.length){const xe=Ae.values[re];isFinite(xe)&&(ce=Math.min(ce,xe),ee=Math.max(ee,xe),q+=xe,Fe++)}ne.push({id:re,min:(Fe>0?ce:0)*_e,max:(Fe>0?ee:0)*_e,avg:(Fe>0?q/Fe:0)*_e})}return{startIndex:G,endIndex:F,pointCount:$,duration:A,frequency:j,channels:ne}},O=(G,F=[])=>{l.value;const Z=n.size;if(Z===0)return null;let I;Z>5e5?I=5e3:Z>2e5?I=1e4:Z>1e5?I=2e4:Z>5e4?I=3e4:I=Z;const B=Z>I,$=B?Math.ceil(Z/I):1,_=B?Math.ceil(Z/$):Z,A=new Float64Array(_),j=[];for(let ne=0;ne<G;ne++)j.push(new Float64Array(_));if(B&&Z>1e5){let ne=0;for(let re=0;re<Z&&ne<_;re+=$){const ce=Math.min(re+$,Z);let ee=re,q=0;for(let _e=re;_e<ce;_e++){const Ae=n.get(_e);if(Ae)for(let xe=0;xe<G;xe++){const ue=xe<Ae.values.length?Ae.values[xe]:0,le=Math.abs(ue);le>q&&(q=le,ee=_e)}}const Fe=n.get(ee);if(Fe){A[ne]=ee;for(let _e=0;_e<G;_e++){const Ae=_e<Fe.values.length?Fe.values[_e]:0,xe=F[_e]??1;j[_e][ne]=Ae*xe}ne++}}if(ne<_)return[A.slice(0,ne),...j.map(re=>re.slice(0,ne))]}else{let ne=0;for(let re=0;re<Z&&ne<_;re+=$){const ce=n.get(re);if(ce){A[ne]=re;for(let ee=0;ee<G;ee++){const q=ee<ce.values.length?ce.values[ee]:0,Fe=F[ee]??1;j[ee][ne]=q*Fe}ne++}}}return[A,...j]},E=(G,F,Z,I=[])=>{const B=F-G+1;if(B<=0)return null;const $=Math.min(B,5e4),_=B>$?Math.ceil(B/$):1,A=Math.ceil(B/_),j=new Float64Array(A),ne=[];for(let ce=0;ce<Z;ce++)ne.push(new Float64Array(A));let re=0;for(let ce=G;ce<=F&&re<A;ce+=_){const ee=n.get(ce);if(ee){j[re]=ce;for(let q=0;q<Z;q++){const Fe=q<ee.values.length?ee.values[q]:0,_e=I[q]??1;ne[q][re]=Fe*_e}re++}}return[j.slice(0,re),...ne.map(ce=>ce.slice(0,re))]},P=()=>{n.clear(),o.clear(),s.value=[],l.value++,r.value=0,c=0,f=0};return{bufferSize:t,data:s,dataVersion:l,sampleRate:r,totalPoints:b,addFrame:y,addFrames:w,getChannelStats:k,getSelectionStats:L,getChartData:O,getChartDataInRange:E,getDataSize:()=>n.size,clear:P,setBufferSize:G=>{const F=Math.max(_s,Math.min(As,G));t.value=F,n.resize(F),l.value++},importData:G=>{P();const F=G.slice(-t.value);for(const Z of F)n.push(Z);l.value++},exportData:()=>{const G=n.size;if(G===0)return[];const F=n.get(0);if(!F)return[];const Z=F.values.length,I=[];for(let B=0;B<Z;B++)I[B]=[];for(let B=0;B<G;B++){const $=n.get(B);if($)for(let _=0;_<Z;_++)I[_].push(_<$.values.length?$.values[_]:0)}return I},importChannels:(G,F,Z)=>{if(console.log("[importChannels] "),console.log("[importChannels] :",F),console.log("[importChannels] :",t.value),console.log("[importChannels] :",G.length),P(),G.length===0){console.error("[importChannels] ");return}const I=G[0].length,B=Math.min(I,t.value);console.log("[importChannels] :",I,":",B);for(let $=0;$<B;$++){const _=[];for(let A=0;A<F;A++){const j=A<G.length?G[A][$]??0:0;_.push(j)}y(_)}Z&&Z>0&&(r.value=Z),console.log("[importChannels] :",n.size,":",r.value)},setSampleRate:G=>{r.value=G}}}function Bm(){const e=Se([]),t=y=>({id:y,name:` ${y+1}`,unit:"",coefficient:1,visible:!0,color:Pn[y%Pn.length]}),n=y=>{if(y<=0)return;const w=e.value;if(w.length<y){const k=[...w];for(let L=w.length;L<y;L++)k.push(t(L));e.value=k}else w.length>y},l=(y,w)=>{const k=e.value.findIndex(L=>L.id===y);if(k!==-1){const L=[...e.value];L[k]={...L[k],...w},e.value=L}};return{channels:e,ensureChannels:n,updateChannel:l,toggleVisibility:y=>{var w;l(y,{visible:!((w=e.value.find(k=>k.id===y))!=null&&w.visible)})},setName:(y,w)=>{l(y,{name:w})},setUnit:(y,w)=>{l(y,{unit:w})},setCoefficient:(y,w)=>{l(y,{coefficient:w})},getVisibleChannels:()=>e.value.filter(y=>y.visible),getColors:()=>e.value.map(y=>y.color),getCoefficients:()=>e.value.map(y=>y.coefficient),resetChannels:()=>{e.value=e.value.map((y,w)=>t(w))},loadChannels:y=>{e.value=y.map((w,k)=>({...t(k),...w,id:k}))}}}const Do="justfloat-oscilloscope-config";function Hm(){const e=()=>{try{const s=localStorage.getItem(Do);if(s){const r=JSON.parse(s);return{...vo,...r,bufferSize:Math.max(1e3,r.bufferSize||vo.bufferSize)}}}catch(s){console.error(":",s)}return{...vo}},t=s=>{try{localStorage.setItem(Do,JSON.stringify(s))}catch(r){console.error(":",r)}};return{loadConfig:e,saveConfig:t,clearConfig:()=>{try{localStorage.removeItem(Do)}catch(s){console.error(":",s)}},createReactiveConfig:()=>{const s=Se(e());return at(s,r=>{t(r)},{deep:!0}),s}}}const jm={class:"flex-1 flex overflow-hidden"},Wm={class:"flex-1 min-w-0 p-4"},Km=ts({__name:"App",setup(e){const{loadConfig:t,saveConfig:n}=Hm(),l=t(),s=Um(),r=Om(),o=Vm(),a=zm(),c=Nm(l.bufferSize),f=Bm();l.channels.length>0&&f.loadChannels(l.channels);const d=Se(l.isDark??!0);ai(()=>{g()});const g=()=>{d.value?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},b=()=>{d.value=!d.value,g()},y=Se(l.baudRate),w=Se(l.bufferSize),k=Se(l.protocol||"justfloat"),L=Se(l.connectionType||"serial"),O=Se(l.wsUrl||"ws://localhost:8080"),E=Se(l.btServiceUUID||"ffe0"),P=Se(l.btCharacteristicUUID||"ffe1"),C=ns(()=>{switch(L.value){case"websocket":return r;case"bluetooth":return o;default:return s}}),ie=Se(null),te=Se(null);a.setProtocol(k.value);const ve=async()=>{const I=C.value;I.status.value==="connected"?(await I.disconnect(),a.reset()):L.value==="websocket"?await r.connect(O.value):L.value==="bluetooth"?await o.connect({serviceUUID:E.value,characteristicUUID:P.value}):await s.connect(y.value)},he=I=>{a.processData(I)};s.onData(he),r.onData(he),o.onData(he),a.onFramesBatch(I=>{c.addFrames(I)}),at(()=>a.channelCount.value,I=>{I>0&&f.ensureChannels(I)}),at([y,w,k,L,O,E,P,()=>f.channels.value],()=>{const I={baudRate:y.value,bufferSize:w.value,protocol:k.value,connectionType:L.value,wsUrl:O.value,btServiceUUID:E.value,btCharacteristicUUID:P.value,channels:f.channels.value,isDark:d.value};n(I)},{deep:!0}),at(k,I=>{a.setProtocol(I)}),at(w,I=>{c.setBufferSize(I)});const be=()=>{c.clear(),a.fullReset(),ie.value=null,te.value=null},G=(I,B)=>{ie.value=I,te.value=B},F=()=>{const I={config:{baudRate:y.value,bufferSize:w.value,protocol:k.value,connectionType:L.value,wsUrl:O.value,btServiceUUID:E.value,btCharacteristicUUID:P.value,channels:f.channels.value},channels:c.exportData(),sampleRate:c.sampleRate.value,exportTime:new Date().toISOString()},B=`oscilloscope-${new Date().toISOString().slice(0,19).replace(/:/g,"-")}.json`;Fh(I,B)},Z=async()=>{const I=document.createElement("input");I.type="file",I.accept=".json",I.onchange=async B=>{var _,A;const $=(_=B.target.files)==null?void 0:_[0];if($)try{console.log(":",$.name);const j=await Ih($);if(console.log(":",j),j.config&&(console.log(":",j.config),y.value=j.config.baudRate,w.value=j.config.bufferSize,j.config.channels&&f.loadChannels(j.config.channels)),j.channels&&j.channels.length>0){console.log(":",j.channels.length),console.log(":",(A=j.channels[0])==null?void 0:A.length),console.log(":",j.sampleRate);const ne=j.channels.length;a.setChannelCount(ne),f.ensureChannels(ne),c.importChannels(j.channels,ne,j.sampleRate),console.log(":",c.totalPoints.value),alert(" "+c.totalPoints.value+" ")}else console.error(""),alert("")}catch(j){console.error(":",j),alert(": "+j.message)}},I.click()};return vs("serial",s),vs("parser",a),vs("buffer",c),vs("channelConfig",f),Dr(()=>{s.disconnect(),r.disconnect(),o.disconnect()}),(I,B)=>(we(),Ce("div",{class:H(["h-screen flex flex-col",d.value?"bg-gray-900":"bg-white"])},[qt(Ah,{status:C.value.status.value,"is-supported":L.value==="websocket"||(L.value==="bluetooth"?me(o).isSupported():me(s).isSupported()),"connection-type":L.value,"ws-url":O.value,"bt-service-u-u-i-d":E.value,"bt-characteristic-u-u-i-d":P.value,"baud-rate":y.value,"is-dark":d.value,onConnect:ve,onClear:be,onExport:F,onImport:Z,onToggleTheme:b,"onUpdate:connectionType":B[0]||(B[0]=$=>L.value=$),"onUpdate:wsUrl":B[1]||(B[1]=$=>O.value=$),"onUpdate:btServiceUUID":B[2]||(B[2]=$=>E.value=$),"onUpdate:btCharacteristicUUID":B[3]||(B[3]=$=>P.value=$),"onUpdate:baudRate":B[4]||(B[4]=$=>y.value=$)},null,8,["status","is-supported","connection-type","ws-url","bt-service-u-u-i-d","bt-characteristic-u-u-i-d","baud-rate","is-dark"]),S("div",jm,[qt(wg,{"buffer-size":w.value,"onUpdate:bufferSize":B[5]||(B[5]=$=>w.value=$),protocol:k.value,"onUpdate:protocol":B[6]||(B[6]=$=>k.value=$),channels:me(f).channels.value,"channel-count":me(a).channelCount.value,"cursor-values":ie.value,"cursor-index":te.value,"get-channel-stats":$=>{var _;return me(c).getChannelStats($,((_=me(f).channels.value[$])==null?void 0:_.coefficient)??1)},"is-dark":d.value,onUpdateChannel:me(f).updateChannel,onToggleVisibility:me(f).toggleVisibility},null,8,["buffer-size","protocol","channels","channel-count","cursor-values","cursor-index","get-channel-stats","is-dark","onUpdateChannel","onToggleVisibility"]),S("div",Wm,[qt(Am,{data:me(c).data.value,"data-version":me(c).dataVersion.value,channels:me(f).channels.value,"channel-count":me(a).channelCount.value,"sample-rate":me(c).sampleRate.value,"total-points":me(c).totalPoints.value,"get-chart-data":()=>me(c).getChartData(me(a).channelCount.value,me(f).getCoefficients()),"get-chart-data-in-range":($,_)=>me(c).getChartDataInRange($,_,me(a).channelCount.value,me(f).getCoefficients()),"get-selection-stats":($,_)=>me(c).getSelectionStats($,_,me(a).channelCount.value,me(f).getCoefficients()),"is-dark":d.value,onCursorValues:G},null,8,["data","data-version","channels","channel-count","sample-rate","total-points","get-chart-data","get-chart-data-in-range","get-selection-stats","is-dark"])])]),qt(Lm,{status:C.value.status.value,"error-message":C.value.errorMessage.value,"sample-rate":me(c).sampleRate.value,"total-points":me(c).totalPoints.value,"frame-count":me(a).frameCount.value,"channel-count":me(a).channelCount.value,"is-dark":d.value},null,8,["status","error-message","sample-rate","total-points","frame-count","channel-count","is-dark"])],2))}});uh(Km).mount("#app");
