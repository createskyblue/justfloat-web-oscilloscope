var Gf=Object.defineProperty;var Yf=(e,t,n)=>t in e?Gf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var $l=(e,t,n)=>Yf(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();/**
* @vue/shared v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function qo(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const qe={},Kl=[],En=()=>{},Dc=()=>!1,yr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Jo=e=>e.startsWith("onUpdate:"),Lt=Object.assign,Zo=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},qf=Object.prototype.hasOwnProperty,Ke=(e,t)=>qf.call(e,t),_e=Array.isArray,Gl=e=>xr(e)==="[object Map]",Mc=e=>xr(e)==="[object Set]",Fe=e=>typeof e=="function",gt=e=>typeof e=="string",Wn=e=>typeof e=="symbol",ot=e=>e!==null&&typeof e=="object",Tc=e=>(ot(e)||Fe(e))&&Fe(e.then)&&Fe(e.catch),Ec=Object.prototype.toString,xr=e=>Ec.call(e),Jf=e=>xr(e).slice(8,-1),Ac=e=>xr(e)==="[object Object]",Qo=e=>gt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ks=qo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),wr=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Zf=/-\w/g,ol=wr(e=>e.replace(Zf,t=>t.slice(1).toUpperCase())),Qf=/\B([A-Z])/g,al=wr(e=>e.replace(Qf,"-$1").toLowerCase()),Pc=wr(e=>e.charAt(0).toUpperCase()+e.slice(1)),oo=wr(e=>e?`on${Pc(e)}`:""),rl=(e,t)=>!Object.is(e,t),sr=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},_c=(e,t,n,l=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:l,value:n})},Xo=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let ra;const Sr=()=>ra||(ra=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Pn(e){if(_e(e)){const t={};for(let n=0;n<e.length;n++){const l=e[n],s=gt(l)?nd(l):Pn(l);if(s)for(const r in s)t[r]=s[r]}return t}else if(gt(e)||ot(e))return e}const Xf=/;(?![^(]*\))/g,ed=/:([^]+)/,td=/\/\*[^]*?\*\//g;function nd(e){const t={};return e.replace(td,"").split(Xf).forEach(n=>{if(n){const l=n.split(ed);l.length>1&&(t[l[0].trim()]=l[1].trim())}}),t}function j(e){let t="";if(gt(e))t=e;else if(_e(e))for(let n=0;n<e.length;n++){const l=j(e[n]);l&&(t+=l+" ")}else if(ot(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const ld="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",sd=qo(ld);function Fc(e){return!!e||e===""}const Rc=e=>!!(e&&e.__v_isRef===!0),Ee=e=>gt(e)?e:e==null?"":_e(e)||ot(e)&&(e.toString===Ec||!Fe(e.toString))?Rc(e)?Ee(e.value):JSON.stringify(e,Ic,2):String(e),Ic=(e,t)=>Rc(t)?Ic(e,t.value):Gl(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[l,s],r)=>(n[io(l,r)+" =>"]=s,n),{})}:Mc(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>io(n))}:Wn(t)?io(t):ot(t)&&!_e(t)&&!Ac(t)?String(t):t,io=(e,t="")=>{var n;return Wn(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Wt;class rd{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Wt,!t&&Wt&&(this.index=(Wt.scopes||(Wt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Wt;try{return Wt=this,t()}finally{Wt=n}}}on(){++this._on===1&&(this.prevScope=Wt,Wt=this)}off(){this._on>0&&--this._on===0&&(Wt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,l;for(n=0,l=this.effects.length;n<l;n++)this.effects[n].stop();for(this.effects.length=0,n=0,l=this.cleanups.length;n<l;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,l=this.scopes.length;n<l;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function od(){return Wt}let Xe;const ao=new WeakSet;class Lc{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Wt&&Wt.active&&Wt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ao.has(this)&&(ao.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Oc(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,oa(this),zc(this);const t=Xe,n=mn;Xe=this,mn=!0;try{return this.fn()}finally{Vc(this),Xe=t,mn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)ni(t);this.deps=this.depsTail=void 0,oa(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ao.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){To(this)&&this.run()}get dirty(){return To(this)}}let Uc=0,Ds,Ms;function Oc(e,t=!1){if(e.flags|=8,t){e.next=Ms,Ms=e;return}e.next=Ds,Ds=e}function ei(){Uc++}function ti(){if(--Uc>0)return;if(Ms){let t=Ms;for(Ms=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Ds;){let t=Ds;for(Ds=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(l){e||(e=l)}t=n}}if(e)throw e}function zc(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Vc(e){let t,n=e.depsTail,l=n;for(;l;){const s=l.prevDep;l.version===-1?(l===n&&(n=s),ni(l),id(l)):t=l,l.dep.activeLink=l.prevActiveLink,l.prevActiveLink=void 0,l=s}e.deps=t,e.depsTail=n}function To(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&($c(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function $c(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Is)||(e.globalVersion=Is,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!To(e))))return;e.flags|=2;const t=e.dep,n=Xe,l=mn;Xe=e,mn=!0;try{zc(e);const s=e.fn(e._value);(t.version===0||rl(s,e._value))&&(e.flags|=128,e._value=s,t.version++)}catch(s){throw t.version++,s}finally{Xe=n,mn=l,Vc(e),e.flags&=-3}}function ni(e,t=!1){const{dep:n,prevSub:l,nextSub:s}=e;if(l&&(l.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=l,e.nextSub=void 0),n.subs===e&&(n.subs=l,!l&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)ni(r,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function id(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let mn=!0;const Bc=[];function $n(){Bc.push(mn),mn=!1}function Bn(){const e=Bc.pop();mn=e===void 0?!0:e}function oa(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Xe;Xe=void 0;try{t()}finally{Xe=n}}}let Is=0;class ad{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class li{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Xe||!mn||Xe===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Xe)n=this.activeLink=new ad(Xe,this),Xe.deps?(n.prevDep=Xe.depsTail,Xe.depsTail.nextDep=n,Xe.depsTail=n):Xe.deps=Xe.depsTail=n,Nc(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const l=n.nextDep;l.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=l),n.prevDep=Xe.depsTail,n.nextDep=void 0,Xe.depsTail.nextDep=n,Xe.depsTail=n,Xe.deps===n&&(Xe.deps=l)}return n}trigger(t){this.version++,Is++,this.notify(t)}notify(t){ei();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{ti()}}}function Nc(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let l=t.deps;l;l=l.nextDep)Nc(l)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Eo=new WeakMap,xl=Symbol(""),Ao=Symbol(""),Ls=Symbol("");function Ft(e,t,n){if(mn&&Xe){let l=Eo.get(e);l||Eo.set(e,l=new Map);let s=l.get(n);s||(l.set(n,s=new li),s.map=l,s.key=n),s.track()}}function Ln(e,t,n,l,s,r){const o=Eo.get(e);if(!o){Is++;return}const i=c=>{c&&c.trigger()};if(ei(),t==="clear")o.forEach(i);else{const c=_e(e),f=c&&Qo(n);if(c&&n==="length"){const d=Number(l);o.forEach((h,m)=>{(m==="length"||m===Ls||!Wn(m)&&m>=d)&&i(h)})}else switch((n!==void 0||o.has(void 0))&&i(o.get(n)),f&&i(o.get(Ls)),t){case"add":c?f&&i(o.get("length")):(i(o.get(xl)),Gl(e)&&i(o.get(Ao)));break;case"delete":c||(i(o.get(xl)),Gl(e)&&i(o.get(Ao)));break;case"set":Gl(e)&&i(o.get(xl));break}}ti()}function Bl(e){const t=je(e);return t===e?t:(Ft(t,"iterate",Ls),on(e)?t:t.map(vn))}function Cr(e){return Ft(e=je(e),"iterate",Ls),e}function Qn(e,t){return Nn(e)?wl(e)?Ql(vn(t)):Ql(t):vn(t)}const cd={__proto__:null,[Symbol.iterator](){return co(this,Symbol.iterator,e=>Qn(this,e))},concat(...e){return Bl(this).concat(...e.map(t=>_e(t)?Bl(t):t))},entries(){return co(this,"entries",e=>(e[1]=Qn(this,e[1]),e))},every(e,t){return Rn(this,"every",e,t,void 0,arguments)},filter(e,t){return Rn(this,"filter",e,t,n=>n.map(l=>Qn(this,l)),arguments)},find(e,t){return Rn(this,"find",e,t,n=>Qn(this,n),arguments)},findIndex(e,t){return Rn(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Rn(this,"findLast",e,t,n=>Qn(this,n),arguments)},findLastIndex(e,t){return Rn(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Rn(this,"forEach",e,t,void 0,arguments)},includes(...e){return uo(this,"includes",e)},indexOf(...e){return uo(this,"indexOf",e)},join(e){return Bl(this).join(e)},lastIndexOf(...e){return uo(this,"lastIndexOf",e)},map(e,t){return Rn(this,"map",e,t,void 0,arguments)},pop(){return ps(this,"pop")},push(...e){return ps(this,"push",e)},reduce(e,...t){return ia(this,"reduce",e,t)},reduceRight(e,...t){return ia(this,"reduceRight",e,t)},shift(){return ps(this,"shift")},some(e,t){return Rn(this,"some",e,t,void 0,arguments)},splice(...e){return ps(this,"splice",e)},toReversed(){return Bl(this).toReversed()},toSorted(e){return Bl(this).toSorted(e)},toSpliced(...e){return Bl(this).toSpliced(...e)},unshift(...e){return ps(this,"unshift",e)},values(){return co(this,"values",e=>Qn(this,e))}};function co(e,t,n){const l=Cr(e),s=l[t]();return l!==e&&!on(e)&&(s._next=s.next,s.next=()=>{const r=s._next();return r.done||(r.value=n(r.value)),r}),s}const ud=Array.prototype;function Rn(e,t,n,l,s,r){const o=Cr(e),i=o!==e&&!on(e),c=o[t];if(c!==ud[t]){const h=c.apply(e,r);return i?vn(h):h}let f=n;o!==e&&(i?f=function(h,m){return n.call(this,Qn(e,h),m,e)}:n.length>2&&(f=function(h,m){return n.call(this,h,m,e)}));const d=c.call(o,f,l);return i&&s?s(d):d}function ia(e,t,n,l){const s=Cr(e);let r=n;return s!==e&&(on(e)?n.length>3&&(r=function(o,i,c){return n.call(this,o,i,c,e)}):r=function(o,i,c){return n.call(this,o,Qn(e,i),c,e)}),s[t](r,...l)}function uo(e,t,n){const l=je(e);Ft(l,"iterate",Ls);const s=l[t](...n);return(s===-1||s===!1)&&ii(n[0])?(n[0]=je(n[0]),l[t](...n)):s}function ps(e,t,n=[]){$n(),ei();const l=je(e)[t].apply(e,n);return ti(),Bn(),l}const fd=qo("__proto__,__v_isRef,__isVue"),Hc=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Wn));function dd(e){Wn(e)||(e=String(e));const t=je(this);return Ft(t,"has",e),t.hasOwnProperty(e)}class Wc{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,l){if(n==="__v_skip")return t.__v_skip;const s=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return r;if(n==="__v_raw")return l===(s?r?Sd:Yc:r?Gc:Kc).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(l)?t:void 0;const o=_e(t);if(!s){let c;if(o&&(c=cd[n]))return c;if(n==="hasOwnProperty")return dd}const i=Reflect.get(t,n,It(t)?t:l);if((Wn(n)?Hc.has(n):fd(n))||(s||Ft(t,"get",n),r))return i;if(It(i)){const c=o&&Qo(n)?i:i.value;return s&&ot(c)?_o(c):c}return ot(i)?s?_o(i):ri(i):i}}class jc extends Wc{constructor(t=!1){super(!1,t)}set(t,n,l,s){let r=t[n];const o=_e(t)&&Qo(n);if(!this._isShallow){const f=Nn(r);if(!on(l)&&!Nn(l)&&(r=je(r),l=je(l)),!o&&It(r)&&!It(l))return f||(r.value=l),!0}const i=o?Number(n)<t.length:Ke(t,n),c=Reflect.set(t,n,l,It(t)?t:s);return t===je(s)&&(i?rl(l,r)&&Ln(t,"set",n,l):Ln(t,"add",n,l)),c}deleteProperty(t,n){const l=Ke(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&l&&Ln(t,"delete",n,void 0),s}has(t,n){const l=Reflect.has(t,n);return(!Wn(n)||!Hc.has(n))&&Ft(t,"has",n),l}ownKeys(t){return Ft(t,"iterate",_e(t)?"length":xl),Reflect.ownKeys(t)}}class hd extends Wc{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const gd=new jc,pd=new hd,md=new jc(!0);const Po=e=>e,Zs=e=>Reflect.getPrototypeOf(e);function vd(e,t,n){return function(...l){const s=this.__v_raw,r=je(s),o=Gl(r),i=e==="entries"||e===Symbol.iterator&&o,c=e==="keys"&&o,f=s[e](...l),d=n?Po:t?Ql:vn;return!t&&Ft(r,"iterate",c?Ao:xl),{next(){const{value:h,done:m}=f.next();return m?{value:h,done:m}:{value:i?[d(h[0]),d(h[1])]:d(h),done:m}},[Symbol.iterator](){return this}}}}function Qs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function bd(e,t){const n={get(s){const r=this.__v_raw,o=je(r),i=je(s);e||(rl(s,i)&&Ft(o,"get",s),Ft(o,"get",i));const{has:c}=Zs(o),f=t?Po:e?Ql:vn;if(c.call(o,s))return f(r.get(s));if(c.call(o,i))return f(r.get(i));r!==o&&r.get(s)},get size(){const s=this.__v_raw;return!e&&Ft(je(s),"iterate",xl),s.size},has(s){const r=this.__v_raw,o=je(r),i=je(s);return e||(rl(s,i)&&Ft(o,"has",s),Ft(o,"has",i)),s===i?r.has(s):r.has(s)||r.has(i)},forEach(s,r){const o=this,i=o.__v_raw,c=je(i),f=t?Po:e?Ql:vn;return!e&&Ft(c,"iterate",xl),i.forEach((d,h)=>s.call(r,f(d),f(h),o))}};return Lt(n,e?{add:Qs("add"),set:Qs("set"),delete:Qs("delete"),clear:Qs("clear")}:{add(s){!t&&!on(s)&&!Nn(s)&&(s=je(s));const r=je(this);return Zs(r).has.call(r,s)||(r.add(s),Ln(r,"add",s,s)),this},set(s,r){!t&&!on(r)&&!Nn(r)&&(r=je(r));const o=je(this),{has:i,get:c}=Zs(o);let f=i.call(o,s);f||(s=je(s),f=i.call(o,s));const d=c.call(o,s);return o.set(s,r),f?rl(r,d)&&Ln(o,"set",s,r):Ln(o,"add",s,r),this},delete(s){const r=je(this),{has:o,get:i}=Zs(r);let c=o.call(r,s);c||(s=je(s),c=o.call(r,s)),i&&i.call(r,s);const f=r.delete(s);return c&&Ln(r,"delete",s,void 0),f},clear(){const s=je(this),r=s.size!==0,o=s.clear();return r&&Ln(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=vd(s,e,t)}),n}function si(e,t){const n=bd(e,t);return(l,s,r)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?l:Reflect.get(Ke(n,s)&&s in l?n:l,s,r)}const yd={get:si(!1,!1)},xd={get:si(!1,!0)},wd={get:si(!0,!1)};const Kc=new WeakMap,Gc=new WeakMap,Yc=new WeakMap,Sd=new WeakMap;function Cd(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function kd(e){return e.__v_skip||!Object.isExtensible(e)?0:Cd(Jf(e))}function ri(e){return Nn(e)?e:oi(e,!1,gd,yd,Kc)}function Dd(e){return oi(e,!1,md,xd,Gc)}function _o(e){return oi(e,!0,pd,wd,Yc)}function oi(e,t,n,l,s){if(!ot(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=kd(e);if(r===0)return e;const o=s.get(e);if(o)return o;const i=new Proxy(e,r===2?l:n);return s.set(e,i),i}function wl(e){return Nn(e)?wl(e.__v_raw):!!(e&&e.__v_isReactive)}function Nn(e){return!!(e&&e.__v_isReadonly)}function on(e){return!!(e&&e.__v_isShallow)}function ii(e){return e?!!e.__v_raw:!1}function je(e){const t=e&&e.__v_raw;return t?je(t):e}function Md(e){return!Ke(e,"__v_skip")&&Object.isExtensible(e)&&_c(e,"__v_skip",!0),e}const vn=e=>ot(e)?ri(e):e,Ql=e=>ot(e)?_o(e):e;function It(e){return e?e.__v_isRef===!0:!1}function ve(e){return qc(e,!1)}function Us(e){return qc(e,!0)}function qc(e,t){return It(e)?e:new Td(e,t)}class Td{constructor(t,n){this.dep=new li,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:je(t),this._value=n?t:vn(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,l=this.__v_isShallow||on(t)||Nn(t);t=l?t:je(t),rl(t,n)&&(this._rawValue=t,this._value=l?t:vn(t),this.dep.trigger())}}function we(e){return It(e)?e.value:e}const Ed={get:(e,t,n)=>t==="__v_raw"?e:we(Reflect.get(e,t,n)),set:(e,t,n,l)=>{const s=e[t];return It(s)&&!It(n)?(s.value=n,!0):Reflect.set(e,t,n,l)}};function Jc(e){return wl(e)?e:new Proxy(e,Ed)}class Ad{constructor(t,n,l){this.fn=t,this.setter=n,this._value=void 0,this.dep=new li(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Is-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=l}notify(){if(this.flags|=16,!(this.flags&8)&&Xe!==this)return Oc(this,!0),!0}get value(){const t=this.dep.track();return $c(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Pd(e,t,n=!1){let l,s;return Fe(e)?l=e:(l=e.get,s=e.set),new Ad(l,s,n)}const Xs={},ur=new WeakMap;let ml;function _d(e,t=!1,n=ml){if(n){let l=ur.get(n);l||ur.set(n,l=[]),l.push(e)}}function Fd(e,t,n=qe){const{immediate:l,deep:s,once:r,scheduler:o,augmentJob:i,call:c}=n,f=w=>s?w:on(w)||s===!1||s===0?Un(w,1):Un(w);let d,h,m,b,S=!1,T=!1;if(It(e)?(h=()=>e.value,S=on(e)):wl(e)?(h=()=>f(e),S=!0):_e(e)?(T=!0,S=e.some(w=>wl(w)||on(w)),h=()=>e.map(w=>{if(It(w))return w.value;if(wl(w))return f(w);if(Fe(w))return c?c(w,2):w()})):Fe(e)?t?h=c?()=>c(e,2):e:h=()=>{if(m){$n();try{m()}finally{Bn()}}const w=ml;ml=d;try{return c?c(e,3,[b]):e(b)}finally{ml=w}}:h=En,t&&s){const w=h,ie=s===!0?1/0:s;h=()=>Un(w(),ie)}const U=od(),$=()=>{d.stop(),U&&U.active&&Zo(U.effects,d)};if(r&&t){const w=t;t=(...ie)=>{w(...ie),$()}}let P=T?new Array(e.length).fill(Xs):Xs;const E=w=>{if(!(!(d.flags&1)||!d.dirty&&!w))if(t){const ie=d.run();if(s||S||(T?ie.some((ne,be)=>rl(ne,P[be])):rl(ie,P))){m&&m();const ne=ml;ml=d;try{const be=[ie,P===Xs?void 0:T&&P[0]===Xs?[]:P,b];P=ie,c?c(t,3,be):t(...be)}finally{ml=ne}}}else d.run()};return i&&i(E),d=new Lc(h),d.scheduler=o?()=>o(E,!1):E,b=w=>_d(w,!1,d),m=d.onStop=()=>{const w=ur.get(d);if(w){if(c)c(w,4);else for(const ie of w)ie();ur.delete(d)}},t?l?E(!0):P=d.run():o?o(E.bind(null,!0),!0):d.run(),$.pause=d.pause.bind(d),$.resume=d.resume.bind(d),$.stop=$,$}function Un(e,t=1/0,n){if(t<=0||!ot(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,It(e))Un(e.value,t,n);else if(_e(e))for(let l=0;l<e.length;l++)Un(e[l],t,n);else if(Mc(e)||Gl(e))e.forEach(l=>{Un(l,t,n)});else if(Ac(e)){for(const l in e)Un(e[l],t,n);for(const l of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,l)&&Un(e[l],t,n)}return e}/**
* @vue/runtime-core v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ns(e,t,n,l){try{return l?e(...l):e()}catch(s){kr(s,t,n)}}function _n(e,t,n,l){if(Fe(e)){const s=Ns(e,t,n,l);return s&&Tc(s)&&s.catch(r=>{kr(r,t,n)}),s}if(_e(e)){const s=[];for(let r=0;r<e.length;r++)s.push(_n(e[r],t,n,l));return s}}function kr(e,t,n,l=!0){const s=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||qe;if(t){let i=t.parent;const c=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${n}`;for(;i;){const d=i.ec;if(d){for(let h=0;h<d.length;h++)if(d[h](e,c,f)===!1)return}i=i.parent}if(r){$n(),Ns(r,null,10,[e,c,f]),Bn();return}}Rd(e,n,s,l,o)}function Rd(e,t,n,l=!0,s=!1){if(s)throw e;console.error(e)}const $t=[];let Mn=-1;const Yl=[];let Xn=null,Hl=0;const Zc=Promise.resolve();let fr=null;function Fo(e){const t=fr||Zc;return e?t.then(this?e.bind(this):e):t}function Id(e){let t=Mn+1,n=$t.length;for(;t<n;){const l=t+n>>>1,s=$t[l],r=Os(s);r<e||r===e&&s.flags&2?t=l+1:n=l}return t}function ai(e){if(!(e.flags&1)){const t=Os(e),n=$t[$t.length-1];!n||!(e.flags&2)&&t>=Os(n)?$t.push(e):$t.splice(Id(t),0,e),e.flags|=1,Qc()}}function Qc(){fr||(fr=Zc.then(eu))}function Ld(e){_e(e)?Yl.push(...e):Xn&&e.id===-1?Xn.splice(Hl+1,0,e):e.flags&1||(Yl.push(e),e.flags|=1),Qc()}function aa(e,t,n=Mn+1){for(;n<$t.length;n++){const l=$t[n];if(l&&l.flags&2){if(e&&l.id!==e.uid)continue;$t.splice(n,1),n--,l.flags&4&&(l.flags&=-2),l(),l.flags&4||(l.flags&=-2)}}}function Xc(e){if(Yl.length){const t=[...new Set(Yl)].sort((n,l)=>Os(n)-Os(l));if(Yl.length=0,Xn){Xn.push(...t);return}for(Xn=t,Hl=0;Hl<Xn.length;Hl++){const n=Xn[Hl];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Xn=null,Hl=0}}const Os=e=>e.id==null?e.flags&2?-1:1/0:e.id;function eu(e){try{for(Mn=0;Mn<$t.length;Mn++){const t=$t[Mn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Ns(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Mn<$t.length;Mn++){const t=$t[Mn];t&&(t.flags&=-2)}Mn=-1,$t.length=0,Xc(),fr=null,($t.length||Yl.length)&&eu()}}let Rt=null,tu=null;function dr(e){const t=Rt;return Rt=e,tu=e&&e.type.__scopeId||null,t}function nu(e,t=Rt,n){if(!t||e._n)return e;const l=(...s)=>{l._d&&ba(-1);const r=dr(t);let o;try{o=e(...s)}finally{dr(r),l._d&&ba(1)}return o};return l._n=!0,l._c=!0,l._d=!0,l}function nl(e,t){if(Rt===null)return e;const n=Ar(Rt),l=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[r,o,i,c=qe]=t[s];r&&(Fe(r)&&(r={mounted:r,updated:r}),r.deep&&Un(o),l.push({dir:r,instance:n,value:o,oldValue:void 0,arg:i,modifiers:c}))}return e}function gl(e,t,n,l){const s=e.dirs,r=t&&t.dirs;for(let o=0;o<s.length;o++){const i=s[o];r&&(i.oldValue=r[o].value);let c=i.dir[l];c&&($n(),_n(c,n,8,[e.el,i,e,t]),Bn())}}function ys(e,t){if(Bt){let n=Bt.provides;const l=Bt.parent&&Bt.parent.provides;l===n&&(n=Bt.provides=Object.create(l)),n[e]=t}}function rr(e,t,n=!1){const l=I0();if(l||Jl){let s=Jl?Jl._context.provides:l?l.parent==null||l.ce?l.vnode.appContext&&l.vnode.appContext.provides:l.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&Fe(t)?t.call(l&&l.proxy):t}}const Ud=Symbol.for("v-scx"),Od=()=>rr(Ud);function at(e,t,n){return lu(e,t,n)}function lu(e,t,n=qe){const{immediate:l,deep:s,flush:r,once:o}=n,i=Lt({},n),c=t&&l||!t&&r!=="post";let f;if($s){if(r==="sync"){const b=Od();f=b.__watcherHandles||(b.__watcherHandles=[])}else if(!c){const b=()=>{};return b.stop=En,b.resume=En,b.pause=En,b}}const d=Bt;i.call=(b,S,T)=>_n(b,d,S,T);let h=!1;r==="post"?i.scheduler=b=>{Jt(b,d&&d.suspense)}:r!=="sync"&&(h=!0,i.scheduler=(b,S)=>{S?b():ai(b)}),i.augmentJob=b=>{t&&(b.flags|=4),h&&(b.flags|=2,d&&(b.id=d.uid,b.i=d))};const m=Fd(e,t,i);return $s&&(f?f.push(m):c&&m()),m}function zd(e,t,n){const l=this.proxy,s=gt(e)?e.includes(".")?su(l,e):()=>l[e]:e.bind(l,l);let r;Fe(t)?r=t:(r=t.handler,n=t);const o=Hs(this),i=lu(s,r.bind(l),n);return o(),i}function su(e,t){const n=t.split(".");return()=>{let l=e;for(let s=0;s<n.length&&l;s++)l=l[n[s]];return l}}const Vd=Symbol("_vte"),$d=e=>e.__isTeleport,Bd=Symbol("_leaveCb");function ci(e,t){e.shapeFlag&6&&e.component?(e.transition=t,ci(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function kl(e,t){return Fe(e)?Lt({name:e.name},t,{setup:e}):e}function ru(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const hr=new WeakMap;function Ts(e,t,n,l,s=!1){if(_e(e)){e.forEach((S,T)=>Ts(S,t&&(_e(t)?t[T]:t),n,l,s));return}if(ql(l)&&!s){l.shapeFlag&512&&l.type.__asyncResolved&&l.component.subTree.component&&Ts(e,t,n,l.component.subTree);return}const r=l.shapeFlag&4?Ar(l.component):l.el,o=s?null:r,{i,r:c}=e,f=t&&t.r,d=i.refs===qe?i.refs={}:i.refs,h=i.setupState,m=je(h),b=h===qe?Dc:S=>Ke(m,S);if(f!=null&&f!==c){if(ca(t),gt(f))d[f]=null,b(f)&&(h[f]=null);else if(It(f)){f.value=null;const S=t;S.k&&(d[S.k]=null)}}if(Fe(c))Ns(c,i,12,[o,d]);else{const S=gt(c),T=It(c);if(S||T){const U=()=>{if(e.f){const $=S?b(c)?h[c]:d[c]:c.value;if(s)_e($)&&Zo($,r);else if(_e($))$.includes(r)||$.push(r);else if(S)d[c]=[r],b(c)&&(h[c]=d[c]);else{const P=[r];c.value=P,e.k&&(d[e.k]=P)}}else S?(d[c]=o,b(c)&&(h[c]=o)):T&&(c.value=o,e.k&&(d[e.k]=o))};if(o){const $=()=>{U(),hr.delete(e)};$.id=-1,hr.set(e,$),Jt($,n)}else ca(e),U()}}}function ca(e){const t=hr.get(e);t&&(t.flags|=8,hr.delete(e))}Sr().requestIdleCallback;Sr().cancelIdleCallback;const ql=e=>!!e.type.__asyncLoader,ou=e=>e.type.__isKeepAlive;function Nd(e,t){iu(e,"a",t)}function Hd(e,t){iu(e,"da",t)}function iu(e,t,n=Bt){const l=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Dr(t,l,n),n){let s=n.parent;for(;s&&s.parent;)ou(s.parent.vnode)&&Wd(l,t,n,s),s=s.parent}}function Wd(e,t,n,l){const s=Dr(t,e,l,!0);Mr(()=>{Zo(l[t],s)},n)}function Dr(e,t,n=Bt,l=!1){if(n){const s=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...o)=>{$n();const i=Hs(n),c=_n(t,n,e,o);return i(),Bn(),c});return l?s.unshift(r):s.push(r),r}}const jn=e=>(t,n=Bt)=>{(!$s||e==="sp")&&Dr(e,(...l)=>t(...l),n)},jd=jn("bm"),ui=jn("m"),Kd=jn("bu"),Gd=jn("u"),Yd=jn("bum"),Mr=jn("um"),qd=jn("sp"),Jd=jn("rtg"),Zd=jn("rtc");function Qd(e,t=Bt){Dr("ec",e,t)}const Xd=Symbol.for("v-ndc");function Xl(e,t,n,l){let s;const r=n,o=_e(e);if(o||gt(e)){const i=o&&wl(e);let c=!1,f=!1;i&&(c=!on(e),f=Nn(e),e=Cr(e)),s=new Array(e.length);for(let d=0,h=e.length;d<h;d++)s[d]=t(c?f?Ql(vn(e[d])):vn(e[d]):e[d],d,void 0,r)}else if(typeof e=="number"){s=new Array(e);for(let i=0;i<e;i++)s[i]=t(i+1,i,void 0,r)}else if(ot(e))if(e[Symbol.iterator])s=Array.from(e,(i,c)=>t(i,c,void 0,r));else{const i=Object.keys(e);s=new Array(i.length);for(let c=0,f=i.length;c<f;c++){const d=i[c];s[c]=t(e[d],d,c,r)}}else s=[];return s}function e0(e,t,n={},l,s){if(Rt.ce||Rt.parent&&ql(Rt.parent)&&Rt.parent.ce){const f=Object.keys(n).length>0;return n.name=t,xe(),Vs(ht,null,[jt("slot",n,l)],f?-2:64)}let r=e[t];r&&r._c&&(r._d=!1),xe();const o=r&&au(r(n)),i=n.key||o&&o.key,c=Vs(ht,{key:(i&&!Wn(i)?i:`_${t}`)+(!o&&l?"_fb":"")},o||[],o&&e._===1?64:-2);return r&&r._c&&(r._d=!0),c}function au(e){return e.some(t=>hi(t)?!(t.type===Hn||t.type===ht&&!au(t.children)):!0)?e:null}const Ro=e=>e?Tu(e)?Ar(e):Ro(e.parent):null,Es=Lt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ro(e.parent),$root:e=>Ro(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>uu(e),$forceUpdate:e=>e.f||(e.f=()=>{ai(e.update)}),$nextTick:e=>e.n||(e.n=Fo.bind(e.proxy)),$watch:e=>zd.bind(e)}),fo=(e,t)=>e!==qe&&!e.__isScriptSetup&&Ke(e,t),t0={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:l,data:s,props:r,accessCache:o,type:i,appContext:c}=e;if(t[0]!=="$"){const m=o[t];if(m!==void 0)switch(m){case 1:return l[t];case 2:return s[t];case 4:return n[t];case 3:return r[t]}else{if(fo(l,t))return o[t]=1,l[t];if(s!==qe&&Ke(s,t))return o[t]=2,s[t];if(Ke(r,t))return o[t]=3,r[t];if(n!==qe&&Ke(n,t))return o[t]=4,n[t];Io&&(o[t]=0)}}const f=Es[t];let d,h;if(f)return t==="$attrs"&&Ft(e.attrs,"get",""),f(e);if((d=i.__cssModules)&&(d=d[t]))return d;if(n!==qe&&Ke(n,t))return o[t]=4,n[t];if(h=c.config.globalProperties,Ke(h,t))return h[t]},set({_:e},t,n){const{data:l,setupState:s,ctx:r}=e;return fo(s,t)?(s[t]=n,!0):l!==qe&&Ke(l,t)?(l[t]=n,!0):Ke(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:l,appContext:s,props:r,type:o}},i){let c;return!!(n[i]||e!==qe&&i[0]!=="$"&&Ke(e,i)||fo(t,i)||Ke(r,i)||Ke(l,i)||Ke(Es,i)||Ke(s.config.globalProperties,i)||(c=o.__cssModules)&&c[i])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Ke(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function ua(e){return _e(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Io=!0;function n0(e){const t=uu(e),n=e.proxy,l=e.ctx;Io=!1,t.beforeCreate&&fa(t.beforeCreate,e,"bc");const{data:s,computed:r,methods:o,watch:i,provide:c,inject:f,created:d,beforeMount:h,mounted:m,beforeUpdate:b,updated:S,activated:T,deactivated:U,beforeDestroy:$,beforeUnmount:P,destroyed:E,unmounted:w,render:ie,renderTracked:ne,renderTriggered:be,errorCaptured:ce,serverPrefetch:ke,expose:me,inheritAttrs:Q,components:Ce,directives:oe,filters:le}=t;if(f&&l0(f,l,null),o)for(const L in o){const se=o[L];Fe(se)&&(l[L]=se.bind(n))}if(s){const L=s.call(n,n);ot(L)&&(e.data=ri(L))}if(Io=!0,r)for(const L in r){const se=r[L],X=Fe(se)?se.bind(n,n):Fe(se.get)?se.get.bind(n,n):En,V=!Fe(se)&&Fe(se.set)?se.set.bind(n):En,q=An({get:X,set:V});Object.defineProperty(l,L,{enumerable:!0,configurable:!0,get:()=>q.value,set:Y=>q.value=Y})}if(i)for(const L in i)cu(i[L],l,n,L);if(c){const L=Fe(c)?c.call(n):c;Reflect.ownKeys(L).forEach(se=>{ys(se,L[se])})}d&&fa(d,e,"c");function z(L,se){_e(se)?se.forEach(X=>L(X.bind(n))):se&&L(se.bind(n))}if(z(jd,h),z(ui,m),z(Kd,b),z(Gd,S),z(Nd,T),z(Hd,U),z(Qd,ce),z(Zd,ne),z(Jd,be),z(Yd,P),z(Mr,w),z(qd,ke),_e(me))if(me.length){const L=e.exposed||(e.exposed={});me.forEach(se=>{Object.defineProperty(L,se,{get:()=>n[se],set:X=>n[se]=X,enumerable:!0})})}else e.exposed||(e.exposed={});ie&&e.render===En&&(e.render=ie),Q!=null&&(e.inheritAttrs=Q),Ce&&(e.components=Ce),oe&&(e.directives=oe),ke&&ru(e)}function l0(e,t,n=En){_e(e)&&(e=Lo(e));for(const l in e){const s=e[l];let r;ot(s)?"default"in s?r=rr(s.from||l,s.default,!0):r=rr(s.from||l):r=rr(s),It(r)?Object.defineProperty(t,l,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):t[l]=r}}function fa(e,t,n){_n(_e(e)?e.map(l=>l.bind(t.proxy)):e.bind(t.proxy),t,n)}function cu(e,t,n,l){let s=l.includes(".")?su(n,l):()=>n[l];if(gt(e)){const r=t[e];Fe(r)&&at(s,r)}else if(Fe(e))at(s,e.bind(n));else if(ot(e))if(_e(e))e.forEach(r=>cu(r,t,n,l));else{const r=Fe(e.handler)?e.handler.bind(n):t[e.handler];Fe(r)&&at(s,r,e)}}function uu(e){const t=e.type,{mixins:n,extends:l}=t,{mixins:s,optionsCache:r,config:{optionMergeStrategies:o}}=e.appContext,i=r.get(t);let c;return i?c=i:!s.length&&!n&&!l?c=t:(c={},s.length&&s.forEach(f=>gr(c,f,o,!0)),gr(c,t,o)),ot(t)&&r.set(t,c),c}function gr(e,t,n,l=!1){const{mixins:s,extends:r}=t;r&&gr(e,r,n,!0),s&&s.forEach(o=>gr(e,o,n,!0));for(const o in t)if(!(l&&o==="expose")){const i=s0[o]||n&&n[o];e[o]=i?i(e[o],t[o]):t[o]}return e}const s0={data:da,props:ha,emits:ha,methods:xs,computed:xs,beforeCreate:Vt,created:Vt,beforeMount:Vt,mounted:Vt,beforeUpdate:Vt,updated:Vt,beforeDestroy:Vt,beforeUnmount:Vt,destroyed:Vt,unmounted:Vt,activated:Vt,deactivated:Vt,errorCaptured:Vt,serverPrefetch:Vt,components:xs,directives:xs,watch:o0,provide:da,inject:r0};function da(e,t){return t?e?function(){return Lt(Fe(e)?e.call(this,this):e,Fe(t)?t.call(this,this):t)}:t:e}function r0(e,t){return xs(Lo(e),Lo(t))}function Lo(e){if(_e(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Vt(e,t){return e?[...new Set([].concat(e,t))]:t}function xs(e,t){return e?Lt(Object.create(null),e,t):t}function ha(e,t){return e?_e(e)&&_e(t)?[...new Set([...e,...t])]:Lt(Object.create(null),ua(e),ua(t??{})):t}function o0(e,t){if(!e)return t;if(!t)return e;const n=Lt(Object.create(null),e);for(const l in t)n[l]=Vt(e[l],t[l]);return n}function fu(){return{app:null,config:{isNativeTag:Dc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let i0=0;function a0(e,t){return function(l,s=null){Fe(l)||(l=Lt({},l)),s!=null&&!ot(s)&&(s=null);const r=fu(),o=new WeakSet,i=[];let c=!1;const f=r.app={_uid:i0++,_component:l,_props:s,_container:null,_context:r,_instance:null,version:$0,get config(){return r.config},set config(d){},use(d,...h){return o.has(d)||(d&&Fe(d.install)?(o.add(d),d.install(f,...h)):Fe(d)&&(o.add(d),d(f,...h))),f},mixin(d){return r.mixins.includes(d)||r.mixins.push(d),f},component(d,h){return h?(r.components[d]=h,f):r.components[d]},directive(d,h){return h?(r.directives[d]=h,f):r.directives[d]},mount(d,h,m){if(!c){const b=f._ceVNode||jt(l,s);return b.appContext=r,m===!0?m="svg":m===!1&&(m=void 0),e(b,d,m),c=!0,f._container=d,d.__vue_app__=f,Ar(b.component)}},onUnmount(d){i.push(d)},unmount(){c&&(_n(i,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(d,h){return r.provides[d]=h,f},runWithContext(d){const h=Jl;Jl=f;try{return d()}finally{Jl=h}}};return f}}let Jl=null;const c0=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${ol(t)}Modifiers`]||e[`${al(t)}Modifiers`];function u0(e,t,...n){if(e.isUnmounted)return;const l=e.vnode.props||qe;let s=n;const r=t.startsWith("update:"),o=r&&c0(l,t.slice(7));o&&(o.trim&&(s=n.map(d=>gt(d)?d.trim():d)),o.number&&(s=n.map(Xo)));let i,c=l[i=oo(t)]||l[i=oo(ol(t))];!c&&r&&(c=l[i=oo(al(t))]),c&&_n(c,e,6,s);const f=l[i+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[i])return;e.emitted[i]=!0,_n(f,e,6,s)}}const f0=new WeakMap;function du(e,t,n=!1){const l=n?f0:t.emitsCache,s=l.get(e);if(s!==void 0)return s;const r=e.emits;let o={},i=!1;if(!Fe(e)){const c=f=>{const d=du(f,t,!0);d&&(i=!0,Lt(o,d))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!r&&!i?(ot(e)&&l.set(e,null),null):(_e(r)?r.forEach(c=>o[c]=null):Lt(o,r),ot(e)&&l.set(e,o),o)}function Tr(e,t){return!e||!yr(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ke(e,t[0].toLowerCase()+t.slice(1))||Ke(e,al(t))||Ke(e,t))}function ga(e){const{type:t,vnode:n,proxy:l,withProxy:s,propsOptions:[r],slots:o,attrs:i,emit:c,render:f,renderCache:d,props:h,data:m,setupState:b,ctx:S,inheritAttrs:T}=e,U=dr(e);let $,P;try{if(n.shapeFlag&4){const w=s||l,ie=w;$=Tn(f.call(ie,w,d,h,b,m,S)),P=i}else{const w=t;$=Tn(w.length>1?w(h,{attrs:i,slots:o,emit:c}):w(h,null)),P=t.props?i:d0(i)}}catch(w){As.length=0,kr(w,e,1),$=jt(Hn)}let E=$;if(P&&T!==!1){const w=Object.keys(P),{shapeFlag:ie}=E;w.length&&ie&7&&(r&&w.some(Jo)&&(P=h0(P,r)),E=es(E,P,!1,!0))}return n.dirs&&(E=es(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(n.dirs):n.dirs),n.transition&&ci(E,n.transition),$=E,dr(U),$}const d0=e=>{let t;for(const n in e)(n==="class"||n==="style"||yr(n))&&((t||(t={}))[n]=e[n]);return t},h0=(e,t)=>{const n={};for(const l in e)(!Jo(l)||!(l.slice(9)in t))&&(n[l]=e[l]);return n};function g0(e,t,n){const{props:l,children:s,component:r}=e,{props:o,children:i,patchFlag:c}=t,f=r.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return l?pa(l,o,f):!!o;if(c&8){const d=t.dynamicProps;for(let h=0;h<d.length;h++){const m=d[h];if(o[m]!==l[m]&&!Tr(f,m))return!0}}}else return(s||i)&&(!i||!i.$stable)?!0:l===o?!1:l?o?pa(l,o,f):!0:!!o;return!1}function pa(e,t,n){const l=Object.keys(t);if(l.length!==Object.keys(e).length)return!0;for(let s=0;s<l.length;s++){const r=l[s];if(t[r]!==e[r]&&!Tr(n,r))return!0}return!1}function p0({vnode:e,parent:t},n){for(;t;){const l=t.subTree;if(l.suspense&&l.suspense.activeBranch===e&&(l.el=e.el),l===e)(e=t.vnode).el=n,t=t.parent;else break}}const hu={},gu=()=>Object.create(hu),pu=e=>Object.getPrototypeOf(e)===hu;function m0(e,t,n,l=!1){const s={},r=gu();e.propsDefaults=Object.create(null),mu(e,t,s,r);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);n?e.props=l?s:Dd(s):e.type.props?e.props=s:e.props=r,e.attrs=r}function v0(e,t,n,l){const{props:s,attrs:r,vnode:{patchFlag:o}}=e,i=je(s),[c]=e.propsOptions;let f=!1;if((l||o>0)&&!(o&16)){if(o&8){const d=e.vnode.dynamicProps;for(let h=0;h<d.length;h++){let m=d[h];if(Tr(e.emitsOptions,m))continue;const b=t[m];if(c)if(Ke(r,m))b!==r[m]&&(r[m]=b,f=!0);else{const S=ol(m);s[S]=Uo(c,i,S,b,e,!1)}else b!==r[m]&&(r[m]=b,f=!0)}}}else{mu(e,t,s,r)&&(f=!0);let d;for(const h in i)(!t||!Ke(t,h)&&((d=al(h))===h||!Ke(t,d)))&&(c?n&&(n[h]!==void 0||n[d]!==void 0)&&(s[h]=Uo(c,i,h,void 0,e,!0)):delete s[h]);if(r!==i)for(const h in r)(!t||!Ke(t,h))&&(delete r[h],f=!0)}f&&Ln(e.attrs,"set","")}function mu(e,t,n,l){const[s,r]=e.propsOptions;let o=!1,i;if(t)for(let c in t){if(ks(c))continue;const f=t[c];let d;s&&Ke(s,d=ol(c))?!r||!r.includes(d)?n[d]=f:(i||(i={}))[d]=f:Tr(e.emitsOptions,c)||(!(c in l)||f!==l[c])&&(l[c]=f,o=!0)}if(r){const c=je(n),f=i||qe;for(let d=0;d<r.length;d++){const h=r[d];n[h]=Uo(s,c,h,f[h],e,!Ke(f,h))}}return o}function Uo(e,t,n,l,s,r){const o=e[n];if(o!=null){const i=Ke(o,"default");if(i&&l===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&Fe(c)){const{propsDefaults:f}=s;if(n in f)l=f[n];else{const d=Hs(s);l=f[n]=c.call(null,t),d()}}else l=c;s.ce&&s.ce._setProp(n,l)}o[0]&&(r&&!i?l=!1:o[1]&&(l===""||l===al(n))&&(l=!0))}return l}const b0=new WeakMap;function vu(e,t,n=!1){const l=n?b0:t.propsCache,s=l.get(e);if(s)return s;const r=e.props,o={},i=[];let c=!1;if(!Fe(e)){const d=h=>{c=!0;const[m,b]=vu(h,t,!0);Lt(o,m),b&&i.push(...b)};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!r&&!c)return ot(e)&&l.set(e,Kl),Kl;if(_e(r))for(let d=0;d<r.length;d++){const h=ol(r[d]);ma(h)&&(o[h]=qe)}else if(r)for(const d in r){const h=ol(d);if(ma(h)){const m=r[d],b=o[h]=_e(m)||Fe(m)?{type:m}:Lt({},m),S=b.type;let T=!1,U=!0;if(_e(S))for(let $=0;$<S.length;++$){const P=S[$],E=Fe(P)&&P.name;if(E==="Boolean"){T=!0;break}else E==="String"&&(U=!1)}else T=Fe(S)&&S.name==="Boolean";b[0]=T,b[1]=U,(T||Ke(b,"default"))&&i.push(h)}}const f=[o,i];return ot(e)&&l.set(e,f),f}function ma(e){return e[0]!=="$"&&!ks(e)}const fi=e=>e==="_"||e==="_ctx"||e==="$stable",di=e=>_e(e)?e.map(Tn):[Tn(e)],y0=(e,t,n)=>{if(t._n)return t;const l=nu((...s)=>di(t(...s)),n);return l._c=!1,l},bu=(e,t,n)=>{const l=e._ctx;for(const s in e){if(fi(s))continue;const r=e[s];if(Fe(r))t[s]=y0(s,r,l);else if(r!=null){const o=di(r);t[s]=()=>o}}},yu=(e,t)=>{const n=di(t);e.slots.default=()=>n},xu=(e,t,n)=>{for(const l in t)(n||!fi(l))&&(e[l]=t[l])},x0=(e,t,n)=>{const l=e.slots=gu();if(e.vnode.shapeFlag&32){const s=t._;s?(xu(l,t,n),n&&_c(l,"_",s,!0)):bu(t,l)}else t&&yu(e,t)},w0=(e,t,n)=>{const{vnode:l,slots:s}=e;let r=!0,o=qe;if(l.shapeFlag&32){const i=t._;i?n&&i===1?r=!1:xu(s,t,n):(r=!t.$stable,bu(t,s)),o=t}else t&&(yu(e,t),o={default:1});if(r)for(const i in s)!fi(i)&&o[i]==null&&delete s[i]},Jt=M0;function S0(e){return C0(e)}function C0(e,t){const n=Sr();n.__VUE__=!0;const{insert:l,remove:s,patchProp:r,createElement:o,createText:i,createComment:c,setText:f,setElementText:d,parentNode:h,nextSibling:m,setScopeId:b=En,insertStaticContent:S}=e,T=(v,y,R,W=null,H=null,G=null,re=void 0,D=null,k=!!y.dynamicChildren)=>{if(v===y)return;v&&!ms(v,y)&&(W=ge(v),Y(v,H,G,!0),v=null),y.patchFlag===-2&&(k=!1,y.dynamicChildren=null);const{type:A,ref:K,shapeFlag:O}=y;switch(A){case Er:U(v,y,R,W);break;case Hn:$(v,y,R,W);break;case go:v==null&&P(y,R,W,re);break;case ht:Ce(v,y,R,W,H,G,re,D,k);break;default:O&1?ie(v,y,R,W,H,G,re,D,k):O&6?oe(v,y,R,W,H,G,re,D,k):(O&64||O&128)&&A.process(v,y,R,W,H,G,re,D,k,Pe)}K!=null&&H?Ts(K,v&&v.ref,G,y||v,!y):K==null&&v&&v.ref!=null&&Ts(v.ref,null,G,v,!0)},U=(v,y,R,W)=>{if(v==null)l(y.el=i(y.children),R,W);else{const H=y.el=v.el;y.children!==v.children&&f(H,y.children)}},$=(v,y,R,W)=>{v==null?l(y.el=c(y.children||""),R,W):y.el=v.el},P=(v,y,R,W)=>{[v.el,v.anchor]=S(v.children,y,R,W,v.el,v.anchor)},E=({el:v,anchor:y},R,W)=>{let H;for(;v&&v!==y;)H=m(v),l(v,R,W),v=H;l(y,R,W)},w=({el:v,anchor:y})=>{let R;for(;v&&v!==y;)R=m(v),s(v),v=R;s(y)},ie=(v,y,R,W,H,G,re,D,k)=>{if(y.type==="svg"?re="svg":y.type==="math"&&(re="mathml"),v==null)ne(y,R,W,H,G,re,D,k);else{const A=v.el&&v.el._isVueCE?v.el:null;try{A&&A._beginPatch(),ke(v,y,H,G,re,D,k)}finally{A&&A._endPatch()}}},ne=(v,y,R,W,H,G,re,D)=>{let k,A;const{props:K,shapeFlag:O,transition:_,dirs:F}=v;if(k=v.el=o(v.type,G,K&&K.is,K),O&8?d(k,v.children):O&16&&ce(v.children,k,null,W,H,ho(v,G),re,D),F&&gl(v,null,W,"created"),be(k,v,v.scopeId,re,W),K){for(const te in K)te!=="value"&&!ks(te)&&r(k,te,null,K[te],G,W);"value"in K&&r(k,"value",null,K.value,G),(A=K.onVnodeBeforeMount)&&kn(A,W,v)}F&&gl(v,null,W,"beforeMount");const N=k0(H,_);N&&_.beforeEnter(k),l(k,y,R),((A=K&&K.onVnodeMounted)||N||F)&&Jt(()=>{A&&kn(A,W,v),N&&_.enter(k),F&&gl(v,null,W,"mounted")},H)},be=(v,y,R,W,H)=>{if(R&&b(v,R),W)for(let G=0;G<W.length;G++)b(v,W[G]);if(H){let G=H.subTree;if(y===G||ku(G.type)&&(G.ssContent===y||G.ssFallback===y)){const re=H.vnode;be(v,re,re.scopeId,re.slotScopeIds,H.parent)}}},ce=(v,y,R,W,H,G,re,D,k=0)=>{for(let A=k;A<v.length;A++){const K=v[A]=D?el(v[A]):Tn(v[A]);T(null,K,y,R,W,H,G,re,D)}},ke=(v,y,R,W,H,G,re)=>{const D=y.el=v.el;let{patchFlag:k,dynamicChildren:A,dirs:K}=y;k|=v.patchFlag&16;const O=v.props||qe,_=y.props||qe;let F;if(R&&pl(R,!1),(F=_.onVnodeBeforeUpdate)&&kn(F,R,y,v),K&&gl(y,v,R,"beforeUpdate"),R&&pl(R,!0),(O.innerHTML&&_.innerHTML==null||O.textContent&&_.textContent==null)&&d(D,""),A?me(v.dynamicChildren,A,D,R,W,ho(y,H),G):re||se(v,y,D,null,R,W,ho(y,H),G,!1),k>0){if(k&16)Q(D,O,_,R,H);else if(k&2&&O.class!==_.class&&r(D,"class",null,_.class,H),k&4&&r(D,"style",O.style,_.style,H),k&8){const N=y.dynamicProps;for(let te=0;te<N.length;te++){const he=N[te],Se=O[he],Re=_[he];(Re!==Se||he==="value")&&r(D,he,Se,Re,H,R)}}k&1&&v.children!==y.children&&d(D,y.children)}else!re&&A==null&&Q(D,O,_,R,H);((F=_.onVnodeUpdated)||K)&&Jt(()=>{F&&kn(F,R,y,v),K&&gl(y,v,R,"updated")},W)},me=(v,y,R,W,H,G,re)=>{for(let D=0;D<y.length;D++){const k=v[D],A=y[D],K=k.el&&(k.type===ht||!ms(k,A)||k.shapeFlag&198)?h(k.el):R;T(k,A,K,null,W,H,G,re,!0)}},Q=(v,y,R,W,H)=>{if(y!==R){if(y!==qe)for(const G in y)!ks(G)&&!(G in R)&&r(v,G,y[G],null,H,W);for(const G in R){if(ks(G))continue;const re=R[G],D=y[G];re!==D&&G!=="value"&&r(v,G,D,re,H,W)}"value"in R&&r(v,"value",y.value,R.value,H)}},Ce=(v,y,R,W,H,G,re,D,k)=>{const A=y.el=v?v.el:i(""),K=y.anchor=v?v.anchor:i("");let{patchFlag:O,dynamicChildren:_,slotScopeIds:F}=y;F&&(D=D?D.concat(F):F),v==null?(l(A,R,W),l(K,R,W),ce(y.children||[],R,K,H,G,re,D,k)):O>0&&O&64&&_&&v.dynamicChildren&&v.dynamicChildren.length===_.length?(me(v.dynamicChildren,_,R,H,G,re,D),(y.key!=null||H&&y===H.subTree)&&wu(v,y,!0)):se(v,y,R,K,H,G,re,D,k)},oe=(v,y,R,W,H,G,re,D,k)=>{y.slotScopeIds=D,v==null?y.shapeFlag&512?H.ctx.activate(y,R,W,re,k):le(y,R,W,H,G,re,k):I(v,y,k)},le=(v,y,R,W,H,G,re)=>{const D=v.component=R0(v,W,H);if(ou(v)&&(D.ctx.renderer=Pe),L0(D,!1,re),D.asyncDep){if(H&&H.registerDep(D,z,re),!v.el){const k=D.subTree=jt(Hn);$(null,k,y,R),v.placeholder=k.el}}else z(D,v,y,R,H,G,re)},I=(v,y,R)=>{const W=y.component=v.component;if(g0(v,y,R))if(W.asyncDep&&!W.asyncResolved){L(W,y,R);return}else W.next=y,W.update();else y.el=v.el,W.vnode=y},z=(v,y,R,W,H,G,re)=>{const D=()=>{if(v.isMounted){let{next:O,bu:_,u:F,parent:N,vnode:te}=v;{const Ie=Su(v);if(Ie){O&&(O.el=te.el,L(v,O,re)),Ie.asyncDep.then(()=>{v.isUnmounted||D()});return}}let he=O,Se;pl(v,!1),O?(O.el=te.el,L(v,O,re)):O=te,_&&sr(_),(Se=O.props&&O.props.onVnodeBeforeUpdate)&&kn(Se,N,O,te),pl(v,!0);const Re=ga(v),Qe=v.subTree;v.subTree=Re,T(Qe,Re,h(Qe.el),ge(Qe),v,H,G),O.el=Re.el,he===null&&p0(v,Re.el),F&&Jt(F,H),(Se=O.props&&O.props.onVnodeUpdated)&&Jt(()=>kn(Se,N,O,te),H)}else{let O;const{el:_,props:F}=y,{bm:N,m:te,parent:he,root:Se,type:Re}=v,Qe=ql(y);pl(v,!1),N&&sr(N),!Qe&&(O=F&&F.onVnodeBeforeMount)&&kn(O,he,y),pl(v,!0);{Se.ce&&Se.ce._def.shadowRoot!==!1&&Se.ce._injectChildStyle(Re);const Ie=v.subTree=ga(v);T(null,Ie,R,W,v,H,G),y.el=Ie.el}if(te&&Jt(te,H),!Qe&&(O=F&&F.onVnodeMounted)){const Ie=y;Jt(()=>kn(O,he,Ie),H)}(y.shapeFlag&256||he&&ql(he.vnode)&&he.vnode.shapeFlag&256)&&v.a&&Jt(v.a,H),v.isMounted=!0,y=R=W=null}};v.scope.on();const k=v.effect=new Lc(D);v.scope.off();const A=v.update=k.run.bind(k),K=v.job=k.runIfDirty.bind(k);K.i=v,K.id=v.uid,k.scheduler=()=>ai(K),pl(v,!0),A()},L=(v,y,R)=>{y.component=v;const W=v.vnode.props;v.vnode=y,v.next=null,v0(v,y.props,W,R),w0(v,y.children,R),$n(),aa(v),Bn()},se=(v,y,R,W,H,G,re,D,k=!1)=>{const A=v&&v.children,K=v?v.shapeFlag:0,O=y.children,{patchFlag:_,shapeFlag:F}=y;if(_>0){if(_&128){V(A,O,R,W,H,G,re,D,k);return}else if(_&256){X(A,O,R,W,H,G,re,D,k);return}}F&8?(K&16&&ae(A,H,G),O!==A&&d(R,O)):K&16?F&16?V(A,O,R,W,H,G,re,D,k):ae(A,H,G,!0):(K&8&&d(R,""),F&16&&ce(O,R,W,H,G,re,D,k))},X=(v,y,R,W,H,G,re,D,k)=>{v=v||Kl,y=y||Kl;const A=v.length,K=y.length,O=Math.min(A,K);let _;for(_=0;_<O;_++){const F=y[_]=k?el(y[_]):Tn(y[_]);T(v[_],F,R,null,H,G,re,D,k)}A>K?ae(v,H,G,!0,!1,O):ce(y,R,W,H,G,re,D,k,O)},V=(v,y,R,W,H,G,re,D,k)=>{let A=0;const K=y.length;let O=v.length-1,_=K-1;for(;A<=O&&A<=_;){const F=v[A],N=y[A]=k?el(y[A]):Tn(y[A]);if(ms(F,N))T(F,N,R,null,H,G,re,D,k);else break;A++}for(;A<=O&&A<=_;){const F=v[O],N=y[_]=k?el(y[_]):Tn(y[_]);if(ms(F,N))T(F,N,R,null,H,G,re,D,k);else break;O--,_--}if(A>O){if(A<=_){const F=_+1,N=F<K?y[F].el:W;for(;A<=_;)T(null,y[A]=k?el(y[A]):Tn(y[A]),R,N,H,G,re,D,k),A++}}else if(A>_)for(;A<=O;)Y(v[A],H,G,!0),A++;else{const F=A,N=A,te=new Map;for(A=N;A<=_;A++){const Ye=y[A]=k?el(y[A]):Tn(y[A]);Ye.key!=null&&te.set(Ye.key,A)}let he,Se=0;const Re=_-N+1;let Qe=!1,Ie=0;const Ve=new Array(Re);for(A=0;A<Re;A++)Ve[A]=0;for(A=F;A<=O;A++){const Ye=v[A];if(Se>=Re){Y(Ye,H,G,!0);continue}let Mt;if(Ye.key!=null)Mt=te.get(Ye.key);else for(he=N;he<=_;he++)if(Ve[he-N]===0&&ms(Ye,y[he])){Mt=he;break}Mt===void 0?Y(Ye,H,G,!0):(Ve[Mt-N]=A+1,Mt>=Ie?Ie=Mt:Qe=!0,T(Ye,y[Mt],R,null,H,G,re,D,k),Se++)}const it=Qe?D0(Ve):Kl;for(he=it.length-1,A=Re-1;A>=0;A--){const Ye=N+A,Mt=y[Ye],bn=y[Ye+1],Kt=Ye+1<K?bn.el||Cu(bn):W;Ve[A]===0?T(null,Mt,R,Kt,H,G,re,D,k):Qe&&(he<0||A!==it[he]?q(Mt,R,Kt,2):he--)}}},q=(v,y,R,W,H=null)=>{const{el:G,type:re,transition:D,children:k,shapeFlag:A}=v;if(A&6){q(v.component.subTree,y,R,W);return}if(A&128){v.suspense.move(y,R,W);return}if(A&64){re.move(v,y,R,Pe);return}if(re===ht){l(G,y,R);for(let O=0;O<k.length;O++)q(k[O],y,R,W);l(v.anchor,y,R);return}if(re===go){E(v,y,R);return}if(W!==2&&A&1&&D)if(W===0)D.beforeEnter(G),l(G,y,R),Jt(()=>D.enter(G),H);else{const{leave:O,delayLeave:_,afterLeave:F}=D,N=()=>{v.ctx.isUnmounted?s(G):l(G,y,R)},te=()=>{G._isLeaving&&G[Bd](!0),O(G,()=>{N(),F&&F()})};_?_(G,N,te):te()}else l(G,y,R)},Y=(v,y,R,W=!1,H=!1)=>{const{type:G,props:re,ref:D,children:k,dynamicChildren:A,shapeFlag:K,patchFlag:O,dirs:_,cacheIndex:F}=v;if(O===-2&&(H=!1),D!=null&&($n(),Ts(D,null,R,v,!0),Bn()),F!=null&&(y.renderCache[F]=void 0),K&256){y.ctx.deactivate(v);return}const N=K&1&&_,te=!ql(v);let he;if(te&&(he=re&&re.onVnodeBeforeUnmount)&&kn(he,y,v),K&6)Te(v.component,R,W);else{if(K&128){v.suspense.unmount(R,W);return}N&&gl(v,null,y,"beforeUnmount"),K&64?v.type.remove(v,y,R,Pe,W):A&&!A.hasOnce&&(G!==ht||O>0&&O&64)?ae(A,y,R,!1,!0):(G===ht&&O&384||!H&&K&16)&&ae(k,y,R),W&&J(v)}(te&&(he=re&&re.onVnodeUnmounted)||N)&&Jt(()=>{he&&kn(he,y,v),N&&gl(v,null,y,"unmounted")},R)},J=v=>{const{type:y,el:R,anchor:W,transition:H}=v;if(y===ht){pe(R,W);return}if(y===go){w(v);return}const G=()=>{s(R),H&&!H.persisted&&H.afterLeave&&H.afterLeave()};if(v.shapeFlag&1&&H&&!H.persisted){const{leave:re,delayLeave:D}=H,k=()=>re(R,G);D?D(v.el,G,k):k()}else G()},pe=(v,y)=>{let R;for(;v!==y;)R=m(v),s(v),v=R;s(y)},Te=(v,y,R)=>{const{bum:W,scope:H,job:G,subTree:re,um:D,m:k,a:A}=v;va(k),va(A),W&&sr(W),H.stop(),G&&(G.flags|=8,Y(re,v,y,R)),D&&Jt(D,y),Jt(()=>{v.isUnmounted=!0},y)},ae=(v,y,R,W=!1,H=!1,G=0)=>{for(let re=G;re<v.length;re++)Y(v[re],y,R,W,H)},ge=v=>{if(v.shapeFlag&6)return ge(v.component.subTree);if(v.shapeFlag&128)return v.suspense.next();const y=m(v.anchor||v.el),R=y&&y[Vd];return R?m(R):y};let Le=!1;const ze=(v,y,R)=>{let W;v==null?y._vnode&&(Y(y._vnode,null,null,!0),W=y._vnode.component):T(y._vnode||null,v,y,null,null,null,R),y._vnode=v,Le||(Le=!0,aa(W),Xc(),Le=!1)},Pe={p:T,um:Y,m:q,r:J,mt:le,mc:ce,pc:se,pbc:me,n:ge,o:e};return{render:ze,hydrate:void 0,createApp:a0(ze)}}function ho({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function pl({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function k0(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function wu(e,t,n=!1){const l=e.children,s=t.children;if(_e(l)&&_e(s))for(let r=0;r<l.length;r++){const o=l[r];let i=s[r];i.shapeFlag&1&&!i.dynamicChildren&&((i.patchFlag<=0||i.patchFlag===32)&&(i=s[r]=el(s[r]),i.el=o.el),!n&&i.patchFlag!==-2&&wu(o,i)),i.type===Er&&(i.patchFlag!==-1?i.el=o.el:i.__elIndex=r+(e.type===ht?1:0)),i.type===Hn&&!i.el&&(i.el=o.el)}}function D0(e){const t=e.slice(),n=[0];let l,s,r,o,i;const c=e.length;for(l=0;l<c;l++){const f=e[l];if(f!==0){if(s=n[n.length-1],e[s]<f){t[l]=s,n.push(l);continue}for(r=0,o=n.length-1;r<o;)i=r+o>>1,e[n[i]]<f?r=i+1:o=i;f<e[n[r]]&&(r>0&&(t[l]=n[r-1]),n[r]=l)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=t[o];return n}function Su(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Su(t)}function va(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function Cu(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?Cu(t.subTree):null}const ku=e=>e.__isSuspense;function M0(e,t){t&&t.pendingBranch?_e(e)?t.effects.push(...e):t.effects.push(e):Ld(e)}const ht=Symbol.for("v-fgt"),Er=Symbol.for("v-txt"),Hn=Symbol.for("v-cmt"),go=Symbol.for("v-stc"),As=[];let Qt=null;function xe(e=!1){As.push(Qt=e?null:[])}function T0(){As.pop(),Qt=As[As.length-1]||null}let zs=1;function ba(e,t=!1){zs+=e,e<0&&Qt&&t&&(Qt.hasOnce=!0)}function Du(e){return e.dynamicChildren=zs>0?Qt||Kl:null,T0(),zs>0&&Qt&&Qt.push(e),e}function De(e,t,n,l,s,r){return Du(C(e,t,n,l,s,r,!0))}function Vs(e,t,n,l,s){return Du(jt(e,t,n,l,s,!0))}function hi(e){return e?e.__v_isVNode===!0:!1}function ms(e,t){return e.type===t.type&&e.key===t.key}const Mu=({key:e})=>e??null,or=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?gt(e)||It(e)||Fe(e)?{i:Rt,r:e,k:t,f:!!n}:e:null);function C(e,t=null,n=null,l=0,s=null,r=e===ht?0:1,o=!1,i=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Mu(t),ref:t&&or(t),scopeId:tu,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:l,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Rt};return i?(gi(c,n),r&128&&e.normalize(c)):n&&(c.shapeFlag|=gt(n)?8:16),zs>0&&!o&&Qt&&(c.patchFlag>0||r&6)&&c.patchFlag!==32&&Qt.push(c),c}const jt=E0;function E0(e,t=null,n=null,l=0,s=null,r=!1){if((!e||e===Xd)&&(e=Hn),hi(e)){const i=es(e,t,!0);return n&&gi(i,n),zs>0&&!r&&Qt&&(i.shapeFlag&6?Qt[Qt.indexOf(e)]=i:Qt.push(i)),i.patchFlag=-2,i}if(V0(e)&&(e=e.__vccOpts),t){t=A0(t);let{class:i,style:c}=t;i&&!gt(i)&&(t.class=j(i)),ot(c)&&(ii(c)&&!_e(c)&&(c=Lt({},c)),t.style=Pn(c))}const o=gt(e)?1:ku(e)?128:$d(e)?64:ot(e)?4:Fe(e)?2:0;return C(e,t,n,l,s,o,r,!0)}function A0(e){return e?ii(e)||pu(e)?Lt({},e):e:null}function es(e,t,n=!1,l=!1){const{props:s,ref:r,patchFlag:o,children:i,transition:c}=e,f=t?P0(s||{},t):s,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&Mu(f),ref:t&&t.ref?n&&r?_e(r)?r.concat(or(t)):[r,or(t)]:or(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ht?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&es(e.ssContent),ssFallback:e.ssFallback&&es(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&l&&ci(d,c.clone(d)),d}function gn(e=" ",t=0){return jt(Er,null,e,t)}function rt(e="",t=!1){return t?(xe(),Vs(Hn,null,e)):jt(Hn,null,e)}function Tn(e){return e==null||typeof e=="boolean"?jt(Hn):_e(e)?jt(ht,null,e.slice()):hi(e)?el(e):jt(Er,null,String(e))}function el(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:es(e)}function gi(e,t){let n=0;const{shapeFlag:l}=e;if(t==null)t=null;else if(_e(t))n=16;else if(typeof t=="object")if(l&65){const s=t.default;s&&(s._c&&(s._d=!1),gi(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!pu(t)?t._ctx=Rt:s===3&&Rt&&(Rt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Fe(t)?(t={default:t,_ctx:Rt},n=32):(t=String(t),l&64?(n=16,t=[gn(t)]):n=8);e.children=t,e.shapeFlag|=n}function P0(...e){const t={};for(let n=0;n<e.length;n++){const l=e[n];for(const s in l)if(s==="class")t.class!==l.class&&(t.class=j([t.class,l.class]));else if(s==="style")t.style=Pn([t.style,l.style]);else if(yr(s)){const r=t[s],o=l[s];o&&r!==o&&!(_e(r)&&r.includes(o))&&(t[s]=r?[].concat(r,o):o)}else s!==""&&(t[s]=l[s])}return t}function kn(e,t,n,l=null){_n(e,t,7,[n,l])}const _0=fu();let F0=0;function R0(e,t,n){const l=e.type,s=(t?t.appContext:e.appContext)||_0,r={uid:F0++,vnode:e,type:l,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new rd(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:vu(l,s),emitsOptions:du(l,s),emit:null,emitted:null,propsDefaults:qe,inheritAttrs:l.inheritAttrs,ctx:qe,data:qe,props:qe,attrs:qe,slots:qe,refs:qe,setupState:qe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=u0.bind(null,r),e.ce&&e.ce(r),r}let Bt=null;const I0=()=>Bt||Rt;let pr,Oo;{const e=Sr(),t=(n,l)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(l),r=>{s.length>1?s.forEach(o=>o(r)):s[0](r)}};pr=t("__VUE_INSTANCE_SETTERS__",n=>Bt=n),Oo=t("__VUE_SSR_SETTERS__",n=>$s=n)}const Hs=e=>{const t=Bt;return pr(e),e.scope.on(),()=>{e.scope.off(),pr(t)}},ya=()=>{Bt&&Bt.scope.off(),pr(null)};function Tu(e){return e.vnode.shapeFlag&4}let $s=!1;function L0(e,t=!1,n=!1){t&&Oo(t);const{props:l,children:s}=e.vnode,r=Tu(e);m0(e,l,r,t),x0(e,s,n||t);const o=r?U0(e,t):void 0;return t&&Oo(!1),o}function U0(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,t0);const{setup:l}=n;if(l){$n();const s=e.setupContext=l.length>1?z0(e):null,r=Hs(e),o=Ns(l,e,0,[e.props,s]),i=Tc(o);if(Bn(),r(),(i||e.sp)&&!ql(e)&&ru(e),i){if(o.then(ya,ya),t)return o.then(c=>{xa(e,c)}).catch(c=>{kr(c,e,0)});e.asyncDep=o}else xa(e,o)}else Eu(e)}function xa(e,t,n){Fe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ot(t)&&(e.setupState=Jc(t)),Eu(e)}function Eu(e,t,n){const l=e.type;e.render||(e.render=l.render||En);{const s=Hs(e);$n();try{n0(e)}finally{Bn(),s()}}}const O0={get(e,t){return Ft(e,"get",""),e[t]}};function z0(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,O0),slots:e.slots,emit:e.emit,expose:t}}function Ar(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Jc(Md(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Es)return Es[n](e)},has(t,n){return n in t||n in Es}})):e.proxy}function V0(e){return Fe(e)&&"__vccOpts"in e}const An=(e,t)=>Pd(e,t,$s),$0="3.5.26";/**
* @vue/runtime-dom v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let zo;const wa=typeof window<"u"&&window.trustedTypes;if(wa)try{zo=wa.createPolicy("vue",{createHTML:e=>e})}catch{}const Au=zo?e=>zo.createHTML(e):e=>e,B0="http://www.w3.org/2000/svg",N0="http://www.w3.org/1998/Math/MathML",In=typeof document<"u"?document:null,Sa=In&&In.createElement("template"),H0={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,l)=>{const s=t==="svg"?In.createElementNS(B0,e):t==="mathml"?In.createElementNS(N0,e):n?In.createElement(e,{is:n}):In.createElement(e);return e==="select"&&l&&l.multiple!=null&&s.setAttribute("multiple",l.multiple),s},createText:e=>In.createTextNode(e),createComment:e=>In.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>In.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,l,s,r){const o=n?n.previousSibling:t.lastChild;if(s&&(s===r||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===r||!(s=s.nextSibling)););else{Sa.innerHTML=Au(l==="svg"?`<svg>${e}</svg>`:l==="mathml"?`<math>${e}</math>`:e);const i=Sa.content;if(l==="svg"||l==="mathml"){const c=i.firstChild;for(;c.firstChild;)i.appendChild(c.firstChild);i.removeChild(c)}t.insertBefore(i,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},W0=Symbol("_vtc");function j0(e,t,n){const l=e[W0];l&&(t=(t?[t,...l]:[...l]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Ca=Symbol("_vod"),K0=Symbol("_vsh"),G0=Symbol(""),Y0=/(?:^|;)\s*display\s*:/;function q0(e,t,n){const l=e.style,s=gt(n);let r=!1;if(n&&!s){if(t)if(gt(t))for(const o of t.split(";")){const i=o.slice(0,o.indexOf(":")).trim();n[i]==null&&ir(l,i,"")}else for(const o in t)n[o]==null&&ir(l,o,"");for(const o in n)o==="display"&&(r=!0),ir(l,o,n[o])}else if(s){if(t!==n){const o=l[G0];o&&(n+=";"+o),l.cssText=n,r=Y0.test(n)}}else t&&e.removeAttribute("style");Ca in e&&(e[Ca]=r?l.display:"",e[K0]&&(l.display="none"))}const ka=/\s*!important$/;function ir(e,t,n){if(_e(n))n.forEach(l=>ir(e,t,l));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const l=J0(e,t);ka.test(n)?e.setProperty(al(l),n.replace(ka,""),"important"):e[l]=n}}const Da=["Webkit","Moz","ms"],po={};function J0(e,t){const n=po[t];if(n)return n;let l=ol(t);if(l!=="filter"&&l in e)return po[t]=l;l=Pc(l);for(let s=0;s<Da.length;s++){const r=Da[s]+l;if(r in e)return po[t]=r}return t}const Ma="http://www.w3.org/1999/xlink";function Ta(e,t,n,l,s,r=sd(t)){l&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Ma,t.slice(6,t.length)):e.setAttributeNS(Ma,t,n):n==null||r&&!Fc(n)?e.removeAttribute(t):e.setAttribute(t,r?"":Wn(n)?String(n):n)}function Ea(e,t,n,l,s){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Au(n):n);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const i=r==="OPTION"?e.getAttribute("value")||"":e.value,c=n==null?e.type==="checkbox"?"on":"":String(n);(i!==c||!("_value"in e))&&(e.value=c),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const i=typeof e[t];i==="boolean"?n=Fc(n):n==null&&i==="string"?(n="",o=!0):i==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(s||t)}function Wl(e,t,n,l){e.addEventListener(t,n,l)}function Z0(e,t,n,l){e.removeEventListener(t,n,l)}const Aa=Symbol("_vei");function Q0(e,t,n,l,s=null){const r=e[Aa]||(e[Aa]={}),o=r[t];if(l&&o)o.value=l;else{const[i,c]=X0(t);if(l){const f=r[t]=nh(l,s);Wl(e,i,f,c)}else o&&(Z0(e,i,o,c),r[t]=void 0)}}const Pa=/(?:Once|Passive|Capture)$/;function X0(e){let t;if(Pa.test(e)){t={};let l;for(;l=e.match(Pa);)e=e.slice(0,e.length-l[0].length),t[l[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):al(e.slice(2)),t]}let mo=0;const eh=Promise.resolve(),th=()=>mo||(eh.then(()=>mo=0),mo=Date.now());function nh(e,t){const n=l=>{if(!l._vts)l._vts=Date.now();else if(l._vts<=n.attached)return;_n(lh(l,n.value),t,5,[l])};return n.value=e,n.attached=th(),n}function lh(e,t){if(_e(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(l=>s=>!s._stopped&&l&&l(s))}else return t}const _a=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,sh=(e,t,n,l,s,r)=>{const o=s==="svg";t==="class"?j0(e,l,o):t==="style"?q0(e,n,l):yr(t)?Jo(t)||Q0(e,t,n,l,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):rh(e,t,l,o))?(Ea(e,t,l),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Ta(e,t,l,o,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!gt(l))?Ea(e,ol(t),l,r,t):(t==="true-value"?e._trueValue=l:t==="false-value"&&(e._falseValue=l),Ta(e,t,l,o))};function rh(e,t,n,l){if(l)return!!(t==="innerHTML"||t==="textContent"||t in e&&_a(t)&&Fe(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return _a(t)&&gt(n)?!1:t in e}const Fa=e=>{const t=e.props["onUpdate:modelValue"]||!1;return _e(t)?n=>sr(t,n):t};function oh(e){e.target.composing=!0}function Ra(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const vo=Symbol("_assign");function Ia(e,t,n){return t&&(e=e.trim()),n&&(e=Xo(e)),e}const ll={created(e,{modifiers:{lazy:t,trim:n,number:l}},s){e[vo]=Fa(s);const r=l||s.props&&s.props.type==="number";Wl(e,t?"change":"input",o=>{o.target.composing||e[vo](Ia(e.value,n,r))}),(n||r)&&Wl(e,"change",()=>{e.value=Ia(e.value,n,r)}),t||(Wl(e,"compositionstart",oh),Wl(e,"compositionend",Ra),Wl(e,"change",Ra))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:l,trim:s,number:r}},o){if(e[vo]=Fa(o),e.composing)return;const i=(r||e.type==="number")&&!/^0\d/.test(e.value)?Xo(e.value):e.value,c=t??"";i!==c&&(document.activeElement===e&&e.type!=="range"&&(l&&t===n||s&&e.value.trim()===c)||(e.value=c))}},ih=["ctrl","shift","alt","meta"],ah={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>ih.some(n=>e[`${n}Key`]&&!t.includes(n))},ar=(e,t)=>{const n=e._withMods||(e._withMods={}),l=t.join(".");return n[l]||(n[l]=(s,...r)=>{for(let o=0;o<t.length;o++){const i=ah[t[o]];if(i&&i(s,t))return}return e(s,...r)})},ch={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},sl=(e,t)=>{const n=e._withKeys||(e._withKeys={}),l=t.join(".");return n[l]||(n[l]=s=>{if(!("key"in s))return;const r=al(s.key);if(t.some(o=>o===r||ch[o]===r))return e(s)})},uh=Lt({patchProp:sh},H0);let La;function fh(){return La||(La=S0(uh))}const dh=(...e)=>{const t=fh().createApp(...e),{mount:n}=t;return t.mount=l=>{const s=gh(l);if(!s)return;const r=t._component;!Fe(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,hh(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function hh(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function gh(e){return gt(e)?document.querySelector(e):e}const ph=[{value:"serial",label:"",description:"Web Serial API"},{value:"websocket",label:"WebSocket",description:"WebSocket "},{value:"bluetooth",label:"",description:"Web Bluetooth API"}],Ua=[{value:"justfloat",label:"JustFloat",description:""},{value:"firewater",label:"FireWater",description:" (ch0,ch1,...\\n)"}],On=["#2196F3","#4CAF50","#FF9800","#E91E63","#9C27B0","#00BCD4","#FFEB3B","#795548"],bo={baudRate:115200,bufferSize:1e4,channels:[],protocol:"justfloat",connectionType:"serial",wsUrl:"ws://localhost:8080",btServiceUUID:"ffe0",btCharacteristicUUID:"ffe1",isDark:!0},mh=[9600,19200,38400,57600,115200,230400,460800,921600],Ps=1e3,_s=1e6,er=new Uint8Array([0,0,128,127]),vh={class:"flex items-center gap-3"},bh={class:"flex items-center gap-2"},yh={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},xh={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},wh=["value","disabled"],Sh=["value"],Ch={key:0,class:"flex items-center gap-1"},kh=["disabled"],Dh={id:"baudRateList"},Mh=["value"],Th=["disabled"],Eh=["disabled"],Ah=["disabled"],Ph={class:"flex items-center gap-2"},_h=["disabled"],Fh=kl({__name:"HeaderBar",props:{status:{},isSupported:{type:Boolean},connectionType:{},wsUrl:{},btServiceUUID:{},btCharacteristicUUID:{},baudRate:{},isDark:{type:Boolean}},emits:["connect","clear","export","import","toggleTheme","update:connectionType","update:wsUrl","update:btServiceUUID","update:btCharacteristicUUID","update:baudRate"],setup(e,{emit:t}){const n=e,l=t,s=ve(n.wsUrl),r=ve(n.btServiceUUID),o=ve(n.btCharacteristicUUID),i=ve(n.baudRate);at(()=>n.wsUrl,T=>{s.value=T}),at(()=>n.btServiceUUID,T=>{r.value=T}),at(()=>n.btCharacteristicUUID,T=>{o.value=T}),at(()=>n.baudRate,T=>{i.value=T});const c=()=>{l("update:wsUrl",s.value)},f=()=>{l("update:btServiceUUID",r.value)},d=()=>{l("update:btCharacteristicUUID",o.value)},h=()=>{const T=Math.max(300,i.value||115200);i.value=T,l("update:baudRate",T)},m=T=>{const U=T.target;l("update:connectionType",U.value)},b={disconnected:"",connecting:"...",connected:"",error:""},S={disconnected:"bg-gray-500",connecting:"bg-yellow-500",connected:"bg-green-500",error:"bg-red-500"};return(T,U)=>(xe(),De("header",{class:j(["border-b px-4 py-3 flex items-center justify-between",e.isDark?"bg-gray-800 border-gray-700":"bg-gray-100 border-gray-300"])},[C("div",vh,[C("h1",{class:j(["text-xl font-semibold",e.isDark?"text-white":"text-gray-900"])},"JustFloat ",2),C("span",{class:j(["text-xs",e.isDark?"text-gray-500":"text-gray-400"])},"Web Serial Protocol Analyzer",2)]),C("div",bh,[C("button",{class:j(["px-3 py-1.5 text-sm rounded",e.isDark?"bg-gray-700 hover:bg-gray-600 text-gray-300":"bg-white hover:bg-gray-200 text-gray-700"]),onClick:U[0]||(U[0]=$=>l("import"))},"  ",2),C("button",{class:j(["px-3 py-1.5 text-sm rounded",e.isDark?"bg-gray-700 hover:bg-gray-600 text-gray-300":"bg-white hover:bg-gray-200 text-gray-700"]),onClick:U[1]||(U[1]=$=>l("export"))},"  ",2),C("button",{class:j(["px-3 py-1.5 text-sm rounded",e.isDark?"bg-gray-700 hover:bg-gray-600 text-gray-300":"bg-white hover:bg-gray-200 text-gray-700"]),onClick:U[2]||(U[2]=$=>l("clear"))},"  ",2),C("button",{class:j(["p-1.5 rounded",e.isDark?"bg-gray-700 hover:bg-gray-600 text-gray-300":"bg-white hover:bg-gray-200 text-gray-700"]),onClick:U[3]||(U[3]=$=>l("toggleTheme")),title:""},[e.isDark?(xe(),De("svg",xh,[...U[10]||(U[10]=[C("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1)])])):(xe(),De("svg",yh,[...U[9]||(U[9]=[C("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1)])]))],2),C("div",{class:j(["w-px h-6 mx-2",e.isDark?"bg-gray-600":"bg-gray-400"])},null,2),C("select",{value:e.connectionType,class:j(["px-2 py-1.5 text-sm rounded border focus:outline-none focus:border-blue-500",e.isDark?"bg-gray-700 text-gray-300 border-gray-600":"bg-white text-gray-700 border-gray-300"]),disabled:e.status==="connected"||e.status==="connecting",onChange:m},[(xe(!0),De(ht,null,Xl(we(ph),$=>(xe(),De("option",{key:$.value,value:$.value},Ee($.label),9,Sh))),128))],42,wh),e.connectionType==="serial"?(xe(),De("div",Ch,[nl(C("input",{"onUpdate:modelValue":U[4]||(U[4]=$=>i.value=$),type:"number",list:"baudRateList",min:"300",max:"4000000",placeholder:"115200",class:j(["px-2 py-1.5 text-sm rounded border focus:outline-none focus:border-blue-500 w-28",e.isDark?"bg-gray-700 text-gray-300 border-gray-600":"bg-white text-gray-700 border-gray-300"]),disabled:e.status==="connected"||e.status==="connecting",onBlur:h,onKeyup:sl(h,["enter"])},null,42,kh),[[ll,i.value,void 0,{number:!0}]]),C("datalist",Dh,[(xe(!0),De(ht,null,Xl(we(mh),$=>(xe(),De("option",{key:$,value:$},null,8,Mh))),128))]),C("span",{class:j(["text-xs",e.isDark?"text-gray-500":"text-gray-400"])},"bps",2)])):rt("",!0),e.connectionType==="websocket"?nl((xe(),De("input",{key:1,"onUpdate:modelValue":U[5]||(U[5]=$=>s.value=$),type:"text",placeholder:"ws://localhost:8080",class:j(["px-2 py-1.5 text-sm rounded border focus:outline-none focus:border-blue-500 w-48",e.isDark?"bg-gray-700 text-gray-300 border-gray-600":"bg-white text-gray-700 border-gray-300"]),disabled:e.status==="connected"||e.status==="connecting",onBlur:c,onKeyup:sl(c,["enter"])},null,42,Th)),[[ll,s.value]]):rt("",!0),e.connectionType==="bluetooth"?(xe(),De(ht,{key:2},[nl(C("input",{"onUpdate:modelValue":U[6]||(U[6]=$=>r.value=$),type:"text",placeholder:" UUID ( ffe0)",class:j(["px-2 py-1.5 text-sm rounded border focus:outline-none focus:border-blue-500 w-36",e.isDark?"bg-gray-700 text-gray-300 border-gray-600":"bg-white text-gray-700 border-gray-300"]),disabled:e.status==="connected"||e.status==="connecting",onBlur:f,onKeyup:sl(f,["enter"])},null,42,Eh),[[ll,r.value]]),nl(C("input",{"onUpdate:modelValue":U[7]||(U[7]=$=>o.value=$),type:"text",placeholder:" UUID ( ffe1)",class:j(["px-2 py-1.5 text-sm rounded border focus:outline-none focus:border-blue-500 w-36",e.isDark?"bg-gray-700 text-gray-300 border-gray-600":"bg-white text-gray-700 border-gray-300"]),disabled:e.status==="connected"||e.status==="connecting",onBlur:d,onKeyup:sl(d,["enter"])},null,42,Ah),[[ll,o.value]])],64)):rt("",!0),C("div",{class:j(["w-px h-6 mx-2",e.isDark?"bg-gray-600":"bg-gray-400"])},null,2),C("div",Ph,[C("span",{class:j(["w-2 h-2 rounded-full",S[e.status]])},null,2),C("span",{class:j(["text-sm",e.isDark?"text-gray-400":"text-gray-600"])},Ee(b[e.status]),3)]),e.isSupported?(xe(),De("button",{key:3,class:j(["px-4 py-1.5 text-sm rounded",e.status==="connected"?"bg-red-600 hover:bg-red-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white"]),disabled:e.status==="connecting",onClick:U[8]||(U[8]=$=>l("connect"))},Ee(e.status==="connected"?"":e.status==="connecting"?"...":""),11,_h)):(xe(),De("span",{key:4,class:j(["text-sm",e.isDark?"text-red-400":"text-red-600"])},"  Web Serial API ",2))])],2))}});function _t(e,t=6){if(!isFinite(e))return"-";const n=Math.abs(e),l=Math.floor(n),s=l===0?1:Math.floor(Math.log10(l))+1;if(s>=7)return e.toFixed(0);const r=Math.max(0,7-s),o=Math.min(t,r);return e.toFixed(o)}function Oa(e){return e>=1e6?(e/1e6).toFixed(2)+"M":e>=1e3?(e/1e3).toFixed(2)+"K":e.toString()}function Rh(e){if(e<1)return(e*1e3).toFixed(0)+" s";if(e<1e3)return e.toFixed(1)+" ms";if(e<6e4)return e.toFixed(2)+" s";const t=Math.floor(e/6e4),n=e%6e4/1e3;return`${t}:${n.toFixed(0).padStart(2,"0")} min`}function Ih(e){return e>=1e6?(e/1e6).toFixed(2)+" MHz":e>=1e3?(e/1e3).toFixed(2)+" kHz":e.toFixed(0)+" Hz"}function Lh(e,t){const n=JSON.stringify(e,null,2),l=new Blob([n],{type:"application/json"}),s=URL.createObjectURL(l),r=document.createElement("a");r.href=s,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(s)}function Uh(e){return new Promise((t,n)=>{const l=new FileReader;l.onload=s=>{var r;try{const o=JSON.parse((r=s.target)==null?void 0:r.result);t(o)}catch{n(new Error(" JSON "))}},l.onerror=()=>n(new Error("")),l.readAsText(e)})}const Oh={class:"relative"},zh={class:"grid grid-cols-4 gap-1.5"},Vh=["onClick"],$h=["title"],Bh={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Nh={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Hh={key:0,class:"px-3 pb-2"},Wh={class:"text-yellow-500 text-xs"},jh={class:"text-yellow-600 font-mono tabular-nums text-base font-semibold"},Kh={key:0,class:"text-sm ml-1"},Gh={class:"grid grid-cols-4 gap-1 text-xs"},Yh={class:"text-center"},qh={class:"text-green-500 font-mono tabular-nums"},Jh={class:"text-center"},Zh={class:"text-red-500 font-mono tabular-nums"},Qh={class:"text-center"},Xh={class:"text-blue-500 font-mono tabular-nums"},eg={class:"text-center"},tg={class:"text-purple-500 font-mono tabular-nums"},ng={class:"grid grid-cols-2 gap-2"},lg={class:"text-yellow-500 text-xs"},sg={class:"text-yellow-600 font-mono tabular-nums text-base font-semibold"},rg={key:0,class:"text-sm ml-1"},og={class:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs"},ig={class:"flex justify-between"},ag={class:"text-green-500 font-mono tabular-nums"},cg={class:"flex justify-between"},ug={class:"text-red-500 font-mono tabular-nums"},fg={class:"flex justify-between"},dg={class:"text-blue-500 font-mono tabular-nums"},hg={class:"flex justify-between"},gg={class:"text-purple-500 font-mono tabular-nums"},pg={class:"flex gap-2 pt-2"},mg=kl({__name:"ChannelItem",props:{channel:{},stats:{},cursorValue:{},cursorIndex:{},isDark:{type:Boolean}},emits:["update","toggleVisibility"],setup(e,{emit:t}){const n=e,l=t,s=ve(!1),r=ve(!1),o=ve(n.channel.name),i=ve(n.channel.unit),c=ve(String(n.channel.coefficient)),f=ve(!1),d=ve(!1),h=ve(!1);at(()=>n.channel.name,P=>{f.value||(o.value=P)}),at(()=>n.channel.unit,P=>{d.value||(i.value=P)}),at(()=>n.channel.coefficient,P=>{h.value||(c.value=String(P))});const m=()=>{f.value=!1;const P=o.value||` ${n.channel.id+1}`;P!==n.channel.name&&l("update",{name:P})},b=()=>{d.value=!1,i.value!==n.channel.unit&&l("update",{unit:i.value})},S=()=>{h.value=!1;const P=parseFloat(c.value),E=!c.value||isNaN(P)||P===0?1:P;c.value=String(E),E!==n.channel.coefficient&&l("update",{coefficient:E})},T=An(()=>n.stats?n.stats.max-n.stats.min:0),U=On,$=P=>{l("update",{color:P}),r.value=!1};return(P,E)=>(xe(),De("div",{class:j(["rounded-lg border",e.channel.visible?e.isDark?"border-gray-600 bg-gray-700/50":"border-gray-300 bg-gray-50 shadow-sm":e.isDark?"border-gray-700 bg-gray-800/50 opacity-50":"border-gray-300 bg-gray-100 opacity-60"])},[C("div",{class:j(["flex items-center gap-2 px-3 py-2 cursor-pointer rounded-t-lg",e.isDark?"hover:bg-gray-700/50":"hover:bg-gray-200"]),onClick:E[3]||(E[3]=w=>s.value=!s.value)},[C("div",Oh,[C("button",{class:"w-3 h-3 rounded-full flex-shrink-0 ring-2 ring-transparent hover:ring-white/30",style:Pn({backgroundColor:e.channel.color}),onClick:E[0]||(E[0]=ar(w=>r.value=!r.value,["stop"])),title:""},null,4),r.value?(xe(),De("div",{key:0,class:j(["absolute left-0 top-5 border rounded-lg p-2 z-20 shadow-xl",e.isDark?"bg-gray-800 border-gray-600":"bg-white border-gray-400 shadow-lg"]),onClick:E[1]||(E[1]=ar(()=>{},["stop"]))},[C("div",zh,[(xe(!0),De(ht,null,Xl(we(U),w=>(xe(),De("button",{key:w,class:j(["w-5 h-5 rounded-full hover:scale-110",{"ring-2 ring-white":e.channel.color===w}]),style:Pn({backgroundColor:w}),onClick:ie=>$(w)},null,14,Vh))),128))])],2)):rt("",!0)]),C("span",{class:j(["flex-1 text-sm truncate",e.isDark?"text-white":"text-gray-900"])},[gn(Ee(e.channel.name)+" ",1),e.channel.unit?(xe(),De("span",{key:0,class:j(["text-xs ml-1",e.isDark?"text-gray-400":"text-gray-600"])},"("+Ee(e.channel.unit)+")",3)):rt("",!0)],2),e.stats?(xe(),De("span",{key:0,class:j(["text-sm font-mono tabular-nums",e.isDark?"text-gray-200":"text-gray-800"])},[gn(Ee(we(_t)(e.stats.current,3))+" ",1),e.channel.unit?(xe(),De("span",{key:0,class:j(["text-xs",e.isDark?"text-gray-500":"text-gray-600"])},Ee(e.channel.unit),3)):rt("",!0)],2)):rt("",!0),C("button",{class:j(["p-1 rounded",[e.channel.visible?"text-blue-400":"text-gray-500",e.isDark?"hover:bg-gray-600":"hover:bg-gray-300"]]),onClick:E[2]||(E[2]=ar(w=>l("toggleVisibility"),["stop"])),title:e.channel.visible?"":""},[e.channel.visible?(xe(),De("svg",Bh,[...E[15]||(E[15]=[C("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),C("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])])):(xe(),De("svg",Nh,[...E[16]||(E[16]=[C("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},null,-1)])]))],10,$h),(xe(),De("svg",{class:j(["w-4 h-4",(e.isDark,"text-gray-500"),{"rotate-180":s.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...E[17]||(E[17]=[C("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))],2),e.stats&&!s.value?(xe(),De("div",Hh,[e.cursorValue!=null?(xe(),De("div",{key:0,class:j(["mb-2 flex items-center justify-between rounded px-2 py-1.5",e.isDark?"bg-gray-800/50":"bg-yellow-50 border border-yellow-200"])},[C("span",Wh,[E[18]||(E[18]=C("svg",{class:"w-3 h-3 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[C("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 15l-2 5L9 9l11 4-5 2z"})],-1)),gn("  ["+Ee(e.cursorIndex)+"] ",1)]),C("span",jh,[gn(Ee(we(_t)(e.cursorValue))+" ",1),e.channel.unit?(xe(),De("span",Kh,Ee(e.channel.unit),1)):rt("",!0)])],2)):rt("",!0),C("div",Gh,[C("div",Yh,[C("div",{class:j(e.isDark?"text-gray-500":"text-gray-600")},"",2),C("div",qh,Ee(we(_t)(e.stats.min,3)),1)]),C("div",Jh,[C("div",{class:j(e.isDark?"text-gray-500":"text-gray-600")},"",2),C("div",Zh,Ee(we(_t)(e.stats.max,3)),1)]),C("div",Qh,[C("div",{class:j(e.isDark?"text-gray-500":"text-gray-600")},"",2),C("div",Xh,Ee(we(_t)(e.stats.avg,3)),1)]),C("div",eg,[C("div",{class:j(e.isDark?"text-gray-500":"text-gray-600")},"",2),C("div",tg,Ee(we(_t)(T.value,3)),1)])])])):rt("",!0),s.value?(xe(),De("div",{key:1,class:j(["px-3 pb-3 pt-1 space-y-3 border-t",e.isDark?"border-gray-700":"border-gray-300"])},[C("div",null,[C("label",{class:j(["block text-xs mb-1",e.isDark?"text-gray-500":"text-gray-600"])},"",2),nl(C("input",{type:"text","onUpdate:modelValue":E[4]||(E[4]=w=>o.value=w),class:j(["w-full rounded px-2 py-1.5 text-sm focus:outline-none focus:border-blue-500",e.isDark?"bg-gray-700 border border-gray-600 text-white":"bg-white border border-gray-400 text-gray-900"]),placeholder:"",onFocus:E[5]||(E[5]=w=>f.value=!0),onBlur:m,onKeyup:E[6]||(E[6]=sl(w=>w.target.blur(),["enter"]))},null,34),[[ll,o.value]])]),C("div",ng,[C("div",null,[C("label",{class:j(["block text-xs mb-1",e.isDark?"text-gray-500":"text-gray-600"])},"",2),nl(C("input",{type:"text","onUpdate:modelValue":E[7]||(E[7]=w=>i.value=w),placeholder:"V, A, C...",class:j(["w-full rounded px-2 py-1.5 text-sm focus:outline-none focus:border-blue-500",e.isDark?"bg-gray-700 border border-gray-600 text-white":"bg-white border border-gray-400 text-gray-900"]),onFocus:E[8]||(E[8]=w=>d.value=!0),onBlur:b,onKeyup:E[9]||(E[9]=sl(w=>w.target.blur(),["enter"]))},null,34),[[ll,i.value]])]),C("div",null,[C("label",{class:j(["block text-xs mb-1",e.isDark?"text-gray-500":"text-gray-600"])},"",2),nl(C("input",{type:"text","onUpdate:modelValue":E[10]||(E[10]=w=>c.value=w),placeholder:"1.0",class:j(["w-full rounded px-2 py-1.5 text-sm focus:outline-none focus:border-blue-500",e.isDark?"bg-gray-700 border border-gray-600 text-white":"bg-white border border-gray-400 text-gray-900"]),onFocus:E[11]||(E[11]=w=>h.value=!0),onBlur:S,onKeyup:E[12]||(E[12]=sl(w=>w.target.blur(),["enter"]))},null,34),[[ll,c.value]])])]),e.stats?(xe(),De("div",{key:0,class:j(["pt-2 border-t",e.isDark?"border-gray-700":"border-gray-300"])},[C("div",{class:j(["text-xs mb-2",e.isDark?"text-gray-500":"text-gray-600"])},"",2),e.cursorValue!=null?(xe(),De("div",{key:0,class:j(["mb-2 flex items-center justify-between rounded px-2 py-1.5 border",e.isDark?"bg-yellow-900/30 border-yellow-700/30":"bg-yellow-50 border-yellow-300"])},[C("span",lg,[E[19]||(E[19]=C("svg",{class:"w-3 h-3 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[C("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 15l-2 5L9 9l11 4-5 2z"})],-1)),gn("  ["+Ee(e.cursorIndex)+"]: ",1)]),C("span",sg,[gn(Ee(we(_t)(e.cursorValue))+" ",1),e.channel.unit?(xe(),De("span",rg,Ee(e.channel.unit),1)):rt("",!0)])],2)):rt("",!0),C("div",og,[C("div",ig,[C("span",{class:j(e.isDark?"text-gray-500":"text-gray-600")},":",2),C("span",ag,Ee(we(_t)(e.stats.min)),1)]),C("div",cg,[C("span",{class:j(e.isDark?"text-gray-500":"text-gray-600")},":",2),C("span",ug,Ee(we(_t)(e.stats.max)),1)]),C("div",fg,[C("span",{class:j(e.isDark?"text-gray-500":"text-gray-600")},":",2),C("span",dg,Ee(we(_t)(e.stats.avg)),1)]),C("div",hg,[C("span",{class:j(e.isDark?"text-gray-500":"text-gray-600")},":",2),C("span",{class:j(["font-mono tabular-nums",e.isDark?"text-white":"text-gray-900"])},Ee(we(_t)(e.stats.current)),3)]),C("div",{class:j(["flex justify-between col-span-2 pt-1 border-t mt-1",e.isDark?"border-gray-700":"border-gray-300"])},[C("span",{class:j(e.isDark?"text-gray-500":"text-gray-600")},":",2),C("span",gg,Ee(we(_t)(T.value)),1)],2)])],2)):rt("",!0),C("div",pg,[C("button",{class:j(["flex-1 px-2 py-1 text-xs rounded text-white",e.channel.visible?e.isDark?"bg-gray-600 hover:bg-gray-500":"bg-gray-500 hover:bg-gray-600":"bg-blue-600 hover:bg-blue-500"]),onClick:E[13]||(E[13]=w=>l("toggleVisibility"))},Ee(e.channel.visible?"":""),3),C("button",{class:j(["px-2 py-1 text-xs text-white rounded",e.isDark?"bg-gray-600 hover:bg-gray-500":"bg-gray-500 hover:bg-gray-600"]),onClick:E[14]||(E[14]=w=>l("update",{name:` ${e.channel.id+1}`,unit:"",coefficient:1})),title:""},"  ",2)])],2)):rt("",!0)],2))}}),vg={class:"mb-3"},bg=["value"],yg=["value"],xg=["min","max"],wg={class:"flex-1 overflow-y-auto p-4"},Sg={key:1,class:"space-y-2"},Cg=kl({__name:"SidePanel",props:{bufferSize:{},protocol:{},channels:{},channelCount:{},cursorValues:{},cursorIndex:{},getChannelStats:{type:Function},isDark:{type:Boolean}},emits:["update:bufferSize","update:protocol","updateChannel","toggleVisibility"],setup(e,{emit:t}){const n=e,l=t,s=ve(n.bufferSize),r=ve(!1);at(()=>n.bufferSize,f=>{r.value||(s.value=f)});const o=()=>{r.value=!1;const f=Math.max(Ps,Math.min(_s,s.value));s.value=f,l("update:bufferSize",f)},i=An(()=>n.channels.slice(0,n.channelCount)),c=f=>!n.cursorValues||f>=n.cursorValues.length?null:n.cursorValues[f];return(f,d)=>{var h;return xe(),De("aside",{class:j(["w-72 flex-shrink-0 border-r flex flex-col overflow-hidden",e.isDark?"bg-gray-800 border-gray-700":"bg-white border-gray-300"])},[C("div",{class:j(["p-4 border-b",e.isDark?"border-gray-700":"border-gray-300"])},[C("h2",{class:j(["text-sm font-semibold mb-3",e.isDark?"text-gray-400":"text-gray-700"])},"",2),C("div",vg,[C("label",{class:j(["block text-xs mb-1",e.isDark?"text-gray-500":"text-gray-600"])},"",2),C("select",{value:e.protocol,class:j(["w-full rounded px-3 py-1.5 text-sm focus:outline-none focus:border-blue-500",e.isDark?"bg-gray-700 border border-gray-600 text-white":"bg-white border border-gray-400 text-gray-900"]),onChange:d[0]||(d[0]=m=>l("update:protocol",m.target.value))},[(xe(!0),De(ht,null,Xl(we(Ua),m=>(xe(),De("option",{key:m.value,value:m.value},Ee(m.label),9,yg))),128))],42,bg),C("div",{class:j(["text-xs mt-1",e.isDark?"text-gray-600":"text-gray-500"])},Ee((h=we(Ua).find(m=>m.value===e.protocol))==null?void 0:h.description),3)]),C("div",null,[C("label",{class:j(["block text-xs mb-1",e.isDark?"text-gray-500":"text-gray-600"])},"  ("+Ee(we(Ps).toLocaleString())+" - "+Ee(we(_s).toLocaleString())+") ",3),nl(C("input",{type:"number","onUpdate:modelValue":d[1]||(d[1]=m=>s.value=m),min:we(Ps),max:we(_s),step:"1000",class:j(["w-full rounded px-3 py-1.5 text-sm focus:outline-none focus:border-blue-500",e.isDark?"bg-gray-700 border border-gray-600 text-white":"bg-white border border-gray-400 text-gray-900"]),onFocus:d[2]||(d[2]=m=>r.value=!0),onBlur:o,onKeydown:d[3]||(d[3]=sl(m=>m.target.blur(),["enter"]))},null,42,xg),[[ll,s.value,void 0,{number:!0}]])])],2),C("div",wg,[C("h2",{class:j(["text-sm font-semibold mb-3",e.isDark?"text-gray-400":"text-gray-700"])},"  ("+Ee(e.channelCount)+") ",3),e.channelCount===0?(xe(),De("div",{key:0,class:j(["text-sm text-center py-4",(e.isDark,"text-gray-500")])}," ... ",2)):(xe(),De("div",Sg,[(xe(!0),De(ht,null,Xl(i.value,m=>(xe(),Vs(mg,{key:m.id,channel:m,stats:e.getChannelStats(m.id),"cursor-value":c(m.id),"cursor-index":e.cursorIndex,"is-dark":e.isDark,onUpdate:b=>l("updateChannel",m.id,b),onToggleVisibility:b=>l("toggleVisibility",m.id)},null,8,["channel","stats","cursor-value","cursor-index","is-dark","onUpdate","onToggleVisibility"]))),128))]))])],2)}}}),kg=!0,bt="u-",Dg="uplot",Mg=bt+"hz",Tg=bt+"vt",Eg=bt+"title",Ag=bt+"wrap",Pg=bt+"under",_g=bt+"over",Fg=bt+"axis",yl=bt+"off",Rg=bt+"select",Ig=bt+"cursor-x",Lg=bt+"cursor-y",Ug=bt+"cursor-pt",Og=bt+"legend",zg=bt+"live",Vg=bt+"inline",$g=bt+"series",Bg=bt+"marker",za=bt+"label",Ng=bt+"value",ws="width",Ss="height",vs="top",Va="bottom",Nl="left",yo="right",pi="#000",$a=pi+"0",xo="mousemove",Ba="mousedown",wo="mouseup",Na="mouseenter",Ha="mouseleave",Wa="dblclick",Hg="resize",Wg="scroll",ja="change",mr="dppxchange",mi="--",rs=typeof window<"u",Vo=rs?document:null,Zl=rs?window:null,jg=rs?navigator:null;let He,tr;function $o(){let e=devicePixelRatio;He!=e&&(He=e,tr&&No(ja,tr,$o),tr=matchMedia(`(min-resolution: ${He-.001}dppx) and (max-resolution: ${He+.001}dppx)`),Sl(ja,tr,$o),Zl.dispatchEvent(new CustomEvent(mr)))}function Zt(e,t){if(t!=null){let n=e.classList;!n.contains(t)&&n.add(t)}}function Bo(e,t){let n=e.classList;n.contains(t)&&n.remove(t)}function lt(e,t,n){e.style[t]=n+"px"}function dn(e,t,n,l){let s=Vo.createElement(e);return t!=null&&Zt(s,t),n!=null&&n.insertBefore(s,l),s}function sn(e,t){return dn("div",e,t)}const Ka=new WeakMap;function Dn(e,t,n,l,s){let r="translate("+t+"px,"+n+"px)",o=Ka.get(e);r!=o&&(e.style.transform=r,Ka.set(e,r),t<0||n<0||t>l||n>s?Zt(e,yl):Bo(e,yl))}const Ga=new WeakMap;function Ya(e,t,n){let l=t+n,s=Ga.get(e);l!=s&&(Ga.set(e,l),e.style.background=t,e.style.borderColor=n)}const qa=new WeakMap;function Ja(e,t,n,l){let s=t+""+n,r=qa.get(e);s!=r&&(qa.set(e,s),e.style.height=n+"px",e.style.width=t+"px",e.style.marginLeft=l?-t/2+"px":0,e.style.marginTop=l?-n/2+"px":0)}const vi={passive:!0},Kg={...vi,capture:!0};function Sl(e,t,n,l){t.addEventListener(e,n,l?Kg:vi)}function No(e,t,n,l){t.removeEventListener(e,n,vi)}rs&&$o();function hn(e,t,n,l){let s;n=n||0,l=l||t.length-1;let r=l<=2147483647;for(;l-n>1;)s=r?n+l>>1:Xt((n+l)/2),t[s]<e?n=s:l=s;return e-t[n]<=t[l]-e?n:l}function Pu(e){return(n,l,s)=>{let r=-1,o=-1;for(let i=l;i<=s;i++)if(e(n[i])){r=i;break}for(let i=s;i>=l;i--)if(e(n[i])){o=i;break}return[r,o]}}const _u=e=>e!=null,Fu=e=>e!=null&&e>0,Pr=Pu(_u),Gg=Pu(Fu);function Yg(e,t,n,l=0,s=!1){let r=s?Gg:Pr,o=s?Fu:_u;[t,n]=r(e,t,n);let i=e[t],c=e[t];if(t>-1)if(l==1)i=e[t],c=e[n];else if(l==-1)i=e[n],c=e[t];else for(let f=t;f<=n;f++){let d=e[f];o(d)&&(d<i?i=d:d>c&&(c=d))}return[i??Je,c??-Je]}function _r(e,t,n,l){let s=Xa(e),r=Xa(t);e==t&&(s==-1?(e*=n,t/=n):(e/=n,t*=n));let o=n==10?zn:Ru,i=s==1?Xt:rn,c=r==1?rn:Xt,f=i(o(vt(e))),d=c(o(vt(t))),h=ts(n,f),m=ts(n,d);return n==10&&(f<0&&(h=Ze(h,-f)),d<0&&(m=Ze(m,-d))),l||n==2?(e=h*s,t=m*r):(e=Ou(e,h),t=Fr(t,m)),[e,t]}function bi(e,t,n,l){let s=_r(e,t,n,l);return e==0&&(s[0]=0),t==0&&(s[1]=0),s}const yi=.1,Za={mode:3,pad:yi},Fs={pad:0,soft:null,mode:0},qg={min:Fs,max:Fs};function vr(e,t,n,l){return Rr(n)?Qa(e,t,n):(Fs.pad=n,Fs.soft=l?0:null,Fs.mode=l?3:0,Qa(e,t,qg))}function Be(e,t){return e??t}function Jg(e,t,n){for(t=Be(t,0),n=Be(n,e.length-1);t<=n;){if(e[t]!=null)return!0;t++}return!1}function Qa(e,t,n){let l=n.min,s=n.max,r=Be(l.pad,0),o=Be(s.pad,0),i=Be(l.hard,-Je),c=Be(s.hard,Je),f=Be(l.soft,Je),d=Be(s.soft,-Je),h=Be(l.mode,0),m=Be(s.mode,0),b=t-e,S=zn(b),T=Nt(vt(e),vt(t)),U=zn(T),$=vt(U-S);(b<1e-24||$>10)&&(b=0,(e==0||t==0)&&(b=1e-24,h==2&&f!=Je&&(r=0),m==2&&d!=-Je&&(o=0)));let P=b||T||1e3,E=zn(P),w=ts(10,Xt(E)),ie=P*(b==0?e==0?.1:1:r),ne=Ze(Ou(e-ie,w/10),24),be=e>=f&&(h==1||h==3&&ne<=f||h==2&&ne>=f)?f:Je,ce=Nt(i,ne<be&&e>=be?be:pn(be,ne)),ke=P*(b==0?t==0?.1:1:o),me=Ze(Fr(t+ke,w/10),24),Q=t<=d&&(m==1||m==3&&me>=d||m==2&&me<=d)?d:-Je,Ce=pn(c,me>Q&&t<=Q?Q:Nt(Q,me));return ce==Ce&&ce==0&&(Ce=100),[ce,Ce]}const Zg=new Intl.NumberFormat(rs?jg.language:"en-US"),xi=e=>Zg.format(e),en=Math,cr=en.PI,vt=en.abs,Xt=en.floor,mt=en.round,rn=en.ceil,pn=en.min,Nt=en.max,ts=en.pow,Xa=en.sign,zn=en.log10,Ru=en.log2,Qg=(e,t=1)=>en.sinh(e)*t,So=(e,t=1)=>en.asinh(e/t),Je=1/0;function ec(e){return(zn((e^e>>31)-(e>>31))|0)+1}function Ho(e,t,n){return pn(Nt(e,t),n)}function Iu(e){return typeof e=="function"}function Oe(e){return Iu(e)?e:()=>e}const Xg=()=>{},Lu=e=>e,Uu=(e,t)=>t,ep=e=>null,tc=e=>!0,nc=(e,t)=>e==t,tp=/\.\d*?(?=9{6,}|0{6,})/gm,Cl=e=>{if(Vu(e)||il.has(e))return e;const t=`${e}`,n=t.match(tp);if(n==null)return e;let l=n[0].length-1;if(t.indexOf("e-")!=-1){let[s,r]=t.split("e");return+`${Cl(s)}e${r}`}return Ze(e,l)};function vl(e,t){return Cl(Ze(Cl(e/t))*t)}function Fr(e,t){return Cl(rn(Cl(e/t))*t)}function Ou(e,t){return Cl(Xt(Cl(e/t))*t)}function Ze(e,t=0){if(Vu(e))return e;let n=10**t,l=e*n*(1+Number.EPSILON);return mt(l)/n}const il=new Map;function zu(e){return((""+e).split(".")[1]||"").length}function Bs(e,t,n,l){let s=[],r=l.map(zu);for(let o=t;o<n;o++){let i=vt(o),c=Ze(ts(e,o),i);for(let f=0;f<l.length;f++){let d=e==10?+`${l[f]}e${o}`:l[f]*c,h=(o>=0?0:i)+(o>=r[f]?0:r[f]),m=e==10?d:Ze(d,h);s.push(m),il.set(m,h)}}return s}const Rs={},wi=[],ns=[null,null],tl=Array.isArray,Vu=Number.isInteger,np=e=>e===void 0;function lc(e){return typeof e=="string"}function Rr(e){let t=!1;if(e!=null){let n=e.constructor;t=n==null||n==Object}return t}function lp(e){return e!=null&&typeof e=="object"}const sp=Object.getPrototypeOf(Uint8Array),$u="__proto__";function ls(e,t=Rr){let n;if(tl(e)){let l=e.find(s=>s!=null);if(tl(l)||t(l)){n=Array(e.length);for(let s=0;s<e.length;s++)n[s]=ls(e[s],t)}else n=e.slice()}else if(e instanceof sp)n=e.slice();else if(t(e)){n={};for(let l in e)l!=$u&&(n[l]=ls(e[l],t))}else n=e;return n}function dt(e){let t=arguments;for(let n=1;n<t.length;n++){let l=t[n];for(let s in l)s!=$u&&(Rr(e[s])?dt(e[s],ls(l[s])):e[s]=ls(l[s]))}return e}const rp=0,op=1,ip=2;function ap(e,t,n){for(let l=0,s,r=-1;l<t.length;l++){let o=t[l];if(o>r){for(s=o-1;s>=0&&e[s]==null;)e[s--]=null;for(s=o+1;s<n&&e[s]==null;)e[r=s++]=null}}}function cp(e,t){if(dp(e)){let o=e[0].slice();for(let i=1;i<e.length;i++)o.push(...e[i].slice(1));return hp(o[0])||(o=fp(o)),o}let n=new Set;for(let o=0;o<e.length;o++){let c=e[o][0],f=c.length;for(let d=0;d<f;d++)n.add(c[d])}let l=[Array.from(n).sort((o,i)=>o-i)],s=l[0].length,r=new Map;for(let o=0;o<s;o++)r.set(l[0][o],o);for(let o=0;o<e.length;o++){let i=e[o],c=i[0];for(let f=1;f<i.length;f++){let d=i[f],h=Array(s).fill(void 0),m=t?t[o][f]:op,b=[];for(let S=0;S<d.length;S++){let T=d[S],U=r.get(c[S]);T===null?m!=rp&&(h[U]=T,m==ip&&b.push(U)):h[U]=T}ap(h,b,s),l.push(h)}}return l}const up=typeof queueMicrotask>"u"?e=>Promise.resolve().then(e):queueMicrotask;function fp(e){let t=e[0],n=t.length,l=Array(n);for(let r=0;r<l.length;r++)l[r]=r;l.sort((r,o)=>t[r]-t[o]);let s=[];for(let r=0;r<e.length;r++){let o=e[r],i=Array(n);for(let c=0;c<n;c++)i[c]=o[l[c]];s.push(i)}return s}function dp(e){let t=e[0][0],n=t.length;for(let l=1;l<e.length;l++){let s=e[l][0];if(s.length!=n)return!1;if(s!=t){for(let r=0;r<n;r++)if(s[r]!=t[r])return!1}}return!0}function hp(e,t=100){const n=e.length;if(n<=1)return!0;let l=0,s=n-1;for(;l<=s&&e[l]==null;)l++;for(;s>=l&&e[s]==null;)s--;if(s<=l)return!0;const r=Nt(1,Xt((s-l+1)/t));for(let o=e[l],i=l+r;i<=s;i+=r){const c=e[i];if(c!=null){if(c<=o)return!1;o=c}}return!0}const Bu=["January","February","March","April","May","June","July","August","September","October","November","December"],Nu=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function Hu(e){return e.slice(0,3)}const gp=Nu.map(Hu),pp=Bu.map(Hu),mp={MMMM:Bu,MMM:pp,WWWW:Nu,WWW:gp};function bs(e){return(e<10?"0":"")+e}function vp(e){return(e<10?"00":e<100?"0":"")+e}const bp={YYYY:e=>e.getFullYear(),YY:e=>(e.getFullYear()+"").slice(2),MMMM:(e,t)=>t.MMMM[e.getMonth()],MMM:(e,t)=>t.MMM[e.getMonth()],MM:e=>bs(e.getMonth()+1),M:e=>e.getMonth()+1,DD:e=>bs(e.getDate()),D:e=>e.getDate(),WWWW:(e,t)=>t.WWWW[e.getDay()],WWW:(e,t)=>t.WWW[e.getDay()],HH:e=>bs(e.getHours()),H:e=>e.getHours(),h:e=>{let t=e.getHours();return t==0?12:t>12?t-12:t},AA:e=>e.getHours()>=12?"PM":"AM",aa:e=>e.getHours()>=12?"pm":"am",a:e=>e.getHours()>=12?"p":"a",mm:e=>bs(e.getMinutes()),m:e=>e.getMinutes(),ss:e=>bs(e.getSeconds()),s:e=>e.getSeconds(),fff:e=>vp(e.getMilliseconds())};function Si(e,t){t=t||mp;let n=[],l=/\{([a-z]+)\}|[^{]+/gi,s;for(;s=l.exec(e);)n.push(s[0][0]=="{"?bp[s[1]]:s[0]);return r=>{let o="";for(let i=0;i<n.length;i++)o+=typeof n[i]=="string"?n[i]:n[i](r,t);return o}}const yp=new Intl.DateTimeFormat().resolvedOptions().timeZone;function xp(e,t){let n;return t=="UTC"||t=="Etc/UTC"?n=new Date(+e+e.getTimezoneOffset()*6e4):t==yp?n=e:(n=new Date(e.toLocaleString("en-US",{timeZone:t})),n.setMilliseconds(e.getMilliseconds())),n}const Wu=e=>e%1==0,br=[1,2,2.5,5],wp=Bs(10,-32,0,br),ju=Bs(10,0,32,br),Sp=ju.filter(Wu),bl=wp.concat(ju),Ci=`
`,Ku="{YYYY}",sc=Ci+Ku,Gu="{M}/{D}",Cs=Ci+Gu,nr=Cs+"/{YY}",Yu="{aa}",Cp="{h}:{mm}",jl=Cp+Yu,rc=Ci+jl,oc=":{ss}",We=null;function qu(e){let t=e*1e3,n=t*60,l=n*60,s=l*24,r=s*30,o=s*365,c=(e==1?Bs(10,0,3,br).filter(Wu):Bs(10,-3,0,br)).concat([t,t*5,t*10,t*15,t*30,n,n*5,n*10,n*15,n*30,l,l*2,l*3,l*4,l*6,l*8,l*12,s,s*2,s*3,s*4,s*5,s*6,s*7,s*8,s*9,s*10,s*15,r,r*2,r*3,r*4,r*6,o,o*2,o*5,o*10,o*25,o*50,o*100]);const f=[[o,Ku,We,We,We,We,We,We,1],[s*28,"{MMM}",sc,We,We,We,We,We,1],[s,Gu,sc,We,We,We,We,We,1],[l,"{h}"+Yu,nr,We,Cs,We,We,We,1],[n,jl,nr,We,Cs,We,We,We,1],[t,oc,nr+" "+jl,We,Cs+" "+jl,We,rc,We,1],[e,oc+".{fff}",nr+" "+jl,We,Cs+" "+jl,We,rc,We,1]];function d(h){return(m,b,S,T,U,$)=>{let P=[],E=U>=o,w=U>=r&&U<o,ie=h(S),ne=Ze(ie*e,3),be=Co(ie.getFullYear(),E?0:ie.getMonth(),w||E?1:ie.getDate()),ce=Ze(be*e,3);if(w||E){let ke=w?U/r:0,me=E?U/o:0,Q=ne==ce?ne:Ze(Co(be.getFullYear()+me,be.getMonth()+ke,1)*e,3),Ce=new Date(mt(Q/e)),oe=Ce.getFullYear(),le=Ce.getMonth();for(let I=0;Q<=T;I++){let z=Co(oe+me*I,le+ke*I,1),L=z-h(Ze(z*e,3));Q=Ze((+z+L)*e,3),Q<=T&&P.push(Q)}}else{let ke=U>=s?s:U,me=Xt(S)-Xt(ne),Q=ce+me+Fr(ne-ce,ke);P.push(Q);let Ce=h(Q),oe=Ce.getHours()+Ce.getMinutes()/n+Ce.getSeconds()/l,le=U/l,I=m.axes[b]._space,z=$/I;for(;Q=Ze(Q+U,e==1?0:3),!(Q>T);)if(le>1){let L=Xt(Ze(oe+le,6))%24,V=h(Q).getHours()-L;V>1&&(V=-1),Q-=V*l,oe=(oe+le)%24;let q=P[P.length-1];Ze((Q-q)/U,3)*z>=.7&&P.push(Q)}else P.push(Q)}return P}}return[c,f,d]}const[kp,Dp,Mp]=qu(1),[Tp,Ep,Ap]=qu(.001);Bs(2,-53,53,[1]);function ic(e,t){return e.map(n=>n.map((l,s)=>s==0||s==8||l==null?l:t(s==1||n[8]==0?l:n[1]+l)))}function ac(e,t){return(n,l,s,r,o)=>{let i=t.find(S=>o>=S[0])||t[t.length-1],c,f,d,h,m,b;return l.map(S=>{let T=e(S),U=T.getFullYear(),$=T.getMonth(),P=T.getDate(),E=T.getHours(),w=T.getMinutes(),ie=T.getSeconds(),ne=U!=c&&i[2]||$!=f&&i[3]||P!=d&&i[4]||E!=h&&i[5]||w!=m&&i[6]||ie!=b&&i[7]||i[1];return c=U,f=$,d=P,h=E,m=w,b=ie,ne(T)})}}function Pp(e,t){let n=Si(t);return(l,s,r,o,i)=>s.map(c=>n(e(c)))}function Co(e,t,n){return new Date(e,t,n)}function cc(e,t){return t(e)}const _p="{YYYY}-{MM}-{DD} {h}:{mm}{aa}";function uc(e,t){return(n,l,s,r)=>r==null?mi:t(e(l))}function Fp(e,t){let n=e.series[t];return n.width?n.stroke(e,t):n.points.width?n.points.stroke(e,t):null}function Rp(e,t){return e.series[t].fill(e,t)}const Ip={show:!0,live:!0,isolate:!1,mount:Xg,markers:{show:!0,width:2,stroke:Fp,fill:Rp,dash:"solid"},idx:null,idxs:null,values:[]};function Lp(e,t){let n=e.cursor.points,l=sn(),s=n.size(e,t);lt(l,ws,s),lt(l,Ss,s);let r=s/-2;lt(l,"marginLeft",r),lt(l,"marginTop",r);let o=n.width(e,t,s);return o&&lt(l,"borderWidth",o),l}function Up(e,t){let n=e.series[t].points;return n._fill||n._stroke}function Op(e,t){let n=e.series[t].points;return n._stroke||n._fill}function zp(e,t){return e.series[t].points.size}const ko=[0,0];function Vp(e,t,n){return ko[0]=t,ko[1]=n,ko}function lr(e,t,n,l=!0){return s=>{s.button==0&&(!l||s.target==t)&&n(s)}}function Do(e,t,n,l=!0){return s=>{(!l||s.target==t)&&n(s)}}const $p={show:!0,x:!0,y:!0,lock:!1,move:Vp,points:{one:!1,show:Lp,size:zp,width:0,stroke:Op,fill:Up},bind:{mousedown:lr,mouseup:lr,click:lr,dblclick:lr,mousemove:Do,mouseleave:Do,mouseenter:Do},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,click:(e,t)=>{t.stopPropagation(),t.stopImmediatePropagation()},_x:!1,_y:!1},focus:{dist:(e,t,n,l,s)=>l-s,prox:-1,bias:0},hover:{skip:[void 0],prox:null,bias:0},left:-10,top:-10,idx:null,dataIdx:null,idxs:null,event:null},Ju={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},ki=dt({},Ju,{filter:Uu}),Zu=dt({},ki,{size:10}),Qu=dt({},Ju,{show:!1}),Di='12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',Xu="bold "+Di,ef=1.5,fc={show:!0,scale:"x",stroke:pi,space:50,gap:5,alignTo:1,size:50,labelGap:0,labelSize:30,labelFont:Xu,side:2,grid:ki,ticks:Zu,border:Qu,font:Di,lineGap:ef,rotate:0},Bp="Value",Np="Time",dc={show:!0,scale:"x",auto:!1,sorted:1,min:Je,max:-Je,idxs:[]};function Hp(e,t,n,l,s){return t.map(r=>r==null?"":xi(r))}function Wp(e,t,n,l,s,r,o){let i=[],c=il.get(s)||0;n=o?n:Ze(Fr(n,s),c);for(let f=n;f<=l;f=Ze(f+s,c))i.push(Object.is(f,-0)?0:f);return i}function Wo(e,t,n,l,s,r,o){const i=[],c=e.scales[e.axes[t].scale].log,f=c==10?zn:Ru,d=Xt(f(n));s=ts(c,d),c==10&&(s=bl[hn(s,bl)]);let h=n,m=s*c;c==10&&(m=bl[hn(m,bl)]);do i.push(h),h=h+s,c==10&&!il.has(h)&&(h=Ze(h,il.get(s))),h>=m&&(s=h,m=s*c,c==10&&(m=bl[hn(m,bl)]));while(h<=l);return i}function jp(e,t,n,l,s,r,o){let c=e.scales[e.axes[t].scale].asinh,f=l>c?Wo(e,t,Nt(c,n),l,s):[c],d=l>=0&&n<=0?[0]:[];return(n<-c?Wo(e,t,Nt(c,-l),-n,s):[c]).reverse().map(m=>-m).concat(d,f)}const tf=/./,Kp=/[12357]/,Gp=/[125]/,hc=/1/,jo=(e,t,n,l)=>e.map((s,r)=>t==4&&s==0||r%l==0&&n.test(s.toExponential()[s<0?1:0])?s:null);function Yp(e,t,n,l,s){let r=e.axes[n],o=r.scale,i=e.scales[o],c=e.valToPos,f=r._space,d=c(10,o),h=c(9,o)-d>=f?tf:c(7,o)-d>=f?Kp:c(5,o)-d>=f?Gp:hc;if(h==hc){let m=vt(c(1,o)-d);if(m<f)return jo(t.slice().reverse(),i.distr,h,rn(f/m)).reverse()}return jo(t,i.distr,h,1)}function qp(e,t,n,l,s){let r=e.axes[n],o=r.scale,i=r._space,c=e.valToPos,f=vt(c(1,o)-c(2,o));return f<i?jo(t.slice().reverse(),3,tf,rn(i/f)).reverse():t}function Jp(e,t,n,l){return l==null?mi:t==null?"":xi(t)}const gc={show:!0,scale:"y",stroke:pi,space:30,gap:5,alignTo:1,size:50,labelGap:0,labelSize:30,labelFont:Xu,side:3,grid:ki,ticks:Zu,border:Qu,font:Di,lineGap:ef,rotate:0};function Zp(e,t){let n=3+(e||1)*2;return Ze(n*t,3)}function Qp(e,t){let{scale:n,idxs:l}=e.series[0],s=e._data[0],r=e.valToPos(s[l[0]],n,!0),o=e.valToPos(s[l[1]],n,!0),i=vt(o-r),c=e.series[t],f=i/(c.points.space*He);return l[1]-l[0]<=f}const pc={scale:null,auto:!0,sorted:0,min:Je,max:-Je},nf=(e,t,n,l,s)=>s,mc={show:!0,auto:!0,sorted:0,gaps:nf,alpha:1,facets:[dt({},pc,{scale:"x"}),dt({},pc,{scale:"y"})]},vc={scale:"y",auto:!0,sorted:0,show:!0,spanGaps:!1,gaps:nf,alpha:1,points:{show:Qp,filter:null},values:null,min:Je,max:-Je,idxs:[],path:null,clip:null};function Xp(e,t,n,l,s){return n/10}const lf={time:kg,auto:!0,distr:1,log:10,asinh:1,min:null,max:null,dir:1,ori:0},em=dt({},lf,{time:!1,ori:1}),bc={};function sf(e,t){let n=bc[e];return n||(n={key:e,plots:[],sub(l){n.plots.push(l)},unsub(l){n.plots=n.plots.filter(s=>s!=l)},pub(l,s,r,o,i,c,f){for(let d=0;d<n.plots.length;d++)n.plots[d]!=s&&n.plots[d].pub(l,s,r,o,i,c,f)}},e!=null&&(bc[e]=n)),n}const ss=1,Ko=2;function Dl(e,t,n){const l=e.mode,s=e.series[t],r=l==2?e._data[t]:e._data,o=e.scales,i=e.bbox;let c=r[0],f=l==2?r[1]:r[t],d=l==2?o[s.facets[0].scale]:o[e.series[0].scale],h=l==2?o[s.facets[1].scale]:o[s.scale],m=i.left,b=i.top,S=i.width,T=i.height,U=e.valToPosH,$=e.valToPosV;return d.ori==0?n(s,c,f,d,h,U,$,m,b,S,T,Lr,os,Or,of,cf):n(s,c,f,d,h,$,U,b,m,T,S,Ur,is,Ei,af,uf)}function Mi(e,t){let n=0,l=0,s=Be(e.bands,wi);for(let r=0;r<s.length;r++){let o=s[r];o.series[0]==t?n=o.dir:o.series[1]==t&&(o.dir==1?l|=1:l|=2)}return[n,l==1?-1:l==2?1:l==3?2:0]}function tm(e,t,n,l,s){let r=e.mode,o=e.series[t],i=r==2?o.facets[1].scale:o.scale,c=e.scales[i];return s==-1?c.min:s==1?c.max:c.distr==3?c.dir==1?c.min:c.max:0}function Vn(e,t,n,l,s,r){return Dl(e,t,(o,i,c,f,d,h,m,b,S,T,U)=>{let $=o.pxRound;const P=f.dir*(f.ori==0?1:-1),E=f.ori==0?os:is;let w,ie;P==1?(w=n,ie=l):(w=l,ie=n);let ne=$(h(i[w],f,T,b)),be=$(m(c[w],d,U,S)),ce=$(h(i[ie],f,T,b)),ke=$(m(r==1?d.max:d.min,d,U,S)),me=new Path2D(s);return E(me,ce,ke),E(me,ne,ke),E(me,ne,be),me})}function Ir(e,t,n,l,s,r){let o=null;if(e.length>0){o=new Path2D;const i=t==0?Or:Ei;let c=n;for(let h=0;h<e.length;h++){let m=e[h];if(m[1]>m[0]){let b=m[0]-c;b>0&&i(o,c,l,b,l+r),c=m[1]}}let f=n+s-c,d=10;f>0&&i(o,c,l-d/2,f,l+r+d)}return o}function nm(e,t,n){let l=e[e.length-1];l&&l[0]==t?l[1]=n:e.push([t,n])}function Ti(e,t,n,l,s,r,o){let i=[],c=e.length;for(let f=s==1?n:l;f>=n&&f<=l;f+=s)if(t[f]===null){let h=f,m=f;if(s==1)for(;++f<=l&&t[f]===null;)m=f;else for(;--f>=n&&t[f]===null;)m=f;let b=r(e[h]),S=m==h?b:r(e[m]),T=h-s;b=o<=0&&T>=0&&T<c?r(e[T]):b;let $=m+s;S=o>=0&&$>=0&&$<c?r(e[$]):S,S>=b&&i.push([b,S])}return i}function yc(e){return e==0?Lu:e==1?mt:t=>vl(t,e)}function rf(e){let t=e==0?Lr:Ur,n=e==0?(s,r,o,i,c,f)=>{s.arcTo(r,o,i,c,f)}:(s,r,o,i,c,f)=>{s.arcTo(o,r,c,i,f)},l=e==0?(s,r,o,i,c)=>{s.rect(r,o,i,c)}:(s,r,o,i,c)=>{s.rect(o,r,c,i)};return(s,r,o,i,c,f=0,d=0)=>{f==0&&d==0?l(s,r,o,i,c):(f=pn(f,i/2,c/2),d=pn(d,i/2,c/2),t(s,r+f,o),n(s,r+i,o,r+i,o+c,f),n(s,r+i,o+c,r,o+c,d),n(s,r,o+c,r,o,d),n(s,r,o,r+i,o,f),s.closePath())}}const Lr=(e,t,n)=>{e.moveTo(t,n)},Ur=(e,t,n)=>{e.moveTo(n,t)},os=(e,t,n)=>{e.lineTo(t,n)},is=(e,t,n)=>{e.lineTo(n,t)},Or=rf(0),Ei=rf(1),of=(e,t,n,l,s,r)=>{e.arc(t,n,l,s,r)},af=(e,t,n,l,s,r)=>{e.arc(n,t,l,s,r)},cf=(e,t,n,l,s,r,o)=>{e.bezierCurveTo(t,n,l,s,r,o)},uf=(e,t,n,l,s,r,o)=>{e.bezierCurveTo(n,t,s,l,o,r)};function ff(e){return(t,n,l,s,r)=>Dl(t,n,(o,i,c,f,d,h,m,b,S,T,U)=>{let{pxRound:$,points:P}=o,E,w;f.ori==0?(E=Lr,w=of):(E=Ur,w=af);const ie=Ze(P.width*He,3);let ne=(P.size-P.width)/2*He,be=Ze(ne*2,3),ce=new Path2D,ke=new Path2D,{left:me,top:Q,width:Ce,height:oe}=t.bbox;Or(ke,me-be,Q-be,Ce+be*2,oe+be*2);const le=I=>{if(c[I]!=null){let z=$(h(i[I],f,T,b)),L=$(m(c[I],d,U,S));E(ce,z+ne,L),w(ce,z,L,ne,0,cr*2)}};if(r)r.forEach(le);else for(let I=l;I<=s;I++)le(I);return{stroke:ie>0?ce:null,fill:ce,clip:ke,flags:ss|Ko}})}function df(e){return(t,n,l,s,r,o)=>{l!=s&&(r!=l&&o!=l&&e(t,n,l),r!=s&&o!=s&&e(t,n,s),e(t,n,o))}}const lm=df(os),sm=df(is);function hf(e){const t=Be(e==null?void 0:e.alignGaps,0);return(n,l,s,r)=>Dl(n,l,(o,i,c,f,d,h,m,b,S,T,U)=>{[s,r]=Pr(c,s,r);let $=o.pxRound,P=oe=>$(h(oe,f,T,b)),E=oe=>$(m(oe,d,U,S)),w,ie;f.ori==0?(w=os,ie=lm):(w=is,ie=sm);const ne=f.dir*(f.ori==0?1:-1),be={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:ss},ce=be.stroke;let ke=!1;if(r-s>=T*4){let oe=J=>n.posToVal(J,f.key,!0),le=null,I=null,z,L,se,X=P(i[ne==1?s:r]),V=P(i[s]),q=P(i[r]),Y=oe(ne==1?V+1:q-1);for(let J=ne==1?s:r;J>=s&&J<=r;J+=ne){let pe=i[J],ae=(ne==1?pe<Y:pe>Y)?X:P(pe),ge=c[J];ae==X?ge!=null?(L=ge,le==null?(w(ce,ae,E(L)),z=le=I=L):L<le?le=L:L>I&&(I=L)):ge===null&&(ke=!0):(le!=null&&ie(ce,X,E(le),E(I),E(z),E(L)),ge!=null?(L=ge,w(ce,ae,E(L)),le=I=z=L):(le=I=null,ge===null&&(ke=!0)),X=ae,Y=oe(X+ne))}le!=null&&le!=I&&se!=X&&ie(ce,X,E(le),E(I),E(z),E(L))}else for(let oe=ne==1?s:r;oe>=s&&oe<=r;oe+=ne){let le=c[oe];le===null?ke=!0:le!=null&&w(ce,P(i[oe]),E(le))}let[Q,Ce]=Mi(n,l);if(o.fill!=null||Q!=0){let oe=be.fill=new Path2D(ce),le=o.fillTo(n,l,o.min,o.max,Q),I=E(le),z=P(i[s]),L=P(i[r]);ne==-1&&([L,z]=[z,L]),w(oe,L,I),w(oe,z,I)}if(!o.spanGaps){let oe=[];ke&&oe.push(...Ti(i,c,s,r,ne,P,t)),be.gaps=oe=o.gaps(n,l,s,r,oe),be.clip=Ir(oe,f.ori,b,S,T,U)}return Ce!=0&&(be.band=Ce==2?[Vn(n,l,s,r,ce,-1),Vn(n,l,s,r,ce,1)]:Vn(n,l,s,r,ce,Ce)),be})}function rm(e){const t=Be(e.align,1),n=Be(e.ascDesc,!1),l=Be(e.alignGaps,0),s=Be(e.extend,!1);return(r,o,i,c)=>Dl(r,o,(f,d,h,m,b,S,T,U,$,P,E)=>{[i,c]=Pr(h,i,c);let w=f.pxRound,{left:ie,width:ne}=r.bbox,be=V=>w(S(V,m,P,U)),ce=V=>w(T(V,b,E,$)),ke=m.ori==0?os:is;const me={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:ss},Q=me.stroke,Ce=m.dir*(m.ori==0?1:-1);let oe=ce(h[Ce==1?i:c]),le=be(d[Ce==1?i:c]),I=le,z=le;s&&t==-1&&(z=ie,ke(Q,z,oe)),ke(Q,le,oe);for(let V=Ce==1?i:c;V>=i&&V<=c;V+=Ce){let q=h[V];if(q==null)continue;let Y=be(d[V]),J=ce(q);t==1?ke(Q,Y,oe):ke(Q,I,J),ke(Q,Y,J),oe=J,I=Y}let L=I;s&&t==1&&(L=ie+ne,ke(Q,L,oe));let[se,X]=Mi(r,o);if(f.fill!=null||se!=0){let V=me.fill=new Path2D(Q),q=f.fillTo(r,o,f.min,f.max,se),Y=ce(q);ke(V,L,Y),ke(V,z,Y)}if(!f.spanGaps){let V=[];V.push(...Ti(d,h,i,c,Ce,be,l));let q=f.width*He/2,Y=n||t==1?q:-q,J=n||t==-1?-q:q;V.forEach(pe=>{pe[0]+=Y,pe[1]+=J}),me.gaps=V=f.gaps(r,o,i,c,V),me.clip=Ir(V,m.ori,U,$,P,E)}return X!=0&&(me.band=X==2?[Vn(r,o,i,c,Q,-1),Vn(r,o,i,c,Q,1)]:Vn(r,o,i,c,Q,X)),me})}function xc(e,t,n,l,s,r,o=Je){if(e.length>1){let i=null;for(let c=0,f=1/0;c<e.length;c++)if(t[c]!==void 0){if(i!=null){let d=vt(e[c]-e[i]);d<f&&(f=d,o=vt(n(e[c],l,s,r)-n(e[i],l,s,r)))}i=c}}return o}function om(e){e=e||Rs;const t=Be(e.size,[.6,Je,1]),n=e.align||0,l=e.gap||0;let s=e.radius;s=s==null?[0,0]:typeof s=="number"?[s,0]:s;const r=Oe(s),o=1-t[0],i=Be(t[1],Je),c=Be(t[2],1),f=Be(e.disp,Rs),d=Be(e.each,b=>{}),{fill:h,stroke:m}=f;return(b,S,T,U)=>Dl(b,S,($,P,E,w,ie,ne,be,ce,ke,me,Q)=>{let Ce=$.pxRound,oe=n,le=l*He,I=i*He,z=c*He,L,se;w.ori==0?[L,se]=r(b,S):[se,L]=r(b,S);const X=w.dir*(w.ori==0?1:-1);let V=w.ori==0?Or:Ei,q=w.ori==0?d:(F,N,te,he,Se,Re,Qe)=>{d(F,N,te,Se,he,Qe,Re)},Y=Be(b.bands,wi).find(F=>F.series[0]==S),J=Y!=null?Y.dir:0,pe=$.fillTo(b,S,$.min,$.max,J),Te=Ce(be(pe,ie,Q,ke)),ae,ge,Le,ze=me,Pe=Ce($.width*He),pt=!1,v=null,y=null,R=null,W=null;h!=null&&(Pe==0||m!=null)&&(pt=!0,v=h.values(b,S,T,U),y=new Map,new Set(v).forEach(F=>{F!=null&&y.set(F,new Path2D)}),Pe>0&&(R=m.values(b,S,T,U),W=new Map,new Set(R).forEach(F=>{F!=null&&W.set(F,new Path2D)})));let{x0:H,size:G}=f;if(H!=null&&G!=null){oe=1,P=H.values(b,S,T,U),H.unit==2&&(P=P.map(te=>b.posToVal(ce+te*me,w.key,!0)));let F=G.values(b,S,T,U);G.unit==2?ge=F[0]*me:ge=ne(F[0],w,me,ce)-ne(0,w,me,ce),ze=xc(P,E,ne,w,me,ce,ze),Le=ze-ge+le}else ze=xc(P,E,ne,w,me,ce,ze),Le=ze*o+le,ge=ze-Le;Le<1&&(Le=0),Pe>=ge/2&&(Pe=0),Le<5&&(Ce=Lu);let re=Le>0,D=ze-Le-(re?Pe:0);ge=Ce(Ho(D,z,I)),ae=(oe==0?ge/2:oe==X?0:ge)-oe*X*((oe==0?le/2:0)+(re?Pe/2:0));const k={stroke:null,fill:null,clip:null,band:null,gaps:null,flags:0},A=pt?null:new Path2D;let K=null;if(Y!=null)K=b.data[Y.series[1]];else{let{y0:F,y1:N}=f;F!=null&&N!=null&&(E=N.values(b,S,T,U),K=F.values(b,S,T,U))}let O=L*ge,_=se*ge;for(let F=X==1?T:U;F>=T&&F<=U;F+=X){let N=E[F];if(N==null)continue;if(K!=null){let it=K[F]??0;if(N-it==0)continue;Te=be(it,ie,Q,ke)}let te=w.distr!=2||f!=null?P[F]:F,he=ne(te,w,me,ce),Se=be(Be(N,pe),ie,Q,ke),Re=Ce(he-ae),Qe=Ce(Nt(Se,Te)),Ie=Ce(pn(Se,Te)),Ve=Qe-Ie;if(N!=null){let it=N<0?_:O,Ye=N<0?O:_;pt?(Pe>0&&R[F]!=null&&V(W.get(R[F]),Re,Ie+Xt(Pe/2),ge,Nt(0,Ve-Pe),it,Ye),v[F]!=null&&V(y.get(v[F]),Re,Ie+Xt(Pe/2),ge,Nt(0,Ve-Pe),it,Ye)):V(A,Re,Ie+Xt(Pe/2),ge,Nt(0,Ve-Pe),it,Ye),q(b,S,F,Re-Pe/2,Ie,ge+Pe,Ve)}}return Pe>0?k.stroke=pt?W:A:pt||(k._fill=$.width==0?$._fill:$._stroke??$._fill,k.width=0),k.fill=pt?y:A,k})}function im(e,t){const n=Be(t==null?void 0:t.alignGaps,0);return(l,s,r,o)=>Dl(l,s,(i,c,f,d,h,m,b,S,T,U,$)=>{[r,o]=Pr(f,r,o);let P=i.pxRound,E=L=>P(m(L,d,U,S)),w=L=>P(b(L,h,$,T)),ie,ne,be;d.ori==0?(ie=Lr,be=os,ne=cf):(ie=Ur,be=is,ne=uf);const ce=d.dir*(d.ori==0?1:-1);let ke=E(c[ce==1?r:o]),me=ke,Q=[],Ce=[];for(let L=ce==1?r:o;L>=r&&L<=o;L+=ce)if(f[L]!=null){let X=c[L],V=E(X);Q.push(me=V),Ce.push(w(f[L]))}const oe={stroke:e(Q,Ce,ie,be,ne,P),fill:null,clip:null,band:null,gaps:null,flags:ss},le=oe.stroke;let[I,z]=Mi(l,s);if(i.fill!=null||I!=0){let L=oe.fill=new Path2D(le),se=i.fillTo(l,s,i.min,i.max,I),X=w(se);be(L,me,X),be(L,ke,X)}if(!i.spanGaps){let L=[];L.push(...Ti(c,f,r,o,ce,E,n)),oe.gaps=L=i.gaps(l,s,r,o,L),oe.clip=Ir(L,d.ori,S,T,U,$)}return z!=0&&(oe.band=z==2?[Vn(l,s,r,o,le,-1),Vn(l,s,r,o,le,1)]:Vn(l,s,r,o,le,z)),oe})}function am(e){return im(cm,e)}function cm(e,t,n,l,s,r){const o=e.length;if(o<2)return null;const i=new Path2D;if(n(i,e[0],t[0]),o==2)l(i,e[1],t[1]);else{let c=Array(o),f=Array(o-1),d=Array(o-1),h=Array(o-1);for(let m=0;m<o-1;m++)d[m]=t[m+1]-t[m],h[m]=e[m+1]-e[m],f[m]=d[m]/h[m];c[0]=f[0];for(let m=1;m<o-1;m++)f[m]===0||f[m-1]===0||f[m-1]>0!=f[m]>0?c[m]=0:(c[m]=3*(h[m-1]+h[m])/((2*h[m]+h[m-1])/f[m-1]+(h[m]+2*h[m-1])/f[m]),isFinite(c[m])||(c[m]=0));c[o-1]=f[o-2];for(let m=0;m<o-1;m++)s(i,e[m]+h[m]/3,t[m]+c[m]*h[m]/3,e[m+1]-h[m]/3,t[m+1]-c[m+1]*h[m]/3,e[m+1],t[m+1])}return i}const Go=new Set;function wc(){for(let e of Go)e.syncRect(!0)}rs&&(Sl(Hg,Zl,wc),Sl(Wg,Zl,wc,!0),Sl(mr,Zl,()=>{At.pxRatio=He}));const um=hf(),fm=ff();function Sc(e,t,n,l){return(l?[e[0],e[1]].concat(e.slice(2)):[e[0]].concat(e.slice(1))).map((r,o)=>Yo(r,o,t,n))}function dm(e,t){return e.map((n,l)=>l==0?{}:dt({},t,n))}function Yo(e,t,n,l){return dt({},t==0?n:l,e)}function gf(e,t,n){return t==null?ns:[t,n]}const hm=gf;function gm(e,t,n){return t==null?ns:vr(t,n,yi,!0)}function pf(e,t,n,l){return t==null?ns:_r(t,n,e.scales[l].log,!1)}const pm=pf;function mf(e,t,n,l){return t==null?ns:bi(t,n,e.scales[l].log,!1)}const mm=mf;function vm(e,t,n,l,s){let r=Nt(ec(e),ec(t)),o=t-e,i=hn(s/l*o,n);do{let c=n[i],f=l*c/o;if(f>=s&&r+(c<5?il.get(c):0)<=17)return[c,f]}while(++i<n.length);return[0,0]}function Cc(e){let t,n;return e=e.replace(/(\d+)px/,(l,s)=>(t=mt((n=+s)*He))+"px"),[e,t,n]}function bm(e){e.show&&[e.font,e.labelFont].forEach(t=>{let n=Ze(t[2]*He,1);t[0]=t[0].replace(/[0-9.]+px/,n+"px"),t[1]=n})}function At(e,t,n){const l={mode:Be(e.mode,1)},s=l.mode;function r(a,u,g,p){let x=u.valToPct(a);return p+g*(u.dir==-1?1-x:x)}function o(a,u,g,p){let x=u.valToPct(a);return p+g*(u.dir==-1?x:1-x)}function i(a,u,g,p){return u.ori==0?r(a,u,g,p):o(a,u,g,p)}l.valToPosH=r,l.valToPosV=o;let c=!1;l.status=0;const f=l.root=sn(Dg);if(e.id!=null&&(f.id=e.id),Zt(f,e.class),e.title){let a=sn(Eg,f);a.textContent=e.title}const d=dn("canvas"),h=l.ctx=d.getContext("2d"),m=sn(Ag,f);Sl("click",m,a=>{a.target===S&&(et!=Ll||st!=Ul)&&Et.click(l,a)},!0);const b=l.under=sn(Pg,m);m.appendChild(d);const S=l.over=sn(_g,m);e=ls(e);const T=+Be(e.pxAlign,1),U=yc(T);(e.plugins||[]).forEach(a=>{a.opts&&(e=a.opts(l,e)||e)});const $=e.ms||.001,P=l.series=s==1?Sc(e.series||[],dc,vc,!1):dm(e.series||[null],mc),E=l.axes=Sc(e.axes||[],fc,gc,!0),w=l.scales={},ie=l.bands=e.bands||[];ie.forEach(a=>{a.fill=Oe(a.fill||null),a.dir=Be(a.dir,-1)});const ne=s==2?P[1].facets[0].scale:P[0].scale,be={axes:Ff,series:Tf},ce=(e.drawOrder||["axes","series"]).map(a=>be[a]);function ke(a){const u=a.distr==3?g=>zn(g>0?g:a.clamp(l,g,a.min,a.max,a.key)):a.distr==4?g=>So(g,a.asinh):a.distr==100?g=>a.fwd(g):g=>g;return g=>{let p=u(g),{_min:x,_max:M}=a,B=M-x;return(p-x)/B}}function me(a){let u=w[a];if(u==null){let g=(e.scales||Rs)[a]||Rs;if(g.from!=null){me(g.from);let p=dt({},w[g.from],g,{key:a});p.valToPct=ke(p),w[a]=p}else{u=w[a]=dt({},a==ne?lf:em,g),u.key=a;let p=u.time,x=u.range,M=tl(x);if((a!=ne||s==2&&!p)&&(M&&(x[0]==null||x[1]==null)&&(x={min:x[0]==null?Za:{mode:1,hard:x[0],soft:x[0]},max:x[1]==null?Za:{mode:1,hard:x[1],soft:x[1]}},M=!1),!M&&Rr(x))){let B=x;x=(Z,ee,ue)=>ee==null?ns:vr(ee,ue,B)}u.range=Oe(x||(p?hm:a==ne?u.distr==3?pm:u.distr==4?mm:gf:u.distr==3?pf:u.distr==4?mf:gm)),u.auto=Oe(M?!1:u.auto),u.clamp=Oe(u.clamp||Xp),u._min=u._max=null,u.valToPct=ke(u)}}}me("x"),me("y"),s==1&&P.forEach(a=>{me(a.scale)}),E.forEach(a=>{me(a.scale)});for(let a in e.scales)me(a);const Q=w[ne],Ce=Q.distr;let oe,le;Q.ori==0?(Zt(f,Mg),oe=r,le=o):(Zt(f,Tg),oe=o,le=r);const I={};for(let a in w){let u=w[a];(u.min!=null||u.max!=null)&&(I[a]={min:u.min,max:u.max},u.min=u.max=null)}const z=e.tzDate||(a=>new Date(mt(a/$))),L=e.fmtDate||Si,se=$==1?Mp(z):Ap(z),X=ac(z,ic($==1?Dp:Ep,L)),V=uc(z,cc(_p,L)),q=[],Y=l.legend=dt({},Ip,e.legend),J=l.cursor=dt({},$p,{drag:{y:s==2}},e.cursor),pe=Y.show,Te=J.show,ae=Y.markers;Y.idxs=q,ae.width=Oe(ae.width),ae.dash=Oe(ae.dash),ae.stroke=Oe(ae.stroke),ae.fill=Oe(ae.fill);let ge,Le,ze,Pe=[],pt=[],v,y=!1,R={};if(Y.live){const a=P[1]?P[1].values:null;y=a!=null,v=y?a(l,1,0):{_:0};for(let u in v)R[u]=mi}if(pe)if(ge=dn("table",Og,f),ze=dn("tbody",null,ge),Y.mount(l,ge),y){Le=dn("thead",null,ge,ze);let a=dn("tr",null,Le);dn("th",null,a);for(var W in v)dn("th",za,a).textContent=W}else Zt(ge,Vg),Y.live&&Zt(ge,zg);const H={show:!0},G={show:!1};function re(a,u){if(u==0&&(y||!Y.live||s==2))return ns;let g=[],p=dn("tr",$g,ze,ze.childNodes[u]);Zt(p,a.class),a.show||Zt(p,yl);let x=dn("th",null,p);if(ae.show){let Z=sn(Bg,x);if(u>0){let ee=ae.width(l,u);ee&&(Z.style.border=ee+"px "+ae.dash(l,u)+" "+ae.stroke(l,u)),Z.style.background=ae.fill(l,u)}}let M=sn(za,x);a.label instanceof HTMLElement?M.appendChild(a.label):M.textContent=a.label,u>0&&(ae.show||(M.style.color=a.width>0?ae.stroke(l,u):ae.fill(l,u)),k("click",x,Z=>{if(J._lock)return;cl(Z);let ee=P.indexOf(a);if((Z.ctrlKey||Z.metaKey)!=Y.isolate){let ue=P.some((fe,de)=>de>0&&de!=ee&&fe.show);P.forEach((fe,de)=>{de>0&&xn(de,ue?de==ee?H:G:H,!0,ft.setSeries)})}else xn(ee,{show:!a.show},!0,ft.setSeries)},!1),Ml&&k(Na,x,Z=>{J._lock||(cl(Z),xn(P.indexOf(a),zl,!0,ft.setSeries))},!1));for(var B in v){let Z=dn("td",Ng,p);Z.textContent="--",g.push(Z)}return[p,g]}const D=new Map;function k(a,u,g,p=!0){const x=D.get(u)||{},M=J.bind[a](l,u,g,p);M&&(Sl(a,u,x[a]=M),D.set(u,x))}function A(a,u,g){const p=D.get(u)||{};for(let x in p)(a==null||x==a)&&(No(x,u,p[x]),delete p[x]);a==null&&D.delete(u)}let K=0,O=0,_=0,F=0,N=0,te=0,he=N,Se=te,Re=_,Qe=F,Ie=0,Ve=0,it=0,Ye=0;l.bbox={};let Mt=!1,bn=!1,Kt=!1,an=!1,Kn=!1,yt=!1;function zr(a,u,g){(g||a!=l.width||u!=l.height)&&Ai(a,u),_l(!1),Kt=!0,bn=!0,Fl()}function Ai(a,u){l.width=K=_=a,l.height=O=F=u,N=te=0,xf(),wf();let g=l.bbox;Ie=g.left=vl(N*He,.5),Ve=g.top=vl(te*He,.5),it=g.width=vl(_*He,.5),Ye=g.height=vl(F*He,.5)}const vf=3;function bf(){let a=!1,u=0;for(;!a;){u++;let g=Pf(u),p=_f(u);a=u==vf||g&&p,a||(Ai(l.width,l.height),bn=!0)}}function yf({width:a,height:u}){zr(a,u)}l.setSize=yf;function xf(){let a=!1,u=!1,g=!1,p=!1;E.forEach((x,M)=>{if(x.show&&x._show){let{side:B,_size:Z}=x,ee=B%2,ue=x.label!=null?x.labelSize:0,fe=Z+ue;fe>0&&(ee?(_-=fe,B==3?(N+=fe,p=!0):g=!0):(F-=fe,B==0?(te+=fe,a=!0):u=!0))}}),ul[0]=a,ul[1]=g,ul[2]=u,ul[3]=p,_-=Gn[1]+Gn[3],N+=Gn[3],F-=Gn[2]+Gn[0],te+=Gn[0]}function wf(){let a=N+_,u=te+F,g=N,p=te;function x(M,B){switch(M){case 1:return a+=B,a-B;case 2:return u+=B,u-B;case 3:return g-=B,g+B;case 0:return p-=B,p+B}}E.forEach((M,B)=>{if(M.show&&M._show){let Z=M.side;M._pos=x(Z,M._size),M.label!=null&&(M._lpos=x(Z,M.labelSize))}})}if(J.dataIdx==null){let a=J.hover,u=a.skip=new Set(a.skip??[]);u.add(void 0);let g=a.prox=Oe(a.prox),p=a.bias??(a.bias=0);J.dataIdx=(x,M,B,Z)=>{if(M==0)return B;let ee=B,ue=g(x,M,B,Z)??Je,fe=ue>=0&&ue<Je,de=Q.ori==0?_:F,Ae=J.left,Ne=t[0],$e=t[M];if(u.has($e[B])){ee=null;let Ue=null,Me=null,ye;if(p==0||p==-1)for(ye=B;Ue==null&&ye-- >0;)u.has($e[ye])||(Ue=ye);if(p==0||p==1)for(ye=B;Me==null&&ye++<$e.length;)u.has($e[ye])||(Me=ye);if(Ue!=null||Me!=null)if(fe){let nt=Ue==null?-1/0:oe(Ne[Ue],Q,de,0),ct=Me==null?1/0:oe(Ne[Me],Q,de,0),Dt=Ae-nt,Ge=ct-Ae;Dt<=Ge?Dt<=ue&&(ee=Ue):Ge<=ue&&(ee=Me)}else ee=Me==null?Ue:Ue==null?Me:B-Ue<=Me-B?Ue:Me}else fe&&vt(Ae-oe(Ne[B],Q,de,0))>ue&&(ee=null);return ee}}const cl=a=>{J.event=a};J.idxs=q,J._lock=!1;let Pt=J.points;Pt.show=Oe(Pt.show),Pt.size=Oe(Pt.size),Pt.stroke=Oe(Pt.stroke),Pt.width=Oe(Pt.width),Pt.fill=Oe(Pt.fill);const yn=l.focus=dt({},e.focus||{alpha:.3},J.focus),Ml=yn.prox>=0,Tl=Ml&&Pt.one;let tn=[],El=[],Al=[];function Pi(a,u){let g=Pt.show(l,u);if(g instanceof HTMLElement)return Zt(g,Ug),Zt(g,a.class),Dn(g,-10,-10,_,F),S.insertBefore(g,tn[u]),g}function _i(a,u){if(s==1||u>0){let g=s==1&&w[a.scale].time,p=a.value;a.value=g?lc(p)?uc(z,cc(p,L)):p||V:p||Jp,a.label=a.label||(g?Np:Bp)}if(Tl||u>0){a.width=a.width==null?1:a.width,a.paths=a.paths||um||ep,a.fillTo=Oe(a.fillTo||tm),a.pxAlign=+Be(a.pxAlign,T),a.pxRound=yc(a.pxAlign),a.stroke=Oe(a.stroke||null),a.fill=Oe(a.fill||null),a._stroke=a._fill=a._paths=a._focus=null;let g=Zp(Nt(1,a.width),1),p=a.points=dt({},{size:g,width:Nt(1,g*.2),stroke:a.stroke,space:g*2,paths:fm,_stroke:null,_fill:null},a.points);p.show=Oe(p.show),p.filter=Oe(p.filter),p.fill=Oe(p.fill),p.stroke=Oe(p.stroke),p.paths=Oe(p.paths),p.pxAlign=a.pxAlign}if(pe){let g=re(a,u);Pe.splice(u,0,g[0]),pt.splice(u,0,g[1]),Y.values.push(null)}if(Te){q.splice(u,0,null);let g=null;Tl?u==0&&(g=Pi(a,u)):u>0&&(g=Pi(a,u)),tn.splice(u,0,g),El.splice(u,0,0),Al.splice(u,0,0)}kt("addSeries",u)}function Sf(a,u){u=u??P.length,a=s==1?Yo(a,u,dc,vc):Yo(a,u,{},mc),P.splice(u,0,a),_i(P[u],u)}l.addSeries=Sf;function Cf(a){if(P.splice(a,1),pe){Y.values.splice(a,1),pt.splice(a,1);let u=Pe.splice(a,1)[0];A(null,u.firstChild),u.remove()}Te&&(q.splice(a,1),tn.splice(a,1)[0].remove(),El.splice(a,1),Al.splice(a,1)),kt("delSeries",a)}l.delSeries=Cf;const ul=[!1,!1,!1,!1];function kf(a,u){if(a._show=a.show,a.show){let g=a.side%2,p=w[a.scale];p==null&&(a.scale=g?P[1].scale:ne,p=w[a.scale]);let x=p.time;a.size=Oe(a.size),a.space=Oe(a.space),a.rotate=Oe(a.rotate),tl(a.incrs)&&a.incrs.forEach(B=>{!il.has(B)&&il.set(B,zu(B))}),a.incrs=Oe(a.incrs||(p.distr==2?Sp:x?$==1?kp:Tp:bl)),a.splits=Oe(a.splits||(x&&p.distr==1?se:p.distr==3?Wo:p.distr==4?jp:Wp)),a.stroke=Oe(a.stroke),a.grid.stroke=Oe(a.grid.stroke),a.ticks.stroke=Oe(a.ticks.stroke),a.border.stroke=Oe(a.border.stroke);let M=a.values;a.values=tl(M)&&!tl(M[0])?Oe(M):x?tl(M)?ac(z,ic(M,L)):lc(M)?Pp(z,M):M||X:M||Hp,a.filter=Oe(a.filter||(p.distr>=3&&p.log==10?Yp:p.distr==3&&p.log==2?qp:Uu)),a.font=Cc(a.font),a.labelFont=Cc(a.labelFont),a._size=a.size(l,null,u,0),a._space=a._rotate=a._incrs=a._found=a._splits=a._values=null,a._size>0&&(ul[u]=!0,a._el=sn(Fg,m))}}function as(a,u,g,p){let[x,M,B,Z]=g,ee=u%2,ue=0;return ee==0&&(Z||M)&&(ue=u==0&&!x||u==2&&!B?mt(fc.size/3):0),ee==1&&(x||B)&&(ue=u==1&&!M||u==3&&!Z?mt(gc.size/2):0),ue}const Fi=l.padding=(e.padding||[as,as,as,as]).map(a=>Oe(Be(a,as))),Gn=l._padding=Fi.map((a,u)=>a(l,u,ul,0));let Tt,xt=null,wt=null;const Ws=s==1?P[0].idxs:null;let cn=null,cs=!1;function Ri(a,u){if(t=a??[],l.data=l._data=t,s==2){Tt=0;for(let g=1;g<P.length;g++)Tt+=t[g][0].length}else{t.length==0&&(l.data=l._data=t=[[]]),cn=t[0],Tt=cn.length;let g=t;if(Ce==2){g=t.slice();let p=g[0]=Array(Tt);for(let x=0;x<Tt;x++)p[x]=x}l._data=t=g}if(_l(!0),kt("setData"),Ce==2&&(Kt=!0),u!==!1){let g=Q;g.auto(l,cs)?Vr():qn(ne,g.min,g.max),an=an||J.left>=0,yt=!0,Fl()}}l.setData=Ri;function Vr(){cs=!0;let a,u;s==1&&(Tt>0?(xt=Ws[0]=0,wt=Ws[1]=Tt-1,a=t[0][xt],u=t[0][wt],Ce==2?(a=xt,u=wt):a==u&&(Ce==3?[a,u]=_r(a,a,Q.log,!1):Ce==4?[a,u]=bi(a,a,Q.log,!1):Q.time?u=a+mt(86400/$):[a,u]=vr(a,u,yi,!0))):(xt=Ws[0]=a=null,wt=Ws[1]=u=null)),qn(ne,a,u)}let js,Pl,$r,Br,Nr,Hr,Wr,jr,Kr,Ht;function Ii(a,u,g,p,x,M){a??(a=$a),g??(g=wi),p??(p="butt"),x??(x=$a),M??(M="round"),a!=js&&(h.strokeStyle=js=a),x!=Pl&&(h.fillStyle=Pl=x),u!=$r&&(h.lineWidth=$r=u),M!=Nr&&(h.lineJoin=Nr=M),p!=Hr&&(h.lineCap=Hr=p),g!=Br&&h.setLineDash(Br=g)}function Li(a,u,g,p){u!=Pl&&(h.fillStyle=Pl=u),a!=Wr&&(h.font=Wr=a),g!=jr&&(h.textAlign=jr=g),p!=Kr&&(h.textBaseline=Kr=p)}function Gr(a,u,g,p,x=0){if(p.length>0&&a.auto(l,cs)&&(u==null||u.min==null)){let M=Be(xt,0),B=Be(wt,p.length-1),Z=g.min==null?Yg(p,M,B,x,a.distr==3):[g.min,g.max];a.min=pn(a.min,g.min=Z[0]),a.max=Nt(a.max,g.max=Z[1])}}const Ui={min:null,max:null};function Df(){for(let p in w){let x=w[p];I[p]==null&&(x.min==null||I[ne]!=null&&x.auto(l,cs))&&(I[p]=Ui)}for(let p in w){let x=w[p];I[p]==null&&x.from!=null&&I[x.from]!=null&&(I[p]=Ui)}I[ne]!=null&&_l(!0);let a={};for(let p in I){let x=I[p];if(x!=null){let M=a[p]=ls(w[p],lp);if(x.min!=null)dt(M,x);else if(p!=ne||s==2)if(Tt==0&&M.from==null){let B=M.range(l,null,null,p);M.min=B[0],M.max=B[1]}else M.min=Je,M.max=-Je}}if(Tt>0){P.forEach((p,x)=>{if(s==1){let M=p.scale,B=I[M];if(B==null)return;let Z=a[M];if(x==0){let ee=Z.range(l,Z.min,Z.max,M);Z.min=ee[0],Z.max=ee[1],xt=hn(Z.min,t[0]),wt=hn(Z.max,t[0]),wt-xt>1&&(t[0][xt]<Z.min&&xt++,t[0][wt]>Z.max&&wt--),p.min=cn[xt],p.max=cn[wt]}else p.show&&p.auto&&Gr(Z,B,p,t[x],p.sorted);p.idxs[0]=xt,p.idxs[1]=wt}else if(x>0&&p.show&&p.auto){let[M,B]=p.facets,Z=M.scale,ee=B.scale,[ue,fe]=t[x],de=a[Z],Ae=a[ee];de!=null&&Gr(de,I[Z],M,ue,M.sorted),Ae!=null&&Gr(Ae,I[ee],B,fe,B.sorted),p.min=B.min,p.max=B.max}});for(let p in a){let x=a[p],M=I[p];if(x.from==null&&(M==null||M.min==null)){let B=x.range(l,x.min==Je?null:x.min,x.max==-Je?null:x.max,p);x.min=B[0],x.max=B[1]}}}for(let p in a){let x=a[p];if(x.from!=null){let M=a[x.from];if(M.min==null)x.min=x.max=null;else{let B=x.range(l,M.min,M.max,p);x.min=B[0],x.max=B[1]}}}let u={},g=!1;for(let p in a){let x=a[p],M=w[p];if(M.min!=x.min||M.max!=x.max){M.min=x.min,M.max=x.max;let B=M.distr;M._min=B==3?zn(M.min):B==4?So(M.min,M.asinh):B==100?M.fwd(M.min):M.min,M._max=B==3?zn(M.max):B==4?So(M.max,M.asinh):B==100?M.fwd(M.max):M.max,u[p]=g=!0}}if(g){P.forEach((p,x)=>{s==2?x>0&&u.y&&(p._paths=null):u[p.scale]&&(p._paths=null)});for(let p in u)Kt=!0,kt("setScale",p);Te&&J.left>=0&&(an=yt=!0)}for(let p in I)I[p]=null}function Mf(a){let u=Ho(xt-1,0,Tt-1),g=Ho(wt+1,0,Tt-1);for(;a[u]==null&&u>0;)u--;for(;a[g]==null&&g<Tt-1;)g++;return[u,g]}function Tf(){if(Tt>0){let a=P.some(u=>u._focus)&&Ht!=yn.alpha;a&&(h.globalAlpha=Ht=yn.alpha),P.forEach((u,g)=>{if(g>0&&u.show&&(Oi(g,!1),Oi(g,!0),u._paths==null)){let p=Ht;Ht!=u.alpha&&(h.globalAlpha=Ht=u.alpha);let x=s==2?[0,t[g][0].length-1]:Mf(t[g]);u._paths=u.paths(l,g,x[0],x[1]),Ht!=p&&(h.globalAlpha=Ht=p)}}),P.forEach((u,g)=>{if(g>0&&u.show){let p=Ht;Ht!=u.alpha&&(h.globalAlpha=Ht=u.alpha),u._paths!=null&&zi(g,!1);{let x=u._paths!=null?u._paths.gaps:null,M=u.points.show(l,g,xt,wt,x),B=u.points.filter(l,g,M,x);(M||B)&&(u.points._paths=u.points.paths(l,g,xt,wt,B),zi(g,!0))}Ht!=p&&(h.globalAlpha=Ht=p),kt("drawSeries",g)}}),a&&(h.globalAlpha=Ht=1)}}function Oi(a,u){let g=u?P[a].points:P[a];g._stroke=g.stroke(l,a),g._fill=g.fill(l,a)}function zi(a,u){let g=u?P[a].points:P[a],{stroke:p,fill:x,clip:M,flags:B,_stroke:Z=g._stroke,_fill:ee=g._fill,_width:ue=g.width}=g._paths;ue=Ze(ue*He,3);let fe=null,de=ue%2/2;u&&ee==null&&(ee=ue>0?"#fff":Z);let Ae=g.pxAlign==1&&de>0;if(Ae&&h.translate(de,de),!u){let Ne=Ie-ue/2,$e=Ve-ue/2,Ue=it+ue,Me=Ye+ue;fe=new Path2D,fe.rect(Ne,$e,Ue,Me)}u?Yr(Z,ue,g.dash,g.cap,ee,p,x,B,M):Ef(a,Z,ue,g.dash,g.cap,ee,p,x,B,fe,M),Ae&&h.translate(-de,-de)}function Ef(a,u,g,p,x,M,B,Z,ee,ue,fe){let de=!1;ee!=0&&ie.forEach((Ae,Ne)=>{if(Ae.series[0]==a){let $e=P[Ae.series[1]],Ue=t[Ae.series[1]],Me=($e._paths||Rs).band;tl(Me)&&(Me=Ae.dir==1?Me[0]:Me[1]);let ye,nt=null;$e.show&&Me&&Jg(Ue,xt,wt)?(nt=Ae.fill(l,Ne)||M,ye=$e._paths.clip):Me=null,Yr(u,g,p,x,nt,B,Z,ee,ue,fe,ye,Me),de=!0}}),de||Yr(u,g,p,x,M,B,Z,ee,ue,fe)}const Vi=ss|Ko;function Yr(a,u,g,p,x,M,B,Z,ee,ue,fe,de){Ii(a,u,g,p,x),(ee||ue||de)&&(h.save(),ee&&h.clip(ee),ue&&h.clip(ue)),de?(Z&Vi)==Vi?(h.clip(de),fe&&h.clip(fe),Gs(x,B),Ks(a,M,u)):Z&Ko?(Gs(x,B),h.clip(de),Ks(a,M,u)):Z&ss&&(h.save(),h.clip(de),fe&&h.clip(fe),Gs(x,B),h.restore(),Ks(a,M,u)):(Gs(x,B),Ks(a,M,u)),(ee||ue||de)&&h.restore()}function Ks(a,u,g){g>0&&(u instanceof Map?u.forEach((p,x)=>{h.strokeStyle=js=x,h.stroke(p)}):u!=null&&a&&h.stroke(u))}function Gs(a,u){u instanceof Map?u.forEach((g,p)=>{h.fillStyle=Pl=p,h.fill(g)}):u!=null&&a&&h.fill(u)}function Af(a,u,g,p){let x=E[a],M;if(p<=0)M=[0,0];else{let B=x._space=x.space(l,a,u,g,p),Z=x._incrs=x.incrs(l,a,u,g,p,B);M=vm(u,g,Z,p,B)}return x._found=M}function qr(a,u,g,p,x,M,B,Z,ee,ue){let fe=B%2/2;T==1&&h.translate(fe,fe),Ii(Z,B,ee,ue,Z),h.beginPath();let de,Ae,Ne,$e,Ue=x+(p==0||p==3?-M:M);g==0?(Ae=x,$e=Ue):(de=x,Ne=Ue);for(let Me=0;Me<a.length;Me++)u[Me]!=null&&(g==0?de=Ne=a[Me]:Ae=$e=a[Me],h.moveTo(de,Ae),h.lineTo(Ne,$e));h.stroke(),T==1&&h.translate(-fe,-fe)}function Pf(a){let u=!0;return E.forEach((g,p)=>{if(!g.show)return;let x=w[g.scale];if(x.min==null){g._show&&(u=!1,g._show=!1,_l(!1));return}else g._show||(u=!1,g._show=!0,_l(!1));let M=g.side,B=M%2,{min:Z,max:ee}=x,[ue,fe]=Af(p,Z,ee,B==0?_:F);if(fe==0)return;let de=x.distr==2,Ae=g._splits=g.splits(l,p,Z,ee,ue,fe,de),Ne=x.distr==2?Ae.map(ye=>cn[ye]):Ae,$e=x.distr==2?cn[Ae[1]]-cn[Ae[0]]:ue,Ue=g._values=g.values(l,g.filter(l,Ne,p,fe,$e),p,fe,$e);g._rotate=M==2?g.rotate(l,Ue,p,fe):0;let Me=g._size;g._size=rn(g.size(l,Ue,p,a)),Me!=null&&g._size!=Me&&(u=!1)}),u}function _f(a){let u=!0;return Fi.forEach((g,p)=>{let x=g(l,p,ul,a);x!=Gn[p]&&(u=!1),Gn[p]=x}),u}function Ff(){for(let a=0;a<E.length;a++){let u=E[a];if(!u.show||!u._show)continue;let g=u.side,p=g%2,x,M,B=u.stroke(l,a),Z=g==0||g==3?-1:1,[ee,ue]=u._found;if(u.label!=null){let Ot=u.labelGap*Z,qt=mt((u._lpos+Ot)*He);Li(u.labelFont[0],B,"center",g==2?vs:Va),h.save(),p==1?(x=M=0,h.translate(qt,mt(Ve+Ye/2)),h.rotate((g==3?-cr:cr)/2)):(x=mt(Ie+it/2),M=qt);let hl=Iu(u.label)?u.label(l,a,ee,ue):u.label;h.fillText(hl,x,M),h.restore()}if(ue==0)continue;let fe=w[u.scale],de=p==0?it:Ye,Ae=p==0?Ie:Ve,Ne=u._splits,$e=fe.distr==2?Ne.map(Ot=>cn[Ot]):Ne,Ue=fe.distr==2?cn[Ne[1]]-cn[Ne[0]]:ee,Me=u.ticks,ye=u.border,nt=Me.show?Me.size:0,ct=mt(nt*He),Dt=mt((u.alignTo==2?u._size-nt-u.gap:u.gap)*He),Ge=u._rotate*-cr/180,ut=U(u._pos*He),Gt=(ct+Dt)*Z,Ut=ut+Gt;M=p==0?Ut:0,x=p==1?Ut:0;let nn=u.font[0],un=u.align==1?Nl:u.align==2?yo:Ge>0?Nl:Ge<0?yo:p==0?"center":g==3?yo:Nl,Sn=Ge||p==1?"middle":g==2?vs:Va;Li(nn,B,un,Sn);let Yt=u.font[1]*u.lineGap,ln=Ne.map(Ot=>U(i(Ot,fe,de,Ae))),fn=u._values;for(let Ot=0;Ot<fn.length;Ot++){let qt=fn[Ot];if(qt!=null){p==0?x=ln[Ot]:M=ln[Ot],qt=""+qt;let hl=qt.indexOf(`
`)==-1?[qt]:qt.split(/\n/gm);for(let zt=0;zt<hl.length;zt++){let sa=hl[zt];Ge?(h.save(),h.translate(x,M+zt*Yt),h.rotate(Ge),h.fillText(sa,0,0),h.restore()):h.fillText(sa,x,M+zt*Yt)}}}Me.show&&qr(ln,Me.filter(l,$e,a,ue,Ue),p,g,ut,ct,Ze(Me.width*He,3),Me.stroke(l,a),Me.dash,Me.cap);let Cn=u.grid;Cn.show&&qr(ln,Cn.filter(l,$e,a,ue,Ue),p,p==0?2:1,p==0?Ve:Ie,p==0?Ye:it,Ze(Cn.width*He,3),Cn.stroke(l,a),Cn.dash,Cn.cap),ye.show&&qr([ut],[1],p==0?1:0,p==0?1:2,p==1?Ve:Ie,p==1?Ye:it,Ze(ye.width*He,3),ye.stroke(l,a),ye.dash,ye.cap)}kt("drawAxes")}function _l(a){P.forEach((u,g)=>{g>0&&(u._paths=null,a&&(s==1?(u.min=null,u.max=null):u.facets.forEach(p=>{p.min=null,p.max=null})))})}let Ys=!1,Jr=!1,us=[];function Rf(){Jr=!1;for(let a=0;a<us.length;a++)kt(...us[a]);us.length=0}function Fl(){Ys||(up($i),Ys=!0)}function If(a,u=!1){Ys=!0,Jr=u,a(l),$i(),u&&us.length>0&&queueMicrotask(Rf)}l.batch=If;function $i(){if(Mt&&(Df(),Mt=!1),Kt&&(bf(),Kt=!1),bn){if(lt(b,Nl,N),lt(b,vs,te),lt(b,ws,_),lt(b,Ss,F),lt(S,Nl,N),lt(S,vs,te),lt(S,ws,_),lt(S,Ss,F),lt(m,ws,K),lt(m,Ss,O),d.width=mt(K*He),d.height=mt(O*He),E.forEach(({_el:a,_show:u,_size:g,_pos:p,side:x})=>{if(a!=null)if(u){let M=x===3||x===0?g:0,B=x%2==1;lt(a,B?"left":"top",p-M),lt(a,B?"width":"height",g),lt(a,B?"top":"left",B?te:N),lt(a,B?"height":"width",B?F:_),Bo(a,yl)}else Zt(a,yl)}),js=Pl=$r=Nr=Hr=Wr=jr=Kr=Br=null,Ht=1,hs(!0),N!=he||te!=Se||_!=Re||F!=Qe){_l(!1);let a=_/Re,u=F/Qe;if(Te&&!an&&J.left>=0){J.left*=a,J.top*=u,Rl&&Dn(Rl,mt(J.left),0,_,F),Il&&Dn(Il,0,mt(J.top),_,F);for(let g=0;g<tn.length;g++){let p=tn[g];p!=null&&(El[g]*=a,Al[g]*=u,Dn(p,rn(El[g]),rn(Al[g]),_,F))}}if(tt.show&&!Kn&&tt.left>=0&&tt.width>0){tt.left*=a,tt.width*=a,tt.top*=u,tt.height*=u;for(let g in no)lt(Ol,g,tt[g])}he=N,Se=te,Re=_,Qe=F}kt("setSize"),bn=!1}K>0&&O>0&&(h.clearRect(0,0,d.width,d.height),kt("drawClear"),ce.forEach(a=>a()),kt("draw")),tt.show&&Kn&&(qs(tt),Kn=!1),Te&&an&&(dl(null,!0,!1),an=!1),Y.show&&Y.live&&yt&&(eo(),yt=!1),c||(c=!0,l.status=1,kt("ready")),cs=!1,Ys=!1}l.redraw=(a,u)=>{Kt=u||!1,a!==!1?qn(ne,Q.min,Q.max):Fl()};function Zr(a,u){let g=w[a];if(g.from==null){if(Tt==0){let p=g.range(l,u.min,u.max,a);u.min=p[0],u.max=p[1]}if(u.min>u.max){let p=u.min;u.min=u.max,u.max=p}if(Tt>1&&u.min!=null&&u.max!=null&&u.max-u.min<1e-16)return;a==ne&&g.distr==2&&Tt>0&&(u.min=hn(u.min,t[0]),u.max=hn(u.max,t[0]),u.min==u.max&&u.max++),I[a]=u,Mt=!0,Fl()}}l.setScale=Zr;let Qr,Xr,Rl,Il,Bi,Ni,Ll,Ul,Hi,Wi,et,st,Yn=!1;const Et=J.drag;let St=Et.x,Ct=Et.y;Te&&(J.x&&(Qr=sn(Ig,S)),J.y&&(Xr=sn(Lg,S)),Q.ori==0?(Rl=Qr,Il=Xr):(Rl=Xr,Il=Qr),et=J.left,st=J.top);const tt=l.select=dt({show:!0,over:!0,left:0,width:0,top:0,height:0},e.select),Ol=tt.show?sn(Rg,tt.over?S:b):null;function qs(a,u){if(tt.show){for(let g in a)tt[g]=a[g],g in no&&lt(Ol,g,a[g]);u!==!1&&kt("setSelect")}}l.setSelect=qs;function Lf(a){if(P[a].show)pe&&Bo(Pe[a],yl);else if(pe&&Zt(Pe[a],yl),Te){let g=Tl?tn[0]:tn[a];g!=null&&Dn(g,-10,-10,_,F)}}function qn(a,u,g){Zr(a,{min:u,max:g})}function xn(a,u,g,p){u.focus!=null&&$f(a),u.show!=null&&P.forEach((x,M)=>{M>0&&(a==M||a==null)&&(x.show=u.show,Lf(M),s==2?(qn(x.facets[0].scale,null,null),qn(x.facets[1].scale,null,null)):qn(x.scale,null,null),Fl())}),g!==!1&&kt("setSeries",a,u),p&&gs("setSeries",l,a,u)}l.setSeries=xn;function Uf(a,u){dt(ie[a],u)}function Of(a,u){a.fill=Oe(a.fill||null),a.dir=Be(a.dir,-1),u=u??ie.length,ie.splice(u,0,a)}function zf(a){a==null?ie.length=0:ie.splice(a,1)}l.addBand=Of,l.setBand=Uf,l.delBand=zf;function Vf(a,u){P[a].alpha=u,Te&&tn[a]!=null&&(tn[a].style.opacity=u),pe&&Pe[a]&&(Pe[a].style.opacity=u)}let Fn,Jn,fl;const zl={focus:!0};function $f(a){if(a!=fl){let u=a==null,g=yn.alpha!=1;P.forEach((p,x)=>{if(s==1||x>0){let M=u||x==0||x==a;p._focus=u?null:M,g&&Vf(x,M?1:yn.alpha)}}),fl=a,g&&Fl()}}pe&&Ml&&k(Ha,ge,a=>{J._lock||(cl(a),fl!=null&&xn(null,zl,!0,ft.setSeries))});function wn(a,u,g){let p=w[u];g&&(a=a/He-(p.ori==1?te:N));let x=_;p.ori==1&&(x=F,a=x-a),p.dir==-1&&(a=x-a);let M=p._min,B=p._max,Z=a/x,ee=M+(B-M)*Z,ue=p.distr;return ue==3?ts(10,ee):ue==4?Qg(ee,p.asinh):ue==100?p.bwd(ee):ee}function Bf(a,u){let g=wn(a,ne,u);return hn(g,t[0],xt,wt)}l.valToIdx=a=>hn(a,t[0]),l.posToIdx=Bf,l.posToVal=wn,l.valToPos=(a,u,g)=>w[u].ori==0?r(a,w[u],g?it:_,g?Ie:0):o(a,w[u],g?Ye:F,g?Ve:0),l.setCursor=(a,u,g)=>{et=a.left,st=a.top,dl(null,u,g)};function ji(a,u){lt(Ol,Nl,tt.left=a),lt(Ol,ws,tt.width=u)}function Ki(a,u){lt(Ol,vs,tt.top=a),lt(Ol,Ss,tt.height=u)}let fs=Q.ori==0?ji:Ki,ds=Q.ori==1?ji:Ki;function Nf(){if(pe&&Y.live)for(let a=s==2?1:0;a<P.length;a++){if(a==0&&y)continue;let u=Y.values[a],g=0;for(let p in u)pt[a][g++].firstChild.nodeValue=u[p]}}function eo(a,u){if(a!=null&&(a.idxs?a.idxs.forEach((g,p)=>{q[p]=g}):np(a.idx)||q.fill(a.idx),Y.idx=q[0]),pe&&Y.live){for(let g=0;g<P.length;g++)(g>0||s==1&&!y)&&Hf(g,q[g]);Nf()}yt=!1,u!==!1&&kt("setLegend")}l.setLegend=eo;function Hf(a,u){let g=P[a],p=a==0&&Ce==2?cn:t[a],x;y?x=g.values(l,a,u)??R:(x=g.value(l,u==null?null:p[u],a,u),x=x==null?R:{_:x}),Y.values[a]=x}function dl(a,u,g){Hi=et,Wi=st,[et,st]=J.move(l,et,st),J.left=et,J.top=st,Te&&(Rl&&Dn(Rl,mt(et),0,_,F),Il&&Dn(Il,0,mt(st),_,F));let p,x=xt>wt;Fn=Je,Jn=null;let M=Q.ori==0?_:F,B=Q.ori==1?_:F;if(et<0||Tt==0||x){p=J.idx=null;for(let Z=0;Z<P.length;Z++){let ee=tn[Z];ee!=null&&Dn(ee,-10,-10,_,F)}Ml&&xn(null,zl,!0,a==null&&ft.setSeries),Y.live&&(q.fill(p),yt=!0)}else{let Z,ee,ue;s==1&&(Z=Q.ori==0?et:st,ee=wn(Z,ne),p=J.idx=hn(ee,t[0],xt,wt),ue=oe(t[0][p],Q,M,0));let fe=-10,de=-10,Ae=0,Ne=0,$e=!0,Ue="",Me="";for(let ye=s==2?1:0;ye<P.length;ye++){let nt=P[ye],ct=q[ye],Dt=ct==null?null:s==1?t[ye][ct]:t[ye][1][ct],Ge=J.dataIdx(l,ye,p,ee),ut=Ge==null?null:s==1?t[ye][Ge]:t[ye][1][Ge];if(yt=yt||ut!=Dt||Ge!=ct,q[ye]=Ge,ye>0&&nt.show){let Gt=Ge==null?-10:Ge==p?ue:oe(s==1?t[0][Ge]:t[ye][0][Ge],Q,M,0),Ut=ut==null?-10:le(ut,s==1?w[nt.scale]:w[nt.facets[1].scale],B,0);if(Ml&&ut!=null){let nn=Q.ori==1?et:st,un=vt(yn.dist(l,ye,Ge,Ut,nn));if(un<Fn){let Sn=yn.bias;if(Sn!=0){let Yt=wn(nn,nt.scale),ln=ut>=0?1:-1,fn=Yt>=0?1:-1;fn==ln&&(fn==1?Sn==1?ut>=Yt:ut<=Yt:Sn==1?ut<=Yt:ut>=Yt)&&(Fn=un,Jn=ye)}else Fn=un,Jn=ye}}if(yt||Tl){let nn,un;Q.ori==0?(nn=Gt,un=Ut):(nn=Ut,un=Gt);let Sn,Yt,ln,fn,Cn,Ot,qt=!0,hl=Pt.bbox;if(hl!=null){qt=!1;let zt=hl(l,ye);ln=zt.left,fn=zt.top,Sn=zt.width,Yt=zt.height}else ln=nn,fn=un,Sn=Yt=Pt.size(l,ye);if(Ot=Pt.fill(l,ye),Cn=Pt.stroke(l,ye),Tl)ye==Jn&&Fn<=yn.prox&&(fe=ln,de=fn,Ae=Sn,Ne=Yt,$e=qt,Ue=Ot,Me=Cn);else{let zt=tn[ye];zt!=null&&(El[ye]=ln,Al[ye]=fn,Ja(zt,Sn,Yt,qt),Ya(zt,Ot,Cn),Dn(zt,rn(ln),rn(fn),_,F))}}}}if(Tl){let ye=yn.prox,nt=fl==null?Fn<=ye:Fn>ye||Jn!=fl;if(yt||nt){let ct=tn[0];ct!=null&&(El[0]=fe,Al[0]=de,Ja(ct,Ae,Ne,$e),Ya(ct,Ue,Me),Dn(ct,rn(fe),rn(de),_,F))}}}if(tt.show&&Yn)if(a!=null){let[Z,ee]=ft.scales,[ue,fe]=ft.match,[de,Ae]=a.cursor.sync.scales,Ne=a.cursor.drag;if(St=Ne._x,Ct=Ne._y,St||Ct){let{left:$e,top:Ue,width:Me,height:ye}=a.select,nt=a.scales[de].ori,ct=a.posToVal,Dt,Ge,ut,Gt,Ut,nn=Z!=null&&ue(Z,de),un=ee!=null&&fe(ee,Ae);nn&&St?(nt==0?(Dt=$e,Ge=Me):(Dt=Ue,Ge=ye),ut=w[Z],Gt=oe(ct(Dt,de),ut,M,0),Ut=oe(ct(Dt+Ge,de),ut,M,0),fs(pn(Gt,Ut),vt(Ut-Gt))):fs(0,M),un&&Ct?(nt==1?(Dt=$e,Ge=Me):(Dt=Ue,Ge=ye),ut=w[ee],Gt=le(ct(Dt,Ae),ut,B,0),Ut=le(ct(Dt+Ge,Ae),ut,B,0),ds(pn(Gt,Ut),vt(Ut-Gt))):ds(0,B)}else lo()}else{let Z=vt(Hi-Bi),ee=vt(Wi-Ni);if(Q.ori==1){let Ae=Z;Z=ee,ee=Ae}St=Et.x&&Z>=Et.dist,Ct=Et.y&&ee>=Et.dist;let ue=Et.uni;ue!=null?St&&Ct&&(St=Z>=ue,Ct=ee>=ue,!St&&!Ct&&(ee>Z?Ct=!0:St=!0)):Et.x&&Et.y&&(St||Ct)&&(St=Ct=!0);let fe,de;St&&(Q.ori==0?(fe=Ll,de=et):(fe=Ul,de=st),fs(pn(fe,de),vt(de-fe)),Ct||ds(0,B)),Ct&&(Q.ori==1?(fe=Ll,de=et):(fe=Ul,de=st),ds(pn(fe,de),vt(de-fe)),St||fs(0,M)),!St&&!Ct&&(fs(0,0),ds(0,0))}if(Et._x=St,Et._y=Ct,a==null){if(g){if(la!=null){let[Z,ee]=ft.scales;ft.values[0]=Z!=null?wn(Q.ori==0?et:st,Z):null,ft.values[1]=ee!=null?wn(Q.ori==1?et:st,ee):null}gs(xo,l,et,st,_,F,p)}if(Ml){let Z=g&&ft.setSeries,ee=yn.prox;fl==null?Fn<=ee&&xn(Jn,zl,!0,Z):Fn>ee?xn(null,zl,!0,Z):Jn!=fl&&xn(Jn,zl,!0,Z)}}yt&&(Y.idx=p,eo()),u!==!1&&kt("setCursor")}let Zn=null;Object.defineProperty(l,"rect",{get(){return Zn==null&&hs(!1),Zn}});function hs(a=!1){a?Zn=null:(Zn=S.getBoundingClientRect(),kt("syncRect",Zn))}function Gi(a,u,g,p,x,M,B){J._lock||Yn&&a!=null&&a.movementX==0&&a.movementY==0||(to(a,u,g,p,x,M,B,!1,a!=null),a!=null?dl(null,!0,!0):dl(u,!0,!1))}function to(a,u,g,p,x,M,B,Z,ee){if(Zn==null&&hs(!1),cl(a),a!=null)g=a.clientX-Zn.left,p=a.clientY-Zn.top;else{if(g<0||p<0){et=-10,st=-10;return}let[ue,fe]=ft.scales,de=u.cursor.sync,[Ae,Ne]=de.values,[$e,Ue]=de.scales,[Me,ye]=ft.match,nt=u.axes[0].side%2==1,ct=Q.ori==0?_:F,Dt=Q.ori==1?_:F,Ge=nt?M:x,ut=nt?x:M,Gt=nt?p:g,Ut=nt?g:p;if($e!=null?g=Me(ue,$e)?i(Ae,w[ue],ct,0):-10:g=ct*(Gt/Ge),Ue!=null?p=ye(fe,Ue)?i(Ne,w[fe],Dt,0):-10:p=Dt*(Ut/ut),Q.ori==1){let nn=g;g=p,p=nn}}ee&&(u==null||u.cursor.event.type==xo)&&((g<=1||g>=_-1)&&(g=vl(g,_)),(p<=1||p>=F-1)&&(p=vl(p,F))),Z?(Bi=g,Ni=p,[Ll,Ul]=J.move(l,g,p)):(et=g,st=p)}const no={width:0,height:0,left:0,top:0};function lo(){qs(no,!1)}let Yi,qi,Ji,Zi;function Qi(a,u,g,p,x,M,B){Yn=!0,St=Ct=Et._x=Et._y=!1,to(a,u,g,p,x,M,B,!0,!1),a!=null&&(k(wo,Vo,Xi,!1),gs(Ba,l,Ll,Ul,_,F,null));let{left:Z,top:ee,width:ue,height:fe}=tt;Yi=Z,qi=ee,Ji=ue,Zi=fe}function Xi(a,u,g,p,x,M,B){Yn=Et._x=Et._y=!1,to(a,u,g,p,x,M,B,!1,!0);let{left:Z,top:ee,width:ue,height:fe}=tt,de=ue>0||fe>0,Ae=Yi!=Z||qi!=ee||Ji!=ue||Zi!=fe;if(de&&Ae&&qs(tt),Et.setScale&&de&&Ae){let Ne=Z,$e=ue,Ue=ee,Me=fe;if(Q.ori==1&&(Ne=ee,$e=fe,Ue=Z,Me=ue),St&&qn(ne,wn(Ne,ne),wn(Ne+$e,ne)),Ct)for(let ye in w){let nt=w[ye];ye!=ne&&nt.from==null&&nt.min!=Je&&qn(ye,wn(Ue+Me,ye),wn(Ue,ye))}lo()}else J.lock&&(J._lock=!J._lock,dl(u,!0,a!=null));a!=null&&(A(wo,Vo),gs(wo,l,et,st,_,F,null))}function Wf(a,u,g,p,x,M,B){if(J._lock)return;cl(a);let Z=Yn;if(Yn){let ee=!0,ue=!0,fe=10,de,Ae;Q.ori==0?(de=St,Ae=Ct):(de=Ct,Ae=St),de&&Ae&&(ee=et<=fe||et>=_-fe,ue=st<=fe||st>=F-fe),de&&ee&&(et=et<Ll?0:_),Ae&&ue&&(st=st<Ul?0:F),dl(null,!0,!0),Yn=!1}et=-10,st=-10,q.fill(null),dl(null,!0,!0),Z&&(Yn=Z)}function ea(a,u,g,p,x,M,B){J._lock||(cl(a),Vr(),lo(),a!=null&&gs(Wa,l,et,st,_,F,null))}function ta(){E.forEach(bm),zr(l.width,l.height,!0)}Sl(mr,Zl,ta);const Vl={};Vl.mousedown=Qi,Vl.mousemove=Gi,Vl.mouseup=Xi,Vl.dblclick=ea,Vl.setSeries=(a,u,g,p)=>{let x=ft.match[2];g=x(l,u,g),g!=-1&&xn(g,p,!0,!1)},Te&&(k(Ba,S,Qi),k(xo,S,Gi),k(Na,S,a=>{cl(a),hs(!1)}),k(Ha,S,Wf),k(Wa,S,ea),Go.add(l),l.syncRect=hs);const Js=l.hooks=e.hooks||{};function kt(a,u,g){Jr?us.push([a,u,g]):a in Js&&Js[a].forEach(p=>{p.call(null,l,u,g)})}(e.plugins||[]).forEach(a=>{for(let u in a.hooks)Js[u]=(Js[u]||[]).concat(a.hooks[u])});const na=(a,u,g)=>g,ft=dt({key:null,setSeries:!1,filters:{pub:tc,sub:tc},scales:[ne,P[1]?P[1].scale:null],match:[nc,nc,na],values:[null,null]},J.sync);ft.match.length==2&&ft.match.push(na),J.sync=ft;const la=ft.key,so=sf(la);function gs(a,u,g,p,x,M,B){ft.filters.pub(a,u,g,p,x,M,B)&&so.pub(a,u,g,p,x,M,B)}so.sub(l);function jf(a,u,g,p,x,M,B){ft.filters.sub(a,u,g,p,x,M,B)&&Vl[a](null,u,g,p,x,M,B)}l.pub=jf;function Kf(){so.unsub(l),Go.delete(l),D.clear(),No(mr,Zl,ta),f.remove(),ge==null||ge.remove(),kt("destroy")}l.destroy=Kf;function ro(){kt("init",e,t),Ri(t||e.data,!1),I[ne]?Zr(ne,I[ne]):Vr(),Kn=tt.show&&(tt.width>0||tt.height>0),an=yt=!0,zr(e.width,e.height)}return P.forEach(_i),E.forEach(kf),n?n instanceof HTMLElement?(n.appendChild(f),ro()):n(l,ro):ro(),l}At.assign=dt;At.fmtNum=xi;At.rangeNum=vr;At.rangeLog=_r;At.rangeAsinh=bi;At.orient=Dl;At.pxRatio=He;At.join=cp;At.fmtDate=Si,At.tzDate=xp;At.sync=sf;{At.addGap=nm,At.clipGaps=Ir;let e=At.paths={points:ff};e.linear=hf,e.stepped=rm,e.bars=om,e.spline=am}const ym=["title"],xm={class:"absolute top-2 right-2 flex gap-2 z-10"},wm={key:0,class:"bg-blue-600 text-white text-xs px-2 py-1 rounded flex items-center gap-2"},Sm={key:0,class:"absolute inset-0 flex items-center justify-center pointer-events-none"},Cm=kl({__name:"OscilloscopeChart",props:{channels:{},channelCount:{},sampleRate:{},totalPoints:{},isDark:{type:Boolean},getChartData:{type:Function},getFullChartData:{type:Function}},emits:["selection-change","cursor-values"],setup(e,{expose:t,emit:n}){const l=e,s=n,r=ve(null),o=Us(null),i=ve(null),c=Us(null),f=ve(null),d=ve(0),h=ve(!1),m=ve(0),b=ve(0),S=ve(null),T=ve(0),U=ve(0),$=ve(0),P=ve(null),E=ve(!1),w=ve(null),ie=ve([]),ne=ve(null),be=An(()=>l.getChartData()),ce=An(()=>l.getFullChartData());let ke="",me=null;const Q=(D,k)=>{if(!ce.value||ce.value.length===0)return null;const A=ce.value,K=A[0];if(!K||K.length===0)return null;const O=Math.max(0,Math.floor(D)),_=Math.min(K.length-1,Math.floor(k));if(O>=_)return null;const F=`${O}-${_}-${l.channels.map(Ve=>Ve.coefficient).join(",")}`;if(F===ke)return me;const N=_-O+1,te=K[O],Se=K[_]-te,Re=N/Se*l.sampleRate,Qe=l.channels.slice(0,l.channelCount).map((Ve,it)=>{const Ye=it+1,Mt=A[Ye];if(!Mt)return{id:it,min:0,max:0,avg:0};let bn=0,Kt=1/0,an=-1/0;for(let Kn=O;Kn<=_;Kn++){const yt=Mt[Kn]*Ve.coefficient;bn+=yt,yt<Kt&&(Kt=yt),yt>an&&(an=yt)}return{id:it,min:Kt,max:an,avg:bn/N}}).filter(Ve=>Ve!==void 0),Ie={startIndex:O,endIndex:_,pointCount:N,duration:Se,frequency:Re,channels:Qe};return ke=F,me=Ie,Ie},Ce=(D,k)=>{if(!ce.value||ce.value.length===0)return null;const A=[],K=Math.max(0,Math.floor(D)),O=Math.min(ce.value[0].length-1,Math.floor(k));if(K>=O||K<0||O>=ce.value[0].length)return null;for(let _=0;_<ce.value.length;_++){const F=ce.value[_];Array.isArray(F)?A.push(F.slice(K,O+1)):A.push(F.subarray(K,O+1))}return A};let oe=null,le=0,I=!1,z=null,L=null;const se=An(()=>{const D=l.totalPoints,k=l.sampleRate,A=33;return k>7500&&D>5e5?60:D>2e5||D>1e5?50:D>5e4?40:A}),X=(D,k)=>{const A=[{label:"",show:!1}];for(let N=0;N<Math.max(l.channelCount,1);N++){const te=l.channels[N],he=(te==null?void 0:te.color)||On[N%On.length],Se=(te==null?void 0:te.visible)??!0;A.push({label:(te==null?void 0:te.name)||` ${N+1}`,stroke:he,width:1.5,show:Se,spanGaps:!0})}const K=l.isDark,O=K?"#888":"#333",_=K?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)",F=K?"#666":"#888";return{width:D,height:k,series:A,scales:{x:{time:!1},y:{auto:!0}},axes:[{stroke:O,grid:{stroke:_,width:1},ticks:{stroke:F,width:1},font:"11px system-ui",labelFont:"12px system-ui"},{stroke:O,grid:{stroke:_,width:1},ticks:{stroke:F,width:1},font:"11px system-ui",labelFont:"12px system-ui",size:70}],cursor:{show:!0,drag:{x:!0,y:!0,setScale:!1},focus:{prox:30},points:{size:6,fill:(N,te)=>N.series[te].stroke}},select:{show:!0,left:0,top:0,width:0,height:0},legend:{show:!1},hooks:{setSelect:[N=>{const te=N.select.left,he=N.select.width;if(he>10){const Se=N.posToVal(te,"x"),Re=N.posToVal(te+he,"x"),Qe=Math.max(0,Math.floor(Se)),Ie=Math.min(l.totalPoints-1,Math.ceil(Re));if(Ie>Qe){E.value&&w.value&&ie.value.push({...w.value});const Ve=Q(Qe,Ie);P.value=Ve,s("selection-change",Ve),w.value={start:Qe,end:Ie},E.value=!0}}N.setSelect({left:0,top:0,width:0,height:0},!1)}],setCursor:[N=>{const te=N.cursor.idx;if(te!=null&&te>=0&&N.data&&N.data[0]&&te<N.data[0].length){const he=[];for(let Se=1;Se<N.data.length;Se++)he.push(N.data[Se][te]);ne.value=Math.round(N.data[0][te]),s("cursor-values",he,ne.value)}else ne.value=null,s("cursor-values",null,null)}]}}},V=(D,k)=>{const A=[{label:"",show:!1}];for(let F=0;F<Math.max(l.channelCount,1);F++){const N=l.channels[F],te=(N==null?void 0:N.color)||On[F%On.length];((N==null?void 0:N.visible)??!0)&&A.push({label:(N==null?void 0:N.name)||` ${F+1}`,stroke:te,width:1,show:!0,spanGaps:!0,fill:`${te}20`})}const K=l.isDark,O=K?"#666":"#ccc";return{width:D,height:k,series:A,scales:{x:{time:!1},y:{auto:!0}},axes:[{stroke:O,grid:{show:!1},ticks:{show:!1},size:0},{stroke:O,grid:{stroke:K?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.05)",width:1},ticks:{show:!1},size:0}],cursor:{show:!1},select:{show:!1,left:0,top:0,width:0,height:0},legend:{show:!1},hooks:{}}},q=()=>{if(!r.value)return;const D=r.value.getBoundingClientRect(),k=D.width||800,A=Math.max(100,(D.height||400)-75),K=[[0]];for(let _=0;_<Math.max(l.channelCount,1);_++)K.push([0]);const O=X(k,A);o.value=new At(O,K,r.value),Fo(()=>{if(o.value&&o.value.axes[1]){const _=o.value.axes[1].size;d.value=typeof _=="number"?_:40}}),Y()},Y=(D=!1)=>{const k=()=>{if(!i.value||l.totalPoints===0)return;const A=i.value.getBoundingClientRect(),K=Math.max(100,A.width||800),O=60;if(K<100){setTimeout(()=>Y(D),50);return}const _=ce.value;if(!_||_[0].length===0)return;const F=K*2,N=_[0],te=Math.max(1,Math.ceil(N.length/F)),he=Math.ceil(N.length/te),Se=[new Float64Array(he)];for(let Ie=1;Ie<_.length;Ie++)Se.push(new Float64Array(he));let Re=0;for(let Ie=0;Ie<N.length;Ie+=te){Se[0][Re]=N[Ie];for(let Ve=1;Ve<_.length;Ve++){const it=_[Ve];Se[Ve][Re]=it[Ie]}Re++}const Qe=V(K,O);c.value=new At(Qe,Se,i.value),J()};D?k():requestAnimationFrame(k)},J=()=>{if(!f.value||!c.value||l.totalPoints===0)return;const D=l.totalPoints;let k=0,A=1;if(E.value&&w.value){const K=w.value.end-w.value.start;k=w.value.start/D,A=K/D}k=Math.max(0,Math.min(1,k)),A=Math.max(.01,Math.min(1-k,A)),f.value.style.left=`${k*100}%`,f.value.style.width=`${A*100}%`},pe=D=>{!f.value||!i.value||(h.value=!0,m.value=D.clientX,b.value=parseFloat(f.value.style.left||"0"),document.addEventListener("mousemove",Te),document.addEventListener("mouseup",ae),D.preventDefault())},Te=D=>{if(!h.value||!f.value||!i.value||!c.value)return;const k=i.value.getBoundingClientRect(),A=D.clientX-m.value,K=k.width,O=A/K*100;let _=b.value+O;const F=parseFloat(f.value.style.width||"100");_=Math.max(0,Math.min(_,100-F)),f.value.style.left=`${_}%`;const N=l.totalPoints,te=Math.floor(_/100*N),he=Math.floor((_+F)/100*N);if(he>te){w.value={start:te,end:he},E.value=!0;const Se=Q(te,he);P.value=Se,s("selection-change",Se)}},ae=()=>{h.value=!1,document.removeEventListener("mousemove",Te),document.removeEventListener("mouseup",ae)},ge=D=>{if(!f.value)return null;const k=f.value.getBoundingClientRect(),A=D.clientX-k.left,K=6;return A<=K?"left":A>=k.width-K?"right":null},Le=D=>{if(!f.value)return;const k=ge(D);k==="left"?f.value.style.cursor="w-resize":k==="right"?f.value.style.cursor="e-resize":f.value.style.cursor=h.value?"grabbing":"grab"},ze=D=>{!f.value||!i.value||(S.value="left",T.value=D.clientX,U.value=parseFloat(f.value.style.left||"0"),$.value=parseFloat(f.value.style.width||"100"),document.addEventListener("mousemove",pt),document.addEventListener("mouseup",v),D.preventDefault(),D.stopPropagation())},Pe=D=>{!f.value||!i.value||(S.value="right",T.value=D.clientX,U.value=parseFloat(f.value.style.left||"0"),$.value=parseFloat(f.value.style.width||"100"),document.addEventListener("mousemove",pt),document.addEventListener("mouseup",v),D.preventDefault(),D.stopPropagation())},pt=D=>{if(!S.value||!f.value||!i.value||!c.value)return;const k=i.value.getBoundingClientRect(),A=D.clientX-T.value,K=k.width,O=A/K*100;let _=U.value,F=$.value;if(S.value==="left"){const Se=$.value-2,Re=Math.max(-U.value,Math.min(O,Se));_=U.value+Re,F=$.value-Re}else if(S.value==="right"){const Se=100-U.value-$.value,Re=Math.max(-$.value+2,Math.min(O,Se));F=$.value+Re}f.value.style.left=`${_}%`,f.value.style.width=`${F}%`;const N=l.totalPoints,te=Math.floor(_/100*N),he=Math.floor((_+F)/100*N);if(he>te){w.value={start:te,end:he},E.value=!0;const Se=Q(te,he);P.value=Se,s("selection-change",Se)}},v=()=>{S.value=null,document.removeEventListener("mousemove",pt),document.removeEventListener("mouseup",v)},y=()=>{if(!o.value||I){oe=requestAnimationFrame(y);return}const D=performance.now();if(D-le<se.value){oe=requestAnimationFrame(y);return}le=D,I=!0;try{let k;if(E.value&&w.value?k=Ce(w.value.start,w.value.end):k=be.value,!k||k.length===0||k[0].length===0){if(o.value){const O=[[]];for(let _=0;_<l.channelCount;_++)O.push([]);o.value.setData(O)}oe=requestAnimationFrame(y),I=!1;return}const A=l.channelCount+1;if(o.value.series.length!==A){H(),q(),oe=requestAnimationFrame(y),I=!1;return}let K=!1;l.channels.forEach((O,_)=>{const F=_+1;o.value&&o.value.series[F]&&o.value.series[F].show!==O.visible&&(o.value.setSeries(F,{show:O.visible}),K=!0)}),o.value.setData(k),K&&c.value&&(c.value.destroy(),c.value=null),re(),J()}finally{I=!1}oe=requestAnimationFrame(y)},R=()=>{if(ie.value.length>0){const D=ie.value.pop();if(D){w.value=D;const k=Q(D.start,D.end);P.value=k,s("selection-change",k);return}}E.value=!1,w.value=null,P.value=null,s("selection-change",null)},W=()=>{E.value=!1,w.value=null,ie.value=[],P.value=null,s("selection-change",null)},H=()=>{oe&&(cancelAnimationFrame(oe),oe=null),o.value&&(o.value.destroy(),o.value=null),c.value&&(c.value.destroy(),c.value=null)},G=()=>{L&&clearTimeout(L),L=setTimeout(()=>{if(!r.value||!o.value)return;const D=r.value.getBoundingClientRect(),k=Math.max(100,Math.floor(D.width)),A=Math.max(100,Math.floor(D.height)-75);if(k>0&&A>0){const K=o.value.width,O=o.value.height;(Math.abs(K-k)>1||Math.abs(O-A)>1)&&o.value.setSize({width:k,height:A})}if(c.value&&i.value){const K=i.value.getBoundingClientRect(),O=Math.max(100,Math.floor(K.width)-20);c.value.setSize({width:O,height:60})}},100)};at(()=>l.channelCount,(D,k)=>{D!==k&&D>0&&(H(),q(),oe=requestAnimationFrame(y))}),at(()=>l.isDark,async()=>{o.value&&(W(),H(),await q(),oe=requestAnimationFrame(y))}),at(()=>l.channels.map(D=>D.coefficient),()=>{if(E.value&&w.value){const D=Q(w.value.start,w.value.end);P.value=D,s("selection-change",D)}}),at(()=>l.totalPoints,(D,k)=>{if(k>0&&D===0){c.value&&(c.value.destroy(),c.value=null),W();return}if(k>0&&D>0&&D<k&&E.value&&w.value){const{end:A}=w.value;A>=D&&W()}}),at([()=>be.value,()=>ce.value],([D,k])=>{var A;if(D&&k){const K=((A=k[0])==null?void 0:A.length)||0;if(E.value&&w.value){const{start:O,end:_}=w.value;(O>=K||_>K)&&W()}}});const re=()=>{if(!i.value||l.totalPoints===0)return;const D=ce.value;if(!D||D[0].length===0)return;if(!c.value){Y(!0);return}const k=i.value.getBoundingClientRect(),K=Math.max(100,k.width||800)*2,O=D[0],_=Math.max(1,Math.ceil(O.length/K)),F=Math.ceil(O.length/_),N=[new Float64Array(F)];for(let he=1;he<D.length;he++)N.push(new Float64Array(F));let te=0;for(let he=0;he<O.length;he+=_){N[0][te]=O[he];for(let Se=1;Se<D.length;Se++){const Re=D[Se];N[Se][te]=Re[he]}te++}c.value.setData(N)};return at([()=>E.value,()=>w.value],async()=>{await Fo(),J()}),ui(()=>{q(),oe=requestAnimationFrame(y),r.value&&(z=new ResizeObserver(()=>{G()}),z.observe(r.value)),window.addEventListener("resize",G)}),Mr(()=>{H(),z&&(z.disconnect(),z=null),L&&(clearTimeout(L),L=null),window.removeEventListener("resize",G),document.removeEventListener("mousemove",Te),document.removeEventListener("mouseup",ae),document.removeEventListener("mousemove",pt),document.removeEventListener("mouseup",v)}),t({resetZoom:W}),(D,k)=>{var A,K;return xe(),De("div",{class:j(["w-full h-full rounded-lg overflow-hidden relative",e.isDark?"bg-gray-800":"bg-white"])},[C("div",{ref_key:"chartContainer",ref:r,class:j(["w-full h-full",e.isDark?"dark-chart":"light-chart"]),onDblclick:k[0]||(k[0]=O=>E.value&&R()),title:E.value?"":""},null,42,ym),C("div",xm,[E.value?(xe(),De("div",wm,[C("span",null,": "+Ee((A=w.value)==null?void 0:A.start)+" - "+Ee((K=w.value)==null?void 0:K.end),1),C("button",{class:"hover:bg-blue-500 rounded px-1",onClick:W,title:""},[...k[2]||(k[2]=[C("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[C("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)])])])):rt("",!0),e.totalPoints>1e5?(xe(),De("div",{key:1,class:j(["text-xs px-2 py-1 rounded",e.isDark?"bg-yellow-600 text-white":"bg-yellow-200 text-yellow-800"]),title:""},Ee((e.totalPoints/1e3).toFixed(0))+"K  ",3)):rt("",!0)]),e0(D.$slots,"stats-panel",{stats:P.value,resetZoom:W},void 0),e.totalPoints===0?(xe(),De("div",Sm,[C("div",{class:j(["text-center",e.isDark?"text-gray-500":"text-gray-400"])},[k[3]||(k[3]=C("svg",{class:"w-16 h-16 mx-auto mb-4 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[C("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)),k[4]||(k[4]=C("p",null,"...",-1)),k[5]||(k[5]=C("p",{class:"text-sm mt-2"},"",-1)),C("p",{class:j(["text-xs mt-3",e.isDark?"text-gray-600":"text-gray-500"])},": ",2)],2)])):rt("",!0),e.totalPoints>0&&!P.value?(xe(),De("div",{key:1,class:j(["absolute bottom-2 left-2 text-xs",e.isDark?"text-gray-500":"text-gray-400"]),style:{bottom:"75px"}},"  ",2)):rt("",!0),e.totalPoints>0?(xe(),De("div",{key:2,class:j(["absolute bottom-0 left-0 right-0 z-20",e.isDark?"border-t border-gray-700":"border-t border-gray-300"]),style:Pn({height:"70px",background:e.isDark?"#1f2937":"#f9fafb"})},[C("div",{ref_key:"minimapContainer",ref:i,class:"relative",style:Pn({margin:"5px 10px 5px "+(d.value+10)+"px",height:"60px"})},[c.value&&E.value?(xe(),De("div",{key:0,ref_key:"minimapViewport",ref:f,class:j(["absolute top-0 bottom-0 border-2 z-10",e.isDark?"bg-blue-900/30 border-blue-500":"bg-blue-100/50 border-blue-500",{"cursor-grabbing":h.value||S.value}]),style:{minWidth:"20px",cursor:"grab"},onMousemove:Le,onMousedown:k[1]||(k[1]=O=>{const _=ge(O);_==="left"?ze(O):_==="right"?Pe(O):pe(O)})},[...k[6]||(k[6]=[C("div",{class:"absolute top-0 bottom-0 w-1 cursor-w-resize hover:bg-white/50",style:{left:"-2px"}},null,-1),C("div",{class:"absolute top-0 bottom-0 w-1 cursor-e-resize hover:bg-white/50",style:{right:"-2px"}},null,-1)])],34)):rt("",!0)],4)],6)):rt("",!0)],2)}}}),km=(e,t)=>{const n=e.__vccOpts||e;for(const[l,s]of t)n[l]=s;return n},Dm=km(Cm,[["__scopeId","data-v-35ff7208"]]),Mm={class:"flex items-center gap-2"},Tm={class:"grid grid-cols-2 gap-2 mb-3 text-xs"},Em={class:"flex items-center gap-1.5 mb-1.5"},Am={class:"grid grid-cols-3 gap-2 text-xs"},Pm={class:"text-green-500 font-mono"},_m={class:"text-red-500 font-mono"},Fm={class:"text-blue-500 font-mono"},Rm=kl({__name:"SelectionStatsPanel",props:{stats:{},channels:{},isDark:{type:Boolean}},emits:["close"],setup(e,{emit:t}){const n=t,l=ve(null),s=ve({x:8,y:8}),r=ve(!1),o=ve({x:0,y:0}),i=d=>{if(!l.value)return;r.value=!0;const h=l.value.getBoundingClientRect();o.value={x:d.clientX-h.left,y:d.clientY-h.top},document.addEventListener("mousemove",c),document.addEventListener("mouseup",f)},c=d=>{var S;if(!r.value||!l.value)return;const h=(S=l.value.parentElement)==null?void 0:S.getBoundingClientRect();if(!h)return;let m=d.clientX-h.left-o.value.x,b=d.clientY-h.top-o.value.y;m=Math.max(0,Math.min(m,h.width-200)),b=Math.max(0,Math.min(b,h.height-100)),s.value={x:m,y:b}},f=()=>{r.value=!1,document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",f)};return(d,h)=>{var m;return xe(),De("div",{ref_key:"panelRef",ref:l,class:j(["absolute backdrop-blur rounded-lg p-3 z-10 border max-h-[80%] overflow-y-auto shadow-xl",e.isDark?"bg-gray-900/95 border-gray-700":"bg-white/98 border-gray-400 shadow-lg",{"cursor-grabbing":r.value}]),style:Pn({left:s.value.x+"px",top:s.value.y+"px",minWidth:"200px",maxWidth:"280px"})},[C("div",{class:j(["flex items-center justify-between mb-2 select-none cursor-grab",{"cursor-grabbing":r.value}]),onMousedown:i},[C("div",Mm,[(xe(),De("svg",{class:j(["w-4 h-4",e.isDark?"text-gray-500":"text-gray-600"]),fill:"currentColor",viewBox:"0 0 24 24"},[...h[1]||(h[1]=[C("path",{d:"M8 6a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 18a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM14 6a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM14 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM14 18a2 2 0 1 1-4 0 2 2 0 0 1 4 0z"},null,-1)])],2)),C("h3",{class:j(["text-sm font-semibold",e.isDark?"text-white":"text-gray-900"])},"",2)]),C("button",{class:j(["p-1",e.isDark?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"]),onClick:h[0]||(h[0]=ar(b=>n("close"),["stop"]))},[...h[2]||(h[2]=[C("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[C("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],2)],34),C("div",Tm,[C("div",null,[C("span",{class:j(e.isDark?"text-gray-500":"text-gray-600")},"",2),C("div",{class:j(["font-mono",e.isDark?"text-white":"text-gray-900"])},Ee((m=e.stats.pointCount)==null?void 0:m.toLocaleString()),3)]),C("div",null,[C("span",{class:j(e.isDark?"text-gray-500":"text-gray-600")},"",2),C("div",{class:j(["font-mono",e.isDark?"text-white":"text-gray-900"])},Ee(we(Rh)(e.stats.duration)),3)]),C("div",null,[C("span",{class:j(e.isDark?"text-gray-500":"text-gray-600")},"",2),C("div",{class:j(["font-mono",e.isDark?"text-white":"text-gray-900"])},Ee(we(_t)(e.stats.frequency,0))+"Hz",3)]),C("div",null,[C("span",{class:j(e.isDark?"text-gray-500":"text-gray-600")},"",2),C("div",{class:j(["font-mono text-xs",e.isDark?"text-white":"text-gray-900"])},Ee(e.stats.startIndex)+"-"+Ee(e.stats.endIndex),3)])]),C("div",{class:j(["border-t pt-2 space-y-2",e.isDark?"border-gray-700":"border-gray-300"])},[(xe(!0),De(ht,null,Xl(e.stats.channels,b=>{var S,T;return xe(),De("div",{key:b.id,class:j(["rounded p-2 border",e.isDark?"bg-gray-800 border-gray-700":"bg-gray-50 border-gray-300 shadow-sm"])},[C("div",Em,[C("span",{class:"w-2 h-2 rounded-full flex-shrink-0",style:Pn({backgroundColor:((S=e.channels[b.id])==null?void 0:S.color)||we(On)[b.id%we(On).length]})},null,4),C("span",{class:j(["text-xs font-medium truncate",e.isDark?"text-gray-300":"text-gray-800"])},Ee(((T=e.channels[b.id])==null?void 0:T.name)||` ${b.id+1}`),3)]),C("div",Am,[C("div",null,[C("div",{class:j((e.isDark,"text-gray-600"))},"",2),C("div",Pm,Ee(we(_t)(b.min)),1)]),C("div",null,[C("div",{class:j((e.isDark,"text-gray-600"))},"",2),C("div",_m,Ee(we(_t)(b.max)),1)]),C("div",null,[C("div",{class:j((e.isDark,"text-gray-600"))},"",2),C("div",Fm,Ee(we(_t)(b.avg)),1)])])],2)}),128))],2)],6)}}}),Im={class:"flex items-center gap-4"},Lm={class:"flex items-center gap-1.5"},Um={key:0,class:"text-red-400 ml-1"},Om={key:0},zm={class:"flex items-center gap-2"},Vm={class:"font-mono text-xs"},$m=kl({__name:"StatusBar",props:{status:{},errorMessage:{},sampleRate:{},totalPoints:{},frameCount:{},channelCount:{},bufferSize:{},isDark:{type:Boolean}},setup(e){const t=e,n={disconnected:"text-gray-500",connecting:"text-yellow-400",connected:"text-green-400",error:"text-red-400"},l={disconnected:"",connecting:"",connected:"",error:""},s=An(()=>t.bufferSize<=0?0:Math.min(100,t.totalPoints/t.bufferSize*100)),r=An(()=>{const o=s.value;return o<50?"bg-green-500":o<80?"bg-yellow-500":"bg-red-500"});return(o,i)=>(xe(),De("footer",{class:j(["border-t px-4 py-2 flex items-center justify-between text-xs",e.isDark?"bg-gray-800 border-gray-700":"bg-gray-100 border-gray-300"])},[C("div",Im,[C("div",Lm,[C("span",{class:j(["w-1.5 h-1.5 rounded-full",n[e.status].replace("text-","bg-")])},null,2),C("span",{class:j(n[e.status])},Ee(l[e.status]),3),e.errorMessage?(xe(),De("span",Um,"- "+Ee(e.errorMessage),1)):rt("",!0)]),e.channelCount>0?(xe(),De("div",{key:0,class:j(e.isDark?"text-gray-400":"text-gray-600")},[i[0]||(i[0]=gn(" : ",-1)),C("span",{class:j(e.isDark?"text-gray-300":"text-gray-700")},Ee(e.channelCount),3)],2)):rt("",!0)]),C("div",{class:j(["flex items-center gap-3",e.isDark?"text-gray-500":"text-gray-600"])},[C("a",{href:"mailto:createskyblue@outlook.com",class:j(["flex items-center gap-1",e.isDark?"hover:text-gray-300":"hover:text-gray-800"]),title:""},[...i[1]||(i[1]=[C("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[C("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1),C("span",{class:"hidden sm:inline"},"createskyblue@outlook.com",-1)])],2),C("a",{href:"https://github.com/createskyblue/justfloat-web-oscilloscope",target:"_blank",rel:"noopener noreferrer",class:j(["flex items-center gap-1",e.isDark?"hover:text-gray-300":"hover:text-gray-800"]),title:"GitHub Pages"},[...i[2]||(i[2]=[C("svg",{class:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 24 24"},[C("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z"})],-1),C("span",{class:"hidden sm:inline"},"GitHub",-1)])],2)],2),C("div",{class:j(["flex items-center gap-4",e.isDark?"text-gray-400":"text-gray-600"])},[e.sampleRate>0?(xe(),De("div",Om,[i[3]||(i[3]=gn(" : ",-1)),C("span",{class:j(["font-mono",e.isDark?"text-gray-300":"text-gray-700"])},Ee(we(Ih)(e.sampleRate)),3)])):rt("",!0),C("div",zm,[C("span",{class:j(e.isDark?"text-gray-400":"text-gray-600")},":",2),C("div",{class:j(["flex items-center gap-1.5",e.isDark?"text-gray-300":"text-gray-700"])},[C("div",{class:j(["w-24 h-1.5 rounded-full overflow-hidden",e.isDark?"bg-gray-700":"bg-gray-300"])},[C("div",{class:j(["h-full transition-all duration-300",r.value]),style:Pn({width:`${s.value}%`})},null,6)],2),C("span",Vm,Ee(s.value.toFixed(0))+"%",1)],2)]),C("div",null,[i[4]||(i[4]=gn(" : ",-1)),C("span",{class:j(["font-mono",e.isDark?"text-gray-300":"text-gray-700"])},Ee(we(Oa)(e.totalPoints)),3)]),C("div",null,[i[5]||(i[5]=gn(" : ",-1)),C("span",{class:j(["font-mono",e.isDark?"text-gray-300":"text-gray-700"])},Ee(we(Oa)(e.frameCount)),3)])],2)],2))}});function Bm(){const e=ve("disconnected"),t=ve(""),n=Us(null),l=Us(null);let s=null,r=!1,o=null;const i=()=>"serial"in navigator,c=async(b=115200)=>{if(!i())return e.value="error",t.value=" Web Serial API Chrome  Edge ",!1;n.value&&await d();try{return e.value="connecting",t.value="",n.value=await navigator.serial.requestPort(),await n.value.open({baudRate:b,dataBits:8,stopBits:1,parity:"none",flowControl:"none",bufferSize:4096}),e.value="connected",o=f(),!0}catch(S){return e.value="error",S instanceof Error?S.name==="NotFoundError"?t.value="":S.name==="InvalidStateError"?t.value="":t.value=S.message:t.value="",n.value=null,!1}},f=async()=>{var b,S;if(!(!((b=n.value)!=null&&b.readable)||r)){r=!0;try{for(;r&&((S=n.value)!=null&&S.readable);){l.value=n.value.readable.getReader();try{for(;r;){const{value:T,done:U}=await l.value.read();if(U)break;T&&s&&s(T)}}finally{l.value.releaseLock(),l.value=null}}}catch(T){r&&(console.error(":",T),e.value="error",t.value=T instanceof Error?T.message:"")}r=!1}},d=async()=>{r=!1;try{if(l.value){try{await l.value.cancel()}catch{}try{l.value.releaseLock()}catch{}l.value=null}if(o){try{await Promise.race([o,new Promise(b=>setTimeout(b,500))])}catch{}o=null}if(n.value){try{await n.value.close()}catch(b){console.warn(":",b)}n.value=null}}catch(b){console.error(":",b)}e.value="disconnected",t.value=""};return{status:e,errorMessage:t,isSupported:i,connect:c,disconnect:d,onData:b=>{s=b},getPortInfo:()=>n.value?n.value.getInfo():null}}function Nm(){const e=ve("disconnected"),t=ve("");let n=null,l=null;const s=()=>!0,r=d=>{const m=window.location.protocol==="https:",S=(d.toLowerCase().startsWith("wss:")?"wss:":"ws:")==="wss:";return m&&!S?{compatible:!1,reason:` HTTPS  WS

HTTPS  WebSocket 


1.  WebSocket  WSS
2.  HTTP `}:{compatible:!0}},o=async d=>(n&&await i(),new Promise(h=>{try{e.value="connecting",t.value="",n=new WebSocket(d),n.binaryType="arraybuffer",n.onopen=()=>{e.value="connected",h(!0)},n.onmessage=m=>{if(l){if(m.data instanceof ArrayBuffer)l(new Uint8Array(m.data));else if(typeof m.data=="string"){const b=new TextEncoder;l(b.encode(m.data))}}},n.onerror=()=>{e.value="error",t.value="WebSocket ",h(!1)},n.onclose=m=>{e.value==="connected"&&(e.value="disconnected",t.value=m.wasClean?"":""),n=null}}catch(m){e.value="error",t.value=m instanceof Error?m.message:"",n=null,h(!1)}})),i=async()=>{if(n){try{n.close(1e3,"User disconnect")}catch{}n=null}e.value="disconnected",t.value=""};return{status:e,errorMessage:t,isSupported:s,checkProtocolCompatibility:r,connect:o,disconnect:i,onData:d=>{l=d},send:d=>n&&n.readyState===WebSocket.OPEN?(n.send(d),!0):!1}}function Hm(){const e=ve("disconnected"),t=ve("");let n=null,l=null,s=null;const r=()=>"bluetooth"in navigator,o=async b=>{if(!r())return e.value="error",t.value=" Web Bluetooth API Chrome  Edge ",!1;n&&await d();try{e.value="connecting",t.value="";const S=kc(b.serviceUUID),T=kc(b.characteristicUUID);if(!S||!T)throw new Error(" UUID ");if(n=await navigator.bluetooth.requestDevice({filters:[{services:[S]}],optionalServices:[S]}),!n.gatt)throw new Error(" GATT");return n.addEventListener("gattserverdisconnected",c),l=await(await(await n.gatt.connect()).getPrimaryService(S)).getCharacteristic(T),await l.startNotifications(),l.addEventListener("characteristicvaluechanged",i),e.value="connected",!0}catch(S){return e.value="error",S instanceof Error?S.name==="NotFoundError"?t.value="":S.name==="SecurityError"?t.value="":S.name==="NetworkError"?t.value="":t.value=S.message:t.value="",n=null,l=null,!1}},i=b=>{const S=b.target;S.value&&s&&s(new Uint8Array(S.value.buffer))},c=()=>{e.value==="connected"&&(e.value="disconnected",t.value=""),f()},f=()=>{if(l){try{l.removeEventListener("characteristicvaluechanged",i)}catch{}l=null}if(n){try{n.removeEventListener("gattserverdisconnected",c)}catch{}n=null}},d=async()=>{var b;try{if(l)try{await l.stopNotifications()}catch{}(b=n==null?void 0:n.gatt)!=null&&b.connected&&n.gatt.disconnect()}catch(S){console.warn(":",S)}f(),e.value="disconnected",t.value=""};return{status:e,errorMessage:t,isSupported:r,connect:o,disconnect:d,onData:b=>{s=b},getDeviceInfo:()=>n?{name:n.name||"",id:n.id}:null}}function kc(e){return e?(e=e.trim().toLowerCase(),/^(0x)?[0-9a-f]{4}$/i.test(e)?`0000${e.replace(/^0x/,"")}-0000-1000-8000-00805f9b34fb`:/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e)?e:/^[0-9a-f]{32}$/i.test(e)?`${e.slice(0,8)}-${e.slice(8,12)}-${e.slice(12,16)}-${e.slice(16,20)}-${e.slice(20)}`:null):null}function Wm(){const e=ve(0),t=ve(0),n=ve("justfloat");let l=[],s=0,r=-1,o=0,i="",c=new TextDecoder,f=null,d=null,h=16,m=0,b=16,S=[],T=null,U=0;const $=()=>{U>.8?(h=100,b=100):U>.5?(h=50,b=50):U>.3?(h=33,b=33):(h=16,b=16)},P=V=>{U=Math.max(0,Math.min(1,V)),$()},E=()=>{if(T&&(clearTimeout(T),T=null),S.length===0)return;const V=S;if(S=[],m=performance.now(),d)d(V);else if(f)for(const q of V)f(q)},w=()=>{T&&clearTimeout(T),T=setTimeout(E,b)},ie=V=>{S.push(V),t.value++,(V.length>e.value||e.value===0)&&(e.value=V.length);const q=performance.now();q-m>=h?(E(),m=q):w()},ne=()=>{if(l.length<4)return!1;const V=l.length-4;return l[V]===er[0]&&l[V+1]===er[1]&&l[V+2]===er[2]&&l[V+3]===er[3]},be=(V,q)=>{const Y=q-V;return!(Y%4!==0||Y===0||Y<4||Y>256)},ce=V=>{const q=[],Y=new DataView(new ArrayBuffer(4));for(let J=0;J<V.length;J+=4)Y.setUint8(0,V[J]),Y.setUint8(1,V[J+1]),Y.setUint8(2,V[J+2]),Y.setUint8(3,V[J+3]),q.push(Y.getFloat32(0,!0));return q},ke=V=>{for(let q=0;q<V.length;q++)switch(l.push(V[q]),l.length>1e5&&(l=l.slice(-5e4),s=0,r=-1),s){case 0:ne()&&(r=l.length-4,s=1);break;case 1:if(ne()){const Y=l.length-4,J=r+4,pe=Y;if(be(J,pe)){const Te=l.slice(J,pe),ae=ce(Te);if(o>0&&ae.length!==o){s=0,r=-1;break}ae.length>0&&(o===0&&(o=ae.length),ie(ae))}else break;l=l.slice(Y),r=0}break}},me=V=>{i+=c.decode(V,{stream:!0}),i.length>1e5&&(i=i.slice(-5e4));let q;for(;(q=Q(i))!==-1;){const Y=i.substring(0,q).trim();if(i=i.substring(q+1),!Y)continue;const J=Ce(Y);J&&J.length>0&&ie(J)}},Q=V=>{for(let q=0;q<V.length;q++)if(V[q]===`
`||V[q]==="\r")return q+1<V.length&&(V[q+1]===`
`||V[q+1]==="\r")&&V[q+1]!==V[q]?q+1:q;return-1},Ce=V=>{if(V.toLowerCase().startsWith("image"))return null;let q=V;const Y=V.indexOf(":");Y!==-1&&(q=V.substring(Y+1));const J=q.split(","),pe=[];for(const Te of J){const ae=Te.trim();if(ae==="")continue;const ge=parseFloat(ae);if(isFinite(ge))pe.push(ge);else return null}return pe.length>0?pe:null},oe=V=>{n.value==="justfloat"?ke(V):me(V)},le=V=>{f=V},I=V=>{d=V},z=V=>{n.value!==V&&(n.value=V,L())},L=()=>{T&&(clearTimeout(T),T=null),S=[],l=[],s=0,r=-1,o=0,i="",c=new TextDecoder};return{channelCount:e,frameCount:t,currentProtocol:n,processData:oe,onFrame:le,onFramesBatch:I,setProtocol:z,reset:L,fullReset:()=>{L(),e.value=0,t.value=0},setChannelCount:V=>{e.value=V},setBufferUsage:P}}class jm{constructor(t){$l(this,"buffer");$l(this,"head",0);$l(this,"tail",0);$l(this,"_size",0);$l(this,"capacity");this.capacity=t,this.buffer=new Array(t)}push(t){this.buffer[this.tail]=t,this.tail=(this.tail+1)%this.capacity,this._size<this.capacity?this._size++:this.head=(this.head+1)%this.capacity}pushBatch(t){for(const n of t)this.push(n)}get size(){return this._size}get(t){if(!(t<0||t>=this._size))return this.buffer[(this.head+t)%this.capacity]}getRange(t,n){const l=[],s=Math.min(n,this._size-1);for(let r=t;r<=s;r++){const o=this.get(r);o&&l.push(o)}return l}toArray(){const t=new Array(this._size);for(let n=0;n<this._size;n++)t[n]=this.buffer[(this.head+n)%this.capacity];return t}clear(){this.head=0,this.tail=0,this._size=0}resize(t){if(t===this.capacity)return;const n=this.toArray().slice(-t);this.capacity=t,this.buffer=new Array(t),this.head=0,this.tail=0,this._size=0;for(const l of n)this.push(l)}}function Km(e=1e4){const t=ve(Math.max(Ps,Math.min(_s,e))),n=new jm(t.value),l=ve(0),s=Us([]),r=ve(0);let o=new Map;const i=100;let c=null,f=-1,d=null,h=-1,m=0,b=0,S=!1;const T=()=>{S||(S=!0,queueMicrotask(()=>{l.value++,S=!1}))},U=An(()=>(l.value,n.size)),$=I=>{const z=performance.now(),L={timestamp:z,values:I};b===0&&(b=z,m=0),m++;const se=z-b;se>=1e3&&(r.value=Math.round(m/(se/1e3)),b=z,m=0),n.push(L),T()},P=I=>{if(I.length===0)return;const z=performance.now(),se=1e3/(r.value>0?r.value:1),X=I.map((q,Y)=>({timestamp:z+Y*se,values:q}));b===0&&(b=z,m=0),m+=I.length;const V=z-b;V>=1e3&&(r.value=Math.round(m/(V/1e3)),b=z,m=0),n.pushBatch(X),T()},E=(I,z=1)=>{const L=performance.now(),se=n.size;if(se===0)return null;const X=o.get(I);if(X&&L-X.timestamp<i)return{min:X.stats.min*z,max:X.stats.max*z,avg:X.stats.avg*z,current:X.stats.current*z};let V=1/0,q=-1/0,Y=0,J=0,pe=0;const Te=se>5e4?Math.ceil(se/1e4):1;for(let Le=0;Le<se;Le+=Te){const ze=n.get(Le);if(ze&&I<ze.values.length){const Pe=ze.values[I];isFinite(Pe)&&(V=Math.min(V,Pe),q=Math.max(q,Pe),Y+=Pe,J++)}}const ae=n.get(se-1);if(ae&&I<ae.values.length&&(pe=ae.values[I]),J===0)return null;const ge={min:V,max:q,avg:Y/J,current:pe};return o.set(I,{stats:ge,timestamp:L}),{min:ge.min*z,max:ge.max*z,avg:ge.avg*z,current:ge.current*z}},w=(I,z,L,se=[])=>{const X=n.getRange(I,z);if(X.length<2)return null;const V=X.length,q=r.value>0?r.value:1,Y=V/q*1e3,J=1e3/Y,pe=[];for(let Te=0;Te<L;Te++){let ae=1/0,ge=-1/0,Le=0,ze=0;const Pe=se[Te]??1;for(const pt of X)if(Te<pt.values.length){const v=pt.values[Te];isFinite(v)&&(ae=Math.min(ae,v),ge=Math.max(ge,v),Le+=v,ze++)}pe.push({id:Te,min:(ze>0?ae:0)*Pe,max:(ze>0?ge:0)*Pe,avg:(ze>0?Le/ze:0)*Pe})}return{startIndex:I,endIndex:z,pointCount:V,duration:Y,frequency:J,channels:pe}},ie=(I,z=[])=>{l.value;const L=n.size;if(c&&f===l.value)return c;if(L===0)return c=null,f=l.value,null;let se;L>5e5?se=3e3:L>2e5?se=5e3:L>1e5?se=1e4:L>5e4?se=2e4:se=L;const X=L>se,V=X?Math.ceil(L/se):1,q=X?Math.ceil(L/V):L,Y=new Float64Array(q),J=[];for(let ae=0;ae<I;ae++)J.push(new Float64Array(q));let pe=0;for(let ae=0;ae<L&&pe<q;ae+=V){const ge=n.get(ae);if(ge){Y[pe]=ae;for(let Le=0;Le<I;Le++){const ze=Le<ge.values.length?ge.values[Le]:0,Pe=z[Le]??1;J[Le][pe]=ze*Pe}pe++}}if(pe<q){const ae=[Y.slice(0,pe),...J.map(ge=>ge.slice(0,pe))];return c=ae,f=l.value,ae}const Te=[Y,...J];return c=Te,f=l.value,Te},ne=(I,z,L,se=[])=>{const X=z-I+1;if(X<=0)return null;const V=Math.min(X,5e4),q=X>V?Math.ceil(X/V):1,Y=Math.ceil(X/q),J=new Float64Array(Y),pe=[];for(let ae=0;ae<L;ae++)pe.push(new Float64Array(Y));let Te=0;for(let ae=I;ae<=z&&Te<Y;ae+=q){const ge=n.get(ae);if(ge){J[Te]=ae;for(let Le=0;Le<L;Le++){const ze=Le<ge.values.length?ge.values[Le]:0,Pe=se[Le]??1;pe[Le][Te]=ze*Pe}Te++}}return[J.slice(0,Te),...pe.map(ae=>ae.slice(0,Te))]},be=(I,z=[])=>{const L=n.size;if(d&&h===l.value)return d;if(L===0)return d=null,h=l.value,null;const se=L,X=new Float64Array(se),V=[];for(let Y=0;Y<I;Y++)V.push(new Float64Array(se));for(let Y=0;Y<L;Y++){const J=n.get(Y);if(J){X[Y]=Y;for(let pe=0;pe<I;pe++){const Te=pe<J.values.length?J.values[pe]:0,ae=z[pe]??1;V[pe][Y]=Te*ae}}}const q=[X,...V];return d=q,h=l.value,q},ce=()=>{n.clear(),o.clear(),c=null,f=-1,d=null,h=-1,s.value=[],l.value++,r.value=0,m=0,b=0};return{bufferSize:t,data:s,dataVersion:l,sampleRate:r,totalPoints:U,addFrame:$,addFrames:P,getChannelStats:E,getSelectionStats:w,getChartData:ie,getChartDataInRange:ne,getFullChartData:be,getDataSize:()=>n.size,clear:ce,setBufferSize:I=>{const z=Math.max(Ps,Math.min(_s,I));t.value=z,n.resize(z),l.value++},importData:I=>{ce();const z=I.slice(-t.value);for(const L of z)n.push(L);l.value++},exportData:()=>{const I=n.size;if(I===0)return[];const z=n.get(0);if(!z)return[];const L=z.values.length,se=[];for(let X=0;X<L;X++)se[X]=[];for(let X=0;X<I;X++){const V=n.get(X);if(V)for(let q=0;q<L;q++)se[q].push(q<V.values.length?V.values[q]:0)}return se},importChannels:(I,z,L)=>{if(console.log("[importChannels] "),console.log("[importChannels] :",z),console.log("[importChannels] :",t.value),console.log("[importChannels] :",I.length),ce(),I.length===0){console.error("[importChannels] ");return}const se=I[0].length,X=Math.min(se,t.value);console.log("[importChannels] :",se,":",X);const V=[],q=performance.now();for(let Y=0;Y<X;Y++){const J=[];for(let pe=0;pe<z;pe++){const Te=pe<I.length?I[pe][Y]??0:0;J.push(Te)}V.push({timestamp:q+Y/(L||1)*1e3,values:J})}n.pushBatch(V),T(),L&&L>0&&(r.value=L),console.log("[importChannels] :",n.size,":",r.value)},setSampleRate:I=>{r.value=I}}}function Gm(){const e=ve([]),t=b=>({id:b,name:` ${b+1}`,unit:"",coefficient:1,visible:!0,color:On[b%On.length]}),n=b=>{if(b<=0)return;const S=e.value;if(S.length<b){const T=[...S];for(let U=S.length;U<b;U++)T.push(t(U));e.value=T}else S.length>b},l=(b,S)=>{const T=e.value.findIndex(U=>U.id===b);if(T!==-1){const U=[...e.value];U[T]={...U[T],...S},e.value=U}};return{channels:e,ensureChannels:n,updateChannel:l,toggleVisibility:b=>{var S;l(b,{visible:!((S=e.value.find(T=>T.id===b))!=null&&S.visible)})},setName:(b,S)=>{l(b,{name:S})},setUnit:(b,S)=>{l(b,{unit:S})},setCoefficient:(b,S)=>{l(b,{coefficient:S})},getVisibleChannels:()=>e.value.filter(b=>b.visible),getColors:()=>e.value.map(b=>b.color),getCoefficients:()=>e.value.map(b=>b.coefficient),resetChannels:()=>{e.value=e.value.map((b,S)=>t(S))},loadChannels:b=>{e.value=b.map((S,T)=>({...t(T),...S,id:T}))}}}const Mo="justfloat-oscilloscope-config";function Ym(){const e=()=>{try{const s=localStorage.getItem(Mo);if(s){const r=JSON.parse(s);return{...bo,...r,bufferSize:Math.max(1e3,r.bufferSize||bo.bufferSize)}}}catch(s){console.error(":",s)}return{...bo}},t=s=>{try{localStorage.setItem(Mo,JSON.stringify(s))}catch(r){console.error(":",r)}};return{loadConfig:e,saveConfig:t,clearConfig:()=>{try{localStorage.removeItem(Mo)}catch(s){console.error(":",s)}},createReactiveConfig:()=>{const s=ve(e());return at(s,r=>{t(r)},{deep:!0}),s}}}const qm={class:"flex-1 flex overflow-hidden"},Jm={class:"flex-1 min-w-0 p-4"},Zm=kl({__name:"App",setup(e){const{loadConfig:t,saveConfig:n}=Ym(),l=t(),s=Bm(),r=Nm(),o=Hm(),i=Wm(),c=Km(l.bufferSize),f=Gm();l.channels.length>0&&f.loadChannels(l.channels);const d=ve(l.isDark??!0);ui(()=>{h()});const h=()=>{d.value?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},m=()=>{d.value=!d.value,h()},b=ve(l.baudRate),S=ve(l.bufferSize),T=ve(l.protocol||"justfloat"),U=ve(l.connectionType||"serial"),$=ve(l.wsUrl||"ws://localhost:8080"),P=ve(l.btServiceUUID||"ffe0"),E=ve(l.btCharacteristicUUID||"ffe1"),w=An(()=>{switch(U.value){case"websocket":return r;case"bluetooth":return o;default:return s}}),ie=ve(null),ne=ve(null),be=ve(null);i.setProtocol(T.value);const ce=async()=>{const le=w.value;if(le.status.value==="connected")await le.disconnect(),i.reset();else if(U.value==="websocket"){const I=r.checkProtocolCompatibility($.value);if(!I.compatible){alert(I.reason||"WebSocket ");return}await r.connect($.value)}else U.value==="bluetooth"?await o.connect({serviceUUID:P.value,characteristicUUID:E.value}):await s.connect(b.value)},ke=le=>{i.processData(le)};s.onData(ke),r.onData(ke),o.onData(ke),i.onFramesBatch(le=>{c.addFrames(le);const I=c.totalPoints.value/c.bufferSize.value;i.setBufferUsage(I)}),at(()=>i.channelCount.value,le=>{le>0&&f.ensureChannels(le)}),at(()=>c.totalPoints.value,le=>{const I=le/c.bufferSize.value;i.setBufferUsage(I)}),at([()=>b.value,()=>S.value,()=>T.value,()=>U.value,()=>$.value,()=>P.value,()=>E.value,()=>f.channels.value],()=>{const le={baudRate:b.value,bufferSize:S.value,protocol:T.value,connectionType:U.value,wsUrl:$.value,btServiceUUID:P.value,btCharacteristicUUID:E.value,channels:f.channels.value,isDark:d.value};n(le)},{deep:!0}),at(T,le=>{i.setProtocol(le)}),at(S,le=>{c.setBufferSize(le)});const me=()=>{c.clear(),i.fullReset(),ie.value=null,ne.value=null},Q=(le,I)=>{ie.value=le,ne.value=I},Ce=()=>{const le={config:{baudRate:b.value,bufferSize:S.value,protocol:T.value,connectionType:U.value,wsUrl:$.value,btServiceUUID:P.value,btCharacteristicUUID:E.value,channels:f.channels.value},channels:c.exportData(),sampleRate:c.sampleRate.value,exportTime:new Date().toISOString()},I=`oscilloscope-${new Date().toISOString().slice(0,19).replace(/:/g,"-")}.json`;Lh(le,I)},oe=async()=>{const le=document.createElement("input");le.type="file",le.accept=".json",le.onchange=async I=>{var L,se;const z=(L=I.target.files)==null?void 0:L[0];if(z)try{console.log(":",z.name);const X=await Uh(z);if(console.log(":",X),X.config&&(console.log(":",X.config),b.value=X.config.baudRate,S.value=X.config.bufferSize,X.config.channels&&f.loadChannels(X.config.channels)),X.channels&&X.channels.length>0){console.log(":",X.channels.length),console.log(":",(se=X.channels[0])==null?void 0:se.length),console.log(":",X.sampleRate);const V=X.channels.length;i.setChannelCount(V),f.ensureChannels(V),c.importChannels(X.channels,V,X.sampleRate),console.log(":",c.totalPoints.value),alert(" "+c.totalPoints.value+" ")}else console.error(""),alert("")}catch(X){console.error(":",X),alert(": "+X.message)}},le.click()};return ys("serial",s),ys("parser",i),ys("buffer",c),ys("channelConfig",f),Mr(()=>{s.disconnect(),r.disconnect(),o.disconnect()}),(le,I)=>(xe(),De("div",{class:j(["h-screen flex flex-col",d.value?"bg-gray-900":"bg-white"])},[jt(Fh,{status:w.value.status.value,"is-supported":U.value==="websocket"||(U.value==="bluetooth"?we(o).isSupported():we(s).isSupported()),"connection-type":U.value,"ws-url":$.value,"bt-service-u-u-i-d":P.value,"bt-characteristic-u-u-i-d":E.value,"baud-rate":b.value,"is-dark":d.value,onConnect:ce,onClear:me,onExport:Ce,onImport:oe,onToggleTheme:m,"onUpdate:connectionType":I[0]||(I[0]=z=>U.value=z),"onUpdate:wsUrl":I[1]||(I[1]=z=>$.value=z),"onUpdate:btServiceUUID":I[2]||(I[2]=z=>P.value=z),"onUpdate:btCharacteristicUUID":I[3]||(I[3]=z=>E.value=z),"onUpdate:baudRate":I[4]||(I[4]=z=>b.value=z)},null,8,["status","is-supported","connection-type","ws-url","bt-service-u-u-i-d","bt-characteristic-u-u-i-d","baud-rate","is-dark"]),C("div",qm,[jt(Cg,{"buffer-size":S.value,"onUpdate:bufferSize":I[5]||(I[5]=z=>S.value=z),protocol:T.value,"onUpdate:protocol":I[6]||(I[6]=z=>T.value=z),channels:we(f).channels.value,"channel-count":we(i).channelCount.value,"cursor-values":ie.value,"cursor-index":ne.value,"get-channel-stats":z=>{var L;return we(c).getChannelStats(z,((L=we(f).channels.value[z])==null?void 0:L.coefficient)??1)},"is-dark":d.value,onUpdateChannel:we(f).updateChannel,onToggleVisibility:we(f).toggleVisibility},null,8,["buffer-size","protocol","channels","channel-count","cursor-values","cursor-index","get-channel-stats","is-dark","onUpdateChannel","onToggleVisibility"]),C("div",Jm,[jt(Dm,{channels:we(f).channels.value,"channel-count":we(i).channelCount.value,"sample-rate":we(c).sampleRate.value,"total-points":we(c).totalPoints.value,"get-chart-data":()=>we(c).getChartData(we(i).channelCount.value,we(f).getCoefficients()),"get-full-chart-data":()=>we(c).getFullChartData(we(i).channelCount.value,we(f).getCoefficients()),"is-dark":d.value,onSelectionChange:I[7]||(I[7]=z=>be.value=z),onCursorValues:Q},{"stats-panel":nu(({stats:z,resetZoom:L})=>[z?(xe(),Vs(Rm,{key:0,stats:z,channels:we(f).channels.value,"is-dark":d.value,onClose:L},null,8,["stats","channels","is-dark","onClose"])):rt("",!0)]),_:1},8,["channels","channel-count","sample-rate","total-points","get-chart-data","get-full-chart-data","is-dark"])])]),jt($m,{status:w.value.status.value,"error-message":w.value.errorMessage.value,"sample-rate":we(c).sampleRate.value,"total-points":we(c).totalPoints.value,"frame-count":we(i).frameCount.value,"channel-count":we(i).channelCount.value,"buffer-size":S.value,"is-dark":d.value},null,8,["status","error-message","sample-rate","total-points","frame-count","channel-count","buffer-size","is-dark"])],2))}});dh(Zm).mount("#app");
