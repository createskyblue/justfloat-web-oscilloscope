var Gf=Object.defineProperty;var Yf=(e,t,n)=>t in e?Gf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var zl=(e,t,n)=>Yf(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();/**
* @vue/shared v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function qo(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const qe={},jl=[],Dn=()=>{},Dc=()=>!1,yr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Jo=e=>e.startsWith("onUpdate:"),Ft=Object.assign,Zo=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},qf=Object.prototype.hasOwnProperty,We=(e,t)=>qf.call(e,t),_e=Array.isArray,Kl=e=>xr(e)==="[object Map]",Mc=e=>xr(e)==="[object Set]",Fe=e=>typeof e=="function",pt=e=>typeof e=="string",Bn=e=>typeof e=="symbol",rt=e=>e!==null&&typeof e=="object",Tc=e=>(rt(e)||Fe(e))&&Fe(e.then)&&Fe(e.catch),Ec=Object.prototype.toString,xr=e=>Ec.call(e),Jf=e=>xr(e).slice(8,-1),Ac=e=>xr(e)==="[object Object]",Qo=e=>pt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Cs=qo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),wr=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Zf=/-\w/g,nl=wr(e=>e.replace(Zf,t=>t.slice(1).toUpperCase())),Qf=/\B([A-Z])/g,rl=wr(e=>e.replace(Qf,"-$1").toLowerCase()),Pc=wr(e=>e.charAt(0).toUpperCase()+e.slice(1)),oo=wr(e=>e?`on${Pc(e)}`:""),tl=(e,t)=>!Object.is(e,t),sr=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},_c=(e,t,n,l=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:l,value:n})},Xo=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let ra;const Sr=()=>ra||(ra=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Mn(e){if(_e(e)){const t={};for(let n=0;n<e.length;n++){const l=e[n],s=pt(l)?nd(l):Mn(l);if(s)for(const r in s)t[r]=s[r]}return t}else if(pt(e)||rt(e))return e}const Xf=/;(?![^(]*\))/g,ed=/:([^]+)/,td=/\/\*[^]*?\*\//g;function nd(e){const t={};return e.replace(td,"").split(Xf).forEach(n=>{if(n){const l=n.split(ed);l.length>1&&(t[l[0].trim()]=l[1].trim())}}),t}function Y(e){let t="";if(pt(e))t=e;else if(_e(e))for(let n=0;n<e.length;n++){const l=Y(e[n]);l&&(t+=l+" ")}else if(rt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const ld="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",sd=qo(ld);function Rc(e){return!!e||e===""}const Fc=e=>!!(e&&e.__v_isRef===!0),Te=e=>pt(e)?e:e==null?"":_e(e)||rt(e)&&(e.toString===Ec||!Fe(e.toString))?Fc(e)?Te(e.value):JSON.stringify(e,Ic,2):String(e),Ic=(e,t)=>Fc(t)?Ic(e,t.value):Kl(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[l,s],r)=>(n[io(l,r)+" =>"]=s,n),{})}:Mc(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>io(n))}:Bn(t)?io(t):rt(t)&&!_e(t)&&!Ac(t)?String(t):t,io=(e,t="")=>{var n;return Bn(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ht;class rd{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ht,!t&&Ht&&(this.index=(Ht.scopes||(Ht.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Ht;try{return Ht=this,t()}finally{Ht=n}}}on(){++this._on===1&&(this.prevScope=Ht,Ht=this)}off(){this._on>0&&--this._on===0&&(Ht=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,l;for(n=0,l=this.effects.length;n<l;n++)this.effects[n].stop();for(this.effects.length=0,n=0,l=this.cleanups.length;n<l;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,l=this.scopes.length;n<l;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function od(){return Ht}let Qe;const ao=new WeakSet;class Lc{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ht&&Ht.active&&Ht.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ao.has(this)&&(ao.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Oc(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,oa(this),Vc(this);const t=Qe,n=gn;Qe=this,gn=!0;try{return this.fn()}finally{zc(this),Qe=t,gn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)ni(t);this.deps=this.depsTail=void 0,oa(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ao.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){To(this)&&this.run()}get dirty(){return To(this)}}let Uc=0,ks,Ds;function Oc(e,t=!1){if(e.flags|=8,t){e.next=Ds,Ds=e;return}e.next=ks,ks=e}function ei(){Uc++}function ti(){if(--Uc>0)return;if(Ds){let t=Ds;for(Ds=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;ks;){let t=ks;for(ks=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(l){e||(e=l)}t=n}}if(e)throw e}function Vc(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function zc(e){let t,n=e.depsTail,l=n;for(;l;){const s=l.prevDep;l.version===-1?(l===n&&(n=s),ni(l),id(l)):t=l,l.dep.activeLink=l.prevActiveLink,l.prevActiveLink=void 0,l=s}e.deps=t,e.depsTail=n}function To(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&($c(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function $c(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Fs)||(e.globalVersion=Fs,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!To(e))))return;e.flags|=2;const t=e.dep,n=Qe,l=gn;Qe=e,gn=!0;try{Vc(e);const s=e.fn(e._value);(t.version===0||tl(s,e._value))&&(e.flags|=128,e._value=s,t.version++)}catch(s){throw t.version++,s}finally{Qe=n,gn=l,zc(e),e.flags&=-3}}function ni(e,t=!1){const{dep:n,prevSub:l,nextSub:s}=e;if(l&&(l.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=l,e.nextSub=void 0),n.subs===e&&(n.subs=l,!l&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)ni(r,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function id(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let gn=!0;const Bc=[];function On(){Bc.push(gn),gn=!1}function Vn(){const e=Bc.pop();gn=e===void 0?!0:e}function oa(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Qe;Qe=void 0;try{t()}finally{Qe=n}}}let Fs=0;class ad{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class li{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Qe||!gn||Qe===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Qe)n=this.activeLink=new ad(Qe,this),Qe.deps?(n.prevDep=Qe.depsTail,Qe.depsTail.nextDep=n,Qe.depsTail=n):Qe.deps=Qe.depsTail=n,Nc(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const l=n.nextDep;l.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=l),n.prevDep=Qe.depsTail,n.nextDep=void 0,Qe.depsTail.nextDep=n,Qe.depsTail=n,Qe.deps===n&&(Qe.deps=l)}return n}trigger(t){this.version++,Fs++,this.notify(t)}notify(t){ei();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{ti()}}}function Nc(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let l=t.deps;l;l=l.nextDep)Nc(l)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Eo=new WeakMap,yl=Symbol(""),Ao=Symbol(""),Is=Symbol("");function Pt(e,t,n){if(gn&&Qe){let l=Eo.get(e);l||Eo.set(e,l=new Map);let s=l.get(n);s||(l.set(n,s=new li),s.map=l,s.key=n),s.track()}}function Rn(e,t,n,l,s,r){const o=Eo.get(e);if(!o){Fs++;return}const i=c=>{c&&c.trigger()};if(ei(),t==="clear")o.forEach(i);else{const c=_e(e),f=c&&Qo(n);if(c&&n==="length"){const d=Number(l);o.forEach((h,v)=>{(v==="length"||v===Is||!Bn(v)&&v>=d)&&i(h)})}else switch((n!==void 0||o.has(void 0))&&i(o.get(n)),f&&i(o.get(Is)),t){case"add":c?f&&i(o.get("length")):(i(o.get(yl)),Kl(e)&&i(o.get(Ao)));break;case"delete":c||(i(o.get(yl)),Kl(e)&&i(o.get(Ao)));break;case"set":Kl(e)&&i(o.get(yl));break}}ti()}function $l(e){const t=He(e);return t===e?t:(Pt(t,"iterate",Is),rn(e)?t:t.map(pn))}function Cr(e){return Pt(e=He(e),"iterate",Is),e}function Yn(e,t){return zn(e)?xl(e)?Zl(pn(t)):Zl(t):pn(t)}const cd={__proto__:null,[Symbol.iterator](){return co(this,Symbol.iterator,e=>Yn(this,e))},concat(...e){return $l(this).concat(...e.map(t=>_e(t)?$l(t):t))},entries(){return co(this,"entries",e=>(e[1]=Yn(this,e[1]),e))},every(e,t){return Pn(this,"every",e,t,void 0,arguments)},filter(e,t){return Pn(this,"filter",e,t,n=>n.map(l=>Yn(this,l)),arguments)},find(e,t){return Pn(this,"find",e,t,n=>Yn(this,n),arguments)},findIndex(e,t){return Pn(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Pn(this,"findLast",e,t,n=>Yn(this,n),arguments)},findLastIndex(e,t){return Pn(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Pn(this,"forEach",e,t,void 0,arguments)},includes(...e){return uo(this,"includes",e)},indexOf(...e){return uo(this,"indexOf",e)},join(e){return $l(this).join(e)},lastIndexOf(...e){return uo(this,"lastIndexOf",e)},map(e,t){return Pn(this,"map",e,t,void 0,arguments)},pop(){return gs(this,"pop")},push(...e){return gs(this,"push",e)},reduce(e,...t){return ia(this,"reduce",e,t)},reduceRight(e,...t){return ia(this,"reduceRight",e,t)},shift(){return gs(this,"shift")},some(e,t){return Pn(this,"some",e,t,void 0,arguments)},splice(...e){return gs(this,"splice",e)},toReversed(){return $l(this).toReversed()},toSorted(e){return $l(this).toSorted(e)},toSpliced(...e){return $l(this).toSpliced(...e)},unshift(...e){return gs(this,"unshift",e)},values(){return co(this,"values",e=>Yn(this,e))}};function co(e,t,n){const l=Cr(e),s=l[t]();return l!==e&&!rn(e)&&(s._next=s.next,s.next=()=>{const r=s._next();return r.done||(r.value=n(r.value)),r}),s}const ud=Array.prototype;function Pn(e,t,n,l,s,r){const o=Cr(e),i=o!==e&&!rn(e),c=o[t];if(c!==ud[t]){const h=c.apply(e,r);return i?pn(h):h}let f=n;o!==e&&(i?f=function(h,v){return n.call(this,Yn(e,h),v,e)}:n.length>2&&(f=function(h,v){return n.call(this,h,v,e)}));const d=c.call(o,f,l);return i&&s?s(d):d}function ia(e,t,n,l){const s=Cr(e);let r=n;return s!==e&&(rn(e)?n.length>3&&(r=function(o,i,c){return n.call(this,o,i,c,e)}):r=function(o,i,c){return n.call(this,o,Yn(e,i),c,e)}),s[t](r,...l)}function uo(e,t,n){const l=He(e);Pt(l,"iterate",Is);const s=l[t](...n);return(s===-1||s===!1)&&ii(n[0])?(n[0]=He(n[0]),l[t](...n)):s}function gs(e,t,n=[]){On(),ei();const l=He(e)[t].apply(e,n);return ti(),Vn(),l}const fd=qo("__proto__,__v_isRef,__isVue"),Hc=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Bn));function dd(e){Bn(e)||(e=String(e));const t=He(this);return Pt(t,"has",e),t.hasOwnProperty(e)}class Wc{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,l){if(n==="__v_skip")return t.__v_skip;const s=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return r;if(n==="__v_raw")return l===(s?r?Sd:Yc:r?Gc:Kc).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(l)?t:void 0;const o=_e(t);if(!s){let c;if(o&&(c=cd[n]))return c;if(n==="hasOwnProperty")return dd}const i=Reflect.get(t,n,Rt(t)?t:l);if((Bn(n)?Hc.has(n):fd(n))||(s||Pt(t,"get",n),r))return i;if(Rt(i)){const c=o&&Qo(n)?i:i.value;return s&&rt(c)?_o(c):c}return rt(i)?s?_o(i):ri(i):i}}class jc extends Wc{constructor(t=!1){super(!1,t)}set(t,n,l,s){let r=t[n];const o=_e(t)&&Qo(n);if(!this._isShallow){const f=zn(r);if(!rn(l)&&!zn(l)&&(r=He(r),l=He(l)),!o&&Rt(r)&&!Rt(l))return f||(r.value=l),!0}const i=o?Number(n)<t.length:We(t,n),c=Reflect.set(t,n,l,Rt(t)?t:s);return t===He(s)&&(i?tl(l,r)&&Rn(t,"set",n,l):Rn(t,"add",n,l)),c}deleteProperty(t,n){const l=We(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&l&&Rn(t,"delete",n,void 0),s}has(t,n){const l=Reflect.has(t,n);return(!Bn(n)||!Hc.has(n))&&Pt(t,"has",n),l}ownKeys(t){return Pt(t,"iterate",_e(t)?"length":yl),Reflect.ownKeys(t)}}class hd extends Wc{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const gd=new jc,pd=new hd,md=new jc(!0);const Po=e=>e,Zs=e=>Reflect.getPrototypeOf(e);function vd(e,t,n){return function(...l){const s=this.__v_raw,r=He(s),o=Kl(r),i=e==="entries"||e===Symbol.iterator&&o,c=e==="keys"&&o,f=s[e](...l),d=n?Po:t?Zl:pn;return!t&&Pt(r,"iterate",c?Ao:yl),{next(){const{value:h,done:v}=f.next();return v?{value:h,done:v}:{value:i?[d(h[0]),d(h[1])]:d(h),done:v}},[Symbol.iterator](){return this}}}}function Qs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function bd(e,t){const n={get(s){const r=this.__v_raw,o=He(r),i=He(s);e||(tl(s,i)&&Pt(o,"get",s),Pt(o,"get",i));const{has:c}=Zs(o),f=t?Po:e?Zl:pn;if(c.call(o,s))return f(r.get(s));if(c.call(o,i))return f(r.get(i));r!==o&&r.get(s)},get size(){const s=this.__v_raw;return!e&&Pt(He(s),"iterate",yl),s.size},has(s){const r=this.__v_raw,o=He(r),i=He(s);return e||(tl(s,i)&&Pt(o,"has",s),Pt(o,"has",i)),s===i?r.has(s):r.has(s)||r.has(i)},forEach(s,r){const o=this,i=o.__v_raw,c=He(i),f=t?Po:e?Zl:pn;return!e&&Pt(c,"iterate",yl),i.forEach((d,h)=>s.call(r,f(d),f(h),o))}};return Ft(n,e?{add:Qs("add"),set:Qs("set"),delete:Qs("delete"),clear:Qs("clear")}:{add(s){!t&&!rn(s)&&!zn(s)&&(s=He(s));const r=He(this);return Zs(r).has.call(r,s)||(r.add(s),Rn(r,"add",s,s)),this},set(s,r){!t&&!rn(r)&&!zn(r)&&(r=He(r));const o=He(this),{has:i,get:c}=Zs(o);let f=i.call(o,s);f||(s=He(s),f=i.call(o,s));const d=c.call(o,s);return o.set(s,r),f?tl(r,d)&&Rn(o,"set",s,r):Rn(o,"add",s,r),this},delete(s){const r=He(this),{has:o,get:i}=Zs(r);let c=o.call(r,s);c||(s=He(s),c=o.call(r,s)),i&&i.call(r,s);const f=r.delete(s);return c&&Rn(r,"delete",s,void 0),f},clear(){const s=He(this),r=s.size!==0,o=s.clear();return r&&Rn(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=vd(s,e,t)}),n}function si(e,t){const n=bd(e,t);return(l,s,r)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?l:Reflect.get(We(n,s)&&s in l?n:l,s,r)}const yd={get:si(!1,!1)},xd={get:si(!1,!0)},wd={get:si(!0,!1)};const Kc=new WeakMap,Gc=new WeakMap,Yc=new WeakMap,Sd=new WeakMap;function Cd(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function kd(e){return e.__v_skip||!Object.isExtensible(e)?0:Cd(Jf(e))}function ri(e){return zn(e)?e:oi(e,!1,gd,yd,Kc)}function Dd(e){return oi(e,!1,md,xd,Gc)}function _o(e){return oi(e,!0,pd,wd,Yc)}function oi(e,t,n,l,s){if(!rt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=kd(e);if(r===0)return e;const o=s.get(e);if(o)return o;const i=new Proxy(e,r===2?l:n);return s.set(e,i),i}function xl(e){return zn(e)?xl(e.__v_raw):!!(e&&e.__v_isReactive)}function zn(e){return!!(e&&e.__v_isReadonly)}function rn(e){return!!(e&&e.__v_isShallow)}function ii(e){return e?!!e.__v_raw:!1}function He(e){const t=e&&e.__v_raw;return t?He(t):e}function Md(e){return!We(e,"__v_skip")&&Object.isExtensible(e)&&_c(e,"__v_skip",!0),e}const pn=e=>rt(e)?ri(e):e,Zl=e=>rt(e)?_o(e):e;function Rt(e){return e?e.__v_isRef===!0:!1}function ve(e){return qc(e,!1)}function Ls(e){return qc(e,!0)}function qc(e,t){return Rt(e)?e:new Td(e,t)}class Td{constructor(t,n){this.dep=new li,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:He(t),this._value=n?t:pn(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,l=this.__v_isShallow||rn(t)||zn(t);t=l?t:He(t),tl(t,n)&&(this._rawValue=t,this._value=l?t:pn(t),this.dep.trigger())}}function Se(e){return Rt(e)?e.value:e}const Ed={get:(e,t,n)=>t==="__v_raw"?e:Se(Reflect.get(e,t,n)),set:(e,t,n,l)=>{const s=e[t];return Rt(s)&&!Rt(n)?(s.value=n,!0):Reflect.set(e,t,n,l)}};function Jc(e){return xl(e)?e:new Proxy(e,Ed)}class Ad{constructor(t,n,l){this.fn=t,this.setter=n,this._value=void 0,this.dep=new li(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Fs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=l}notify(){if(this.flags|=16,!(this.flags&8)&&Qe!==this)return Oc(this,!0),!0}get value(){const t=this.dep.track();return $c(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Pd(e,t,n=!1){let l,s;return Fe(e)?l=e:(l=e.get,s=e.set),new Ad(l,s,n)}const Xs={},ur=new WeakMap;let pl;function _d(e,t=!1,n=pl){if(n){let l=ur.get(n);l||ur.set(n,l=[]),l.push(e)}}function Rd(e,t,n=qe){const{immediate:l,deep:s,once:r,scheduler:o,augmentJob:i,call:c}=n,f=S=>s?S:rn(S)||s===!1||s===0?Fn(S,1):Fn(S);let d,h,v,b,C=!1,E=!1;if(Rt(e)?(h=()=>e.value,C=rn(e)):xl(e)?(h=()=>f(e),C=!0):_e(e)?(E=!0,C=e.some(S=>xl(S)||rn(S)),h=()=>e.map(S=>{if(Rt(S))return S.value;if(xl(S))return f(S);if(Fe(S))return c?c(S,2):S()})):Fe(e)?t?h=c?()=>c(e,2):e:h=()=>{if(v){On();try{v()}finally{Vn()}}const S=pl;pl=d;try{return c?c(e,3,[b]):e(b)}finally{pl=S}}:h=Dn,t&&s){const S=h,oe=s===!0?1/0:s;h=()=>Fn(S(),oe)}const V=od(),$=()=>{d.stop(),V&&V.active&&Zo(V.effects,d)};if(r&&t){const S=t;t=(...oe)=>{S(...oe),$()}}let _=E?new Array(e.length).fill(Xs):Xs;const P=S=>{if(!(!(d.flags&1)||!d.dirty&&!S))if(t){const oe=d.run();if(s||C||(E?oe.some((te,de)=>tl(te,_[de])):tl(oe,_))){v&&v();const te=pl;pl=d;try{const de=[oe,_===Xs?void 0:E&&_[0]===Xs?[]:_,b];_=oe,c?c(t,3,de):t(...de)}finally{pl=te}}}else d.run()};return i&&i(P),d=new Lc(h),d.scheduler=o?()=>o(P,!1):P,b=S=>_d(S,!1,d),v=d.onStop=()=>{const S=ur.get(d);if(S){if(c)c(S,4);else for(const oe of S)oe();ur.delete(d)}},t?l?P(!0):_=d.run():o?o(P.bind(null,!0),!0):d.run(),$.pause=d.pause.bind(d),$.resume=d.resume.bind(d),$.stop=$,$}function Fn(e,t=1/0,n){if(t<=0||!rt(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,Rt(e))Fn(e.value,t,n);else if(_e(e))for(let l=0;l<e.length;l++)Fn(e[l],t,n);else if(Mc(e)||Kl(e))e.forEach(l=>{Fn(l,t,n)});else if(Ac(e)){for(const l in e)Fn(e[l],t,n);for(const l of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,l)&&Fn(e[l],t,n)}return e}/**
* @vue/runtime-core v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Bs(e,t,n,l){try{return l?e(...l):e()}catch(s){kr(s,t,n)}}function Tn(e,t,n,l){if(Fe(e)){const s=Bs(e,t,n,l);return s&&Tc(s)&&s.catch(r=>{kr(r,t,n)}),s}if(_e(e)){const s=[];for(let r=0;r<e.length;r++)s.push(Tn(e[r],t,n,l));return s}}function kr(e,t,n,l=!0){const s=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||qe;if(t){let i=t.parent;const c=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${n}`;for(;i;){const d=i.ec;if(d){for(let h=0;h<d.length;h++)if(d[h](e,c,f)===!1)return}i=i.parent}if(r){On(),Bs(r,null,10,[e,c,f]),Vn();return}}Fd(e,n,s,l,o)}function Fd(e,t,n,l=!0,s=!1){if(s)throw e;console.error(e)}const Vt=[];let Cn=-1;const Gl=[];let qn=null,Nl=0;const Zc=Promise.resolve();let fr=null;function Ro(e){const t=fr||Zc;return e?t.then(this?e.bind(this):e):t}function Id(e){let t=Cn+1,n=Vt.length;for(;t<n;){const l=t+n>>>1,s=Vt[l],r=Us(s);r<e||r===e&&s.flags&2?t=l+1:n=l}return t}function ai(e){if(!(e.flags&1)){const t=Us(e),n=Vt[Vt.length-1];!n||!(e.flags&2)&&t>=Us(n)?Vt.push(e):Vt.splice(Id(t),0,e),e.flags|=1,Qc()}}function Qc(){fr||(fr=Zc.then(eu))}function Ld(e){_e(e)?Gl.push(...e):qn&&e.id===-1?qn.splice(Nl+1,0,e):e.flags&1||(Gl.push(e),e.flags|=1),Qc()}function aa(e,t,n=Cn+1){for(;n<Vt.length;n++){const l=Vt[n];if(l&&l.flags&2){if(e&&l.id!==e.uid)continue;Vt.splice(n,1),n--,l.flags&4&&(l.flags&=-2),l(),l.flags&4||(l.flags&=-2)}}}function Xc(e){if(Gl.length){const t=[...new Set(Gl)].sort((n,l)=>Us(n)-Us(l));if(Gl.length=0,qn){qn.push(...t);return}for(qn=t,Nl=0;Nl<qn.length;Nl++){const n=qn[Nl];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}qn=null,Nl=0}}const Us=e=>e.id==null?e.flags&2?-1:1/0:e.id;function eu(e){try{for(Cn=0;Cn<Vt.length;Cn++){const t=Vt[Cn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Bs(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Cn<Vt.length;Cn++){const t=Vt[Cn];t&&(t.flags&=-2)}Cn=-1,Vt.length=0,Xc(),fr=null,(Vt.length||Gl.length)&&eu()}}let _t=null,tu=null;function dr(e){const t=_t;return _t=e,tu=e&&e.type.__scopeId||null,t}function nu(e,t=_t,n){if(!t||e._n)return e;const l=(...s)=>{l._d&&ba(-1);const r=dr(t);let o;try{o=e(...s)}finally{dr(r),l._d&&ba(1)}return o};return l._n=!0,l._c=!0,l._d=!0,l}function Qn(e,t){if(_t===null)return e;const n=Ar(_t),l=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[r,o,i,c=qe]=t[s];r&&(Fe(r)&&(r={mounted:r,updated:r}),r.deep&&Fn(o),l.push({dir:r,instance:n,value:o,oldValue:void 0,arg:i,modifiers:c}))}return e}function hl(e,t,n,l){const s=e.dirs,r=t&&t.dirs;for(let o=0;o<s.length;o++){const i=s[o];r&&(i.oldValue=r[o].value);let c=i.dir[l];c&&(On(),Tn(c,n,8,[e.el,i,e,t]),Vn())}}function bs(e,t){if(zt){let n=zt.provides;const l=zt.parent&&zt.parent.provides;l===n&&(n=zt.provides=Object.create(l)),n[e]=t}}function rr(e,t,n=!1){const l=I0();if(l||ql){let s=ql?ql._context.provides:l?l.parent==null||l.ce?l.vnode.appContext&&l.vnode.appContext.provides:l.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&Fe(t)?t.call(l&&l.proxy):t}}const Ud=Symbol.for("v-scx"),Od=()=>rr(Ud);function ct(e,t,n){return lu(e,t,n)}function lu(e,t,n=qe){const{immediate:l,deep:s,flush:r,once:o}=n,i=Ft({},n),c=t&&l||!t&&r!=="post";let f;if(zs){if(r==="sync"){const b=Od();f=b.__watcherHandles||(b.__watcherHandles=[])}else if(!c){const b=()=>{};return b.stop=Dn,b.resume=Dn,b.pause=Dn,b}}const d=zt;i.call=(b,C,E)=>Tn(b,d,C,E);let h=!1;r==="post"?i.scheduler=b=>{Yt(b,d&&d.suspense)}:r!=="sync"&&(h=!0,i.scheduler=(b,C)=>{C?b():ai(b)}),i.augmentJob=b=>{t&&(b.flags|=4),h&&(b.flags|=2,d&&(b.id=d.uid,b.i=d))};const v=Rd(e,t,i);return zs&&(f?f.push(v):c&&v()),v}function Vd(e,t,n){const l=this.proxy,s=pt(e)?e.includes(".")?su(l,e):()=>l[e]:e.bind(l,l);let r;Fe(t)?r=t:(r=t.handler,n=t);const o=Ns(this),i=lu(s,r.bind(l),n);return o(),i}function su(e,t){const n=t.split(".");return()=>{let l=e;for(let s=0;s<n.length&&l;s++)l=l[n[s]];return l}}const zd=Symbol("_vte"),$d=e=>e.__isTeleport,Bd=Symbol("_leaveCb");function ci(e,t){e.shapeFlag&6&&e.component?(e.transition=t,ci(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Cl(e,t){return Fe(e)?Ft({name:e.name},t,{setup:e}):e}function ru(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const hr=new WeakMap;function Ms(e,t,n,l,s=!1){if(_e(e)){e.forEach((C,E)=>Ms(C,t&&(_e(t)?t[E]:t),n,l,s));return}if(Yl(l)&&!s){l.shapeFlag&512&&l.type.__asyncResolved&&l.component.subTree.component&&Ms(e,t,n,l.component.subTree);return}const r=l.shapeFlag&4?Ar(l.component):l.el,o=s?null:r,{i,r:c}=e,f=t&&t.r,d=i.refs===qe?i.refs={}:i.refs,h=i.setupState,v=He(h),b=h===qe?Dc:C=>We(v,C);if(f!=null&&f!==c){if(ca(t),pt(f))d[f]=null,b(f)&&(h[f]=null);else if(Rt(f)){f.value=null;const C=t;C.k&&(d[C.k]=null)}}if(Fe(c))Bs(c,i,12,[o,d]);else{const C=pt(c),E=Rt(c);if(C||E){const V=()=>{if(e.f){const $=C?b(c)?h[c]:d[c]:c.value;if(s)_e($)&&Zo($,r);else if(_e($))$.includes(r)||$.push(r);else if(C)d[c]=[r],b(c)&&(h[c]=d[c]);else{const _=[r];c.value=_,e.k&&(d[e.k]=_)}}else C?(d[c]=o,b(c)&&(h[c]=o)):E&&(c.value=o,e.k&&(d[e.k]=o))};if(o){const $=()=>{V(),hr.delete(e)};$.id=-1,hr.set(e,$),Yt($,n)}else ca(e),V()}}}function ca(e){const t=hr.get(e);t&&(t.flags|=8,hr.delete(e))}Sr().requestIdleCallback;Sr().cancelIdleCallback;const Yl=e=>!!e.type.__asyncLoader,ou=e=>e.type.__isKeepAlive;function Nd(e,t){iu(e,"a",t)}function Hd(e,t){iu(e,"da",t)}function iu(e,t,n=zt){const l=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Dr(t,l,n),n){let s=n.parent;for(;s&&s.parent;)ou(s.parent.vnode)&&Wd(l,t,n,s),s=s.parent}}function Wd(e,t,n,l){const s=Dr(t,e,l,!0);Mr(()=>{Zo(l[t],s)},n)}function Dr(e,t,n=zt,l=!1){if(n){const s=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...o)=>{On();const i=Ns(n),c=Tn(t,n,e,o);return i(),Vn(),c});return l?s.unshift(r):s.push(r),r}}const Nn=e=>(t,n=zt)=>{(!zs||e==="sp")&&Dr(e,(...l)=>t(...l),n)},jd=Nn("bm"),ui=Nn("m"),Kd=Nn("bu"),Gd=Nn("u"),Yd=Nn("bum"),Mr=Nn("um"),qd=Nn("sp"),Jd=Nn("rtg"),Zd=Nn("rtc");function Qd(e,t=zt){Dr("ec",e,t)}const Xd=Symbol.for("v-ndc");function Ql(e,t,n,l){let s;const r=n,o=_e(e);if(o||pt(e)){const i=o&&xl(e);let c=!1,f=!1;i&&(c=!rn(e),f=zn(e),e=Cr(e)),s=new Array(e.length);for(let d=0,h=e.length;d<h;d++)s[d]=t(c?f?Zl(pn(e[d])):pn(e[d]):e[d],d,void 0,r)}else if(typeof e=="number"){s=new Array(e);for(let i=0;i<e;i++)s[i]=t(i+1,i,void 0,r)}else if(rt(e))if(e[Symbol.iterator])s=Array.from(e,(i,c)=>t(i,c,void 0,r));else{const i=Object.keys(e);s=new Array(i.length);for(let c=0,f=i.length;c<f;c++){const d=i[c];s[c]=t(e[d],d,c,r)}}else s=[];return s}function e0(e,t,n={},l,s){if(_t.ce||_t.parent&&Yl(_t.parent)&&_t.parent.ce){const f=Object.keys(n).length>0;return n.name=t,xe(),Vs(gt,null,[Wt("slot",n,l)],f?-2:64)}let r=e[t];r&&r._c&&(r._d=!1),xe();const o=r&&au(r(n)),i=n.key||o&&o.key,c=Vs(gt,{key:(i&&!Bn(i)?i:`_${t}`)+(!o&&l?"_fb":"")},o||[],o&&e._===1?64:-2);return r&&r._c&&(r._d=!0),c}function au(e){return e.some(t=>hi(t)?!(t.type===$n||t.type===gt&&!au(t.children)):!0)?e:null}const Fo=e=>e?Tu(e)?Ar(e):Fo(e.parent):null,Ts=Ft(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Fo(e.parent),$root:e=>Fo(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>uu(e),$forceUpdate:e=>e.f||(e.f=()=>{ai(e.update)}),$nextTick:e=>e.n||(e.n=Ro.bind(e.proxy)),$watch:e=>Vd.bind(e)}),fo=(e,t)=>e!==qe&&!e.__isScriptSetup&&We(e,t),t0={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:l,data:s,props:r,accessCache:o,type:i,appContext:c}=e;if(t[0]!=="$"){const v=o[t];if(v!==void 0)switch(v){case 1:return l[t];case 2:return s[t];case 4:return n[t];case 3:return r[t]}else{if(fo(l,t))return o[t]=1,l[t];if(s!==qe&&We(s,t))return o[t]=2,s[t];if(We(r,t))return o[t]=3,r[t];if(n!==qe&&We(n,t))return o[t]=4,n[t];Io&&(o[t]=0)}}const f=Ts[t];let d,h;if(f)return t==="$attrs"&&Pt(e.attrs,"get",""),f(e);if((d=i.__cssModules)&&(d=d[t]))return d;if(n!==qe&&We(n,t))return o[t]=4,n[t];if(h=c.config.globalProperties,We(h,t))return h[t]},set({_:e},t,n){const{data:l,setupState:s,ctx:r}=e;return fo(s,t)?(s[t]=n,!0):l!==qe&&We(l,t)?(l[t]=n,!0):We(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:l,appContext:s,props:r,type:o}},i){let c;return!!(n[i]||e!==qe&&i[0]!=="$"&&We(e,i)||fo(t,i)||We(r,i)||We(l,i)||We(Ts,i)||We(s.config.globalProperties,i)||(c=o.__cssModules)&&c[i])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:We(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function ua(e){return _e(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Io=!0;function n0(e){const t=uu(e),n=e.proxy,l=e.ctx;Io=!1,t.beforeCreate&&fa(t.beforeCreate,e,"bc");const{data:s,computed:r,methods:o,watch:i,provide:c,inject:f,created:d,beforeMount:h,mounted:v,beforeUpdate:b,updated:C,activated:E,deactivated:V,beforeDestroy:$,beforeUnmount:_,destroyed:P,unmounted:S,render:oe,renderTracked:te,renderTriggered:de,errorCaptured:he,serverPrefetch:ge,expose:pe,inheritAttrs:J,components:ye,directives:re,filters:ne}=t;if(f&&l0(f,l,null),o)for(const w in o){const j=o[w];Fe(j)&&(l[w]=j.bind(n))}if(s){const w=s.call(n,n);rt(w)&&(e.data=ri(w))}if(Io=!0,r)for(const w in r){const j=r[w],K=Fe(j)?j.bind(n,n):Fe(j.get)?j.get.bind(n,n):Dn,X=!Fe(j)&&Fe(j.set)?j.set.bind(n):Dn,se=ll({get:K,set:X});Object.defineProperty(l,w,{enumerable:!0,configurable:!0,get:()=>se.value,set:Q=>se.value=Q})}if(i)for(const w in i)cu(i[w],l,n,w);if(c){const w=Fe(c)?c.call(n):c;Reflect.ownKeys(w).forEach(j=>{bs(j,w[j])})}d&&fa(d,e,"c");function N(w,j){_e(j)?j.forEach(K=>w(K.bind(n))):j&&w(j.bind(n))}if(N(jd,h),N(ui,v),N(Kd,b),N(Gd,C),N(Nd,E),N(Hd,V),N(Qd,he),N(Zd,te),N(Jd,de),N(Yd,_),N(Mr,S),N(qd,ge),_e(pe))if(pe.length){const w=e.exposed||(e.exposed={});pe.forEach(j=>{Object.defineProperty(w,j,{get:()=>n[j],set:K=>n[j]=K,enumerable:!0})})}else e.exposed||(e.exposed={});oe&&e.render===Dn&&(e.render=oe),J!=null&&(e.inheritAttrs=J),ye&&(e.components=ye),re&&(e.directives=re),ge&&ru(e)}function l0(e,t,n=Dn){_e(e)&&(e=Lo(e));for(const l in e){const s=e[l];let r;rt(s)?"default"in s?r=rr(s.from||l,s.default,!0):r=rr(s.from||l):r=rr(s),Rt(r)?Object.defineProperty(t,l,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):t[l]=r}}function fa(e,t,n){Tn(_e(e)?e.map(l=>l.bind(t.proxy)):e.bind(t.proxy),t,n)}function cu(e,t,n,l){let s=l.includes(".")?su(n,l):()=>n[l];if(pt(e)){const r=t[e];Fe(r)&&ct(s,r)}else if(Fe(e))ct(s,e.bind(n));else if(rt(e))if(_e(e))e.forEach(r=>cu(r,t,n,l));else{const r=Fe(e.handler)?e.handler.bind(n):t[e.handler];Fe(r)&&ct(s,r,e)}}function uu(e){const t=e.type,{mixins:n,extends:l}=t,{mixins:s,optionsCache:r,config:{optionMergeStrategies:o}}=e.appContext,i=r.get(t);let c;return i?c=i:!s.length&&!n&&!l?c=t:(c={},s.length&&s.forEach(f=>gr(c,f,o,!0)),gr(c,t,o)),rt(t)&&r.set(t,c),c}function gr(e,t,n,l=!1){const{mixins:s,extends:r}=t;r&&gr(e,r,n,!0),s&&s.forEach(o=>gr(e,o,n,!0));for(const o in t)if(!(l&&o==="expose")){const i=s0[o]||n&&n[o];e[o]=i?i(e[o],t[o]):t[o]}return e}const s0={data:da,props:ha,emits:ha,methods:ys,computed:ys,beforeCreate:Ot,created:Ot,beforeMount:Ot,mounted:Ot,beforeUpdate:Ot,updated:Ot,beforeDestroy:Ot,beforeUnmount:Ot,destroyed:Ot,unmounted:Ot,activated:Ot,deactivated:Ot,errorCaptured:Ot,serverPrefetch:Ot,components:ys,directives:ys,watch:o0,provide:da,inject:r0};function da(e,t){return t?e?function(){return Ft(Fe(e)?e.call(this,this):e,Fe(t)?t.call(this,this):t)}:t:e}function r0(e,t){return ys(Lo(e),Lo(t))}function Lo(e){if(_e(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ot(e,t){return e?[...new Set([].concat(e,t))]:t}function ys(e,t){return e?Ft(Object.create(null),e,t):t}function ha(e,t){return e?_e(e)&&_e(t)?[...new Set([...e,...t])]:Ft(Object.create(null),ua(e),ua(t??{})):t}function o0(e,t){if(!e)return t;if(!t)return e;const n=Ft(Object.create(null),e);for(const l in t)n[l]=Ot(e[l],t[l]);return n}function fu(){return{app:null,config:{isNativeTag:Dc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let i0=0;function a0(e,t){return function(l,s=null){Fe(l)||(l=Ft({},l)),s!=null&&!rt(s)&&(s=null);const r=fu(),o=new WeakSet,i=[];let c=!1;const f=r.app={_uid:i0++,_component:l,_props:s,_container:null,_context:r,_instance:null,version:$0,get config(){return r.config},set config(d){},use(d,...h){return o.has(d)||(d&&Fe(d.install)?(o.add(d),d.install(f,...h)):Fe(d)&&(o.add(d),d(f,...h))),f},mixin(d){return r.mixins.includes(d)||r.mixins.push(d),f},component(d,h){return h?(r.components[d]=h,f):r.components[d]},directive(d,h){return h?(r.directives[d]=h,f):r.directives[d]},mount(d,h,v){if(!c){const b=f._ceVNode||Wt(l,s);return b.appContext=r,v===!0?v="svg":v===!1&&(v=void 0),e(b,d,v),c=!0,f._container=d,d.__vue_app__=f,Ar(b.component)}},onUnmount(d){i.push(d)},unmount(){c&&(Tn(i,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(d,h){return r.provides[d]=h,f},runWithContext(d){const h=ql;ql=f;try{return d()}finally{ql=h}}};return f}}let ql=null;const c0=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${nl(t)}Modifiers`]||e[`${rl(t)}Modifiers`];function u0(e,t,...n){if(e.isUnmounted)return;const l=e.vnode.props||qe;let s=n;const r=t.startsWith("update:"),o=r&&c0(l,t.slice(7));o&&(o.trim&&(s=n.map(d=>pt(d)?d.trim():d)),o.number&&(s=n.map(Xo)));let i,c=l[i=oo(t)]||l[i=oo(nl(t))];!c&&r&&(c=l[i=oo(rl(t))]),c&&Tn(c,e,6,s);const f=l[i+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[i])return;e.emitted[i]=!0,Tn(f,e,6,s)}}const f0=new WeakMap;function du(e,t,n=!1){const l=n?f0:t.emitsCache,s=l.get(e);if(s!==void 0)return s;const r=e.emits;let o={},i=!1;if(!Fe(e)){const c=f=>{const d=du(f,t,!0);d&&(i=!0,Ft(o,d))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!r&&!i?(rt(e)&&l.set(e,null),null):(_e(r)?r.forEach(c=>o[c]=null):Ft(o,r),rt(e)&&l.set(e,o),o)}function Tr(e,t){return!e||!yr(t)?!1:(t=t.slice(2).replace(/Once$/,""),We(e,t[0].toLowerCase()+t.slice(1))||We(e,rl(t))||We(e,t))}function ga(e){const{type:t,vnode:n,proxy:l,withProxy:s,propsOptions:[r],slots:o,attrs:i,emit:c,render:f,renderCache:d,props:h,data:v,setupState:b,ctx:C,inheritAttrs:E}=e,V=dr(e);let $,_;try{if(n.shapeFlag&4){const S=s||l,oe=S;$=kn(f.call(oe,S,d,h,b,v,C)),_=i}else{const S=t;$=kn(S.length>1?S(h,{attrs:i,slots:o,emit:c}):S(h,null)),_=t.props?i:d0(i)}}catch(S){Es.length=0,kr(S,e,1),$=Wt($n)}let P=$;if(_&&E!==!1){const S=Object.keys(_),{shapeFlag:oe}=P;S.length&&oe&7&&(r&&S.some(Jo)&&(_=h0(_,r)),P=Xl(P,_,!1,!0))}return n.dirs&&(P=Xl(P,null,!1,!0),P.dirs=P.dirs?P.dirs.concat(n.dirs):n.dirs),n.transition&&ci(P,n.transition),$=P,dr(V),$}const d0=e=>{let t;for(const n in e)(n==="class"||n==="style"||yr(n))&&((t||(t={}))[n]=e[n]);return t},h0=(e,t)=>{const n={};for(const l in e)(!Jo(l)||!(l.slice(9)in t))&&(n[l]=e[l]);return n};function g0(e,t,n){const{props:l,children:s,component:r}=e,{props:o,children:i,patchFlag:c}=t,f=r.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return l?pa(l,o,f):!!o;if(c&8){const d=t.dynamicProps;for(let h=0;h<d.length;h++){const v=d[h];if(o[v]!==l[v]&&!Tr(f,v))return!0}}}else return(s||i)&&(!i||!i.$stable)?!0:l===o?!1:l?o?pa(l,o,f):!0:!!o;return!1}function pa(e,t,n){const l=Object.keys(t);if(l.length!==Object.keys(e).length)return!0;for(let s=0;s<l.length;s++){const r=l[s];if(t[r]!==e[r]&&!Tr(n,r))return!0}return!1}function p0({vnode:e,parent:t},n){for(;t;){const l=t.subTree;if(l.suspense&&l.suspense.activeBranch===e&&(l.el=e.el),l===e)(e=t.vnode).el=n,t=t.parent;else break}}const hu={},gu=()=>Object.create(hu),pu=e=>Object.getPrototypeOf(e)===hu;function m0(e,t,n,l=!1){const s={},r=gu();e.propsDefaults=Object.create(null),mu(e,t,s,r);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);n?e.props=l?s:Dd(s):e.type.props?e.props=s:e.props=r,e.attrs=r}function v0(e,t,n,l){const{props:s,attrs:r,vnode:{patchFlag:o}}=e,i=He(s),[c]=e.propsOptions;let f=!1;if((l||o>0)&&!(o&16)){if(o&8){const d=e.vnode.dynamicProps;for(let h=0;h<d.length;h++){let v=d[h];if(Tr(e.emitsOptions,v))continue;const b=t[v];if(c)if(We(r,v))b!==r[v]&&(r[v]=b,f=!0);else{const C=nl(v);s[C]=Uo(c,i,C,b,e,!1)}else b!==r[v]&&(r[v]=b,f=!0)}}}else{mu(e,t,s,r)&&(f=!0);let d;for(const h in i)(!t||!We(t,h)&&((d=rl(h))===h||!We(t,d)))&&(c?n&&(n[h]!==void 0||n[d]!==void 0)&&(s[h]=Uo(c,i,h,void 0,e,!0)):delete s[h]);if(r!==i)for(const h in r)(!t||!We(t,h))&&(delete r[h],f=!0)}f&&Rn(e.attrs,"set","")}function mu(e,t,n,l){const[s,r]=e.propsOptions;let o=!1,i;if(t)for(let c in t){if(Cs(c))continue;const f=t[c];let d;s&&We(s,d=nl(c))?!r||!r.includes(d)?n[d]=f:(i||(i={}))[d]=f:Tr(e.emitsOptions,c)||(!(c in l)||f!==l[c])&&(l[c]=f,o=!0)}if(r){const c=He(n),f=i||qe;for(let d=0;d<r.length;d++){const h=r[d];n[h]=Uo(s,c,h,f[h],e,!We(f,h))}}return o}function Uo(e,t,n,l,s,r){const o=e[n];if(o!=null){const i=We(o,"default");if(i&&l===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&Fe(c)){const{propsDefaults:f}=s;if(n in f)l=f[n];else{const d=Ns(s);l=f[n]=c.call(null,t),d()}}else l=c;s.ce&&s.ce._setProp(n,l)}o[0]&&(r&&!i?l=!1:o[1]&&(l===""||l===rl(n))&&(l=!0))}return l}const b0=new WeakMap;function vu(e,t,n=!1){const l=n?b0:t.propsCache,s=l.get(e);if(s)return s;const r=e.props,o={},i=[];let c=!1;if(!Fe(e)){const d=h=>{c=!0;const[v,b]=vu(h,t,!0);Ft(o,v),b&&i.push(...b)};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!r&&!c)return rt(e)&&l.set(e,jl),jl;if(_e(r))for(let d=0;d<r.length;d++){const h=nl(r[d]);ma(h)&&(o[h]=qe)}else if(r)for(const d in r){const h=nl(d);if(ma(h)){const v=r[d],b=o[h]=_e(v)||Fe(v)?{type:v}:Ft({},v),C=b.type;let E=!1,V=!0;if(_e(C))for(let $=0;$<C.length;++$){const _=C[$],P=Fe(_)&&_.name;if(P==="Boolean"){E=!0;break}else P==="String"&&(V=!1)}else E=Fe(C)&&C.name==="Boolean";b[0]=E,b[1]=V,(E||We(b,"default"))&&i.push(h)}}const f=[o,i];return rt(e)&&l.set(e,f),f}function ma(e){return e[0]!=="$"&&!Cs(e)}const fi=e=>e==="_"||e==="_ctx"||e==="$stable",di=e=>_e(e)?e.map(kn):[kn(e)],y0=(e,t,n)=>{if(t._n)return t;const l=nu((...s)=>di(t(...s)),n);return l._c=!1,l},bu=(e,t,n)=>{const l=e._ctx;for(const s in e){if(fi(s))continue;const r=e[s];if(Fe(r))t[s]=y0(s,r,l);else if(r!=null){const o=di(r);t[s]=()=>o}}},yu=(e,t)=>{const n=di(t);e.slots.default=()=>n},xu=(e,t,n)=>{for(const l in t)(n||!fi(l))&&(e[l]=t[l])},x0=(e,t,n)=>{const l=e.slots=gu();if(e.vnode.shapeFlag&32){const s=t._;s?(xu(l,t,n),n&&_c(l,"_",s,!0)):bu(t,l)}else t&&yu(e,t)},w0=(e,t,n)=>{const{vnode:l,slots:s}=e;let r=!0,o=qe;if(l.shapeFlag&32){const i=t._;i?n&&i===1?r=!1:xu(s,t,n):(r=!t.$stable,bu(t,s)),o=t}else t&&(yu(e,t),o={default:1});if(r)for(const i in s)!fi(i)&&o[i]==null&&delete s[i]},Yt=M0;function S0(e){return C0(e)}function C0(e,t){const n=Sr();n.__VUE__=!0;const{insert:l,remove:s,patchProp:r,createElement:o,createText:i,createComment:c,setText:f,setElementText:d,parentNode:h,nextSibling:v,setScopeId:b=Dn,insertStaticContent:C}=e,E=(m,y,F,k=null,D=null,A=null,O=void 0,U=null,R=!!y.dynamicChildren)=>{if(m===y)return;m&&!ps(m,y)&&(k=fe(m),Q(m,D,A,!0),m=null),y.patchFlag===-2&&(R=!1,y.dynamicChildren=null);const{type:I,ref:G,shapeFlag:H}=y;switch(I){case Er:V(m,y,F,k);break;case $n:$(m,y,F,k);break;case go:m==null&&_(y,F,k,O);break;case gt:ye(m,y,F,k,D,A,O,U,R);break;default:H&1?oe(m,y,F,k,D,A,O,U,R):H&6?re(m,y,F,k,D,A,O,U,R):(H&64||H&128)&&I.process(m,y,F,k,D,A,O,U,R,Me)}G!=null&&D?Ms(G,m&&m.ref,A,y||m,!y):G==null&&m&&m.ref!=null&&Ms(m.ref,null,A,m,!0)},V=(m,y,F,k)=>{if(m==null)l(y.el=i(y.children),F,k);else{const D=y.el=m.el;y.children!==m.children&&f(D,y.children)}},$=(m,y,F,k)=>{m==null?l(y.el=c(y.children||""),F,k):y.el=m.el},_=(m,y,F,k)=>{[m.el,m.anchor]=C(m.children,y,F,k,m.el,m.anchor)},P=({el:m,anchor:y},F,k)=>{let D;for(;m&&m!==y;)D=v(m),l(m,F,k),m=D;l(y,F,k)},S=({el:m,anchor:y})=>{let F;for(;m&&m!==y;)F=v(m),s(m),m=F;s(y)},oe=(m,y,F,k,D,A,O,U,R)=>{if(y.type==="svg"?O="svg":y.type==="math"&&(O="mathml"),m==null)te(y,F,k,D,A,O,U,R);else{const I=m.el&&m.el._isVueCE?m.el:null;try{I&&I._beginPatch(),ge(m,y,D,A,O,U,R)}finally{I&&I._endPatch()}}},te=(m,y,F,k,D,A,O,U)=>{let R,I;const{props:G,shapeFlag:H,transition:B,dirs:L}=m;if(R=m.el=o(m.type,A,G&&G.is,G),H&8?d(R,m.children):H&16&&he(m.children,R,null,k,D,ho(m,A),O,U),L&&hl(m,null,k,"created"),de(R,m,m.scopeId,O,k),G){for(const me in G)me!=="value"&&!Cs(me)&&r(R,me,null,G[me],A,k);"value"in G&&r(R,"value",null,G.value,A),(I=G.onVnodeBeforeMount)&&wn(I,k,m)}L&&hl(m,null,k,"beforeMount");const le=k0(D,B);le&&B.beforeEnter(R),l(R,y,F),((I=G&&G.onVnodeMounted)||le||L)&&Yt(()=>{I&&wn(I,k,m),le&&B.enter(R),L&&hl(m,null,k,"mounted")},D)},de=(m,y,F,k,D)=>{if(F&&b(m,F),k)for(let A=0;A<k.length;A++)b(m,k[A]);if(D){let A=D.subTree;if(y===A||ku(A.type)&&(A.ssContent===y||A.ssFallback===y)){const O=D.vnode;de(m,O,O.scopeId,O.slotScopeIds,D.parent)}}},he=(m,y,F,k,D,A,O,U,R=0)=>{for(let I=R;I<m.length;I++){const G=m[I]=U?Jn(m[I]):kn(m[I]);E(null,G,y,F,k,D,A,O,U)}},ge=(m,y,F,k,D,A,O)=>{const U=y.el=m.el;let{patchFlag:R,dynamicChildren:I,dirs:G}=y;R|=m.patchFlag&16;const H=m.props||qe,B=y.props||qe;let L;if(F&&gl(F,!1),(L=B.onVnodeBeforeUpdate)&&wn(L,F,y,m),G&&hl(y,m,F,"beforeUpdate"),F&&gl(F,!0),(H.innerHTML&&B.innerHTML==null||H.textContent&&B.textContent==null)&&d(U,""),I?pe(m.dynamicChildren,I,U,F,k,ho(y,D),A):O||j(m,y,U,null,F,k,ho(y,D),A,!1),R>0){if(R&16)J(U,H,B,F,D);else if(R&2&&H.class!==B.class&&r(U,"class",null,B.class,D),R&4&&r(U,"style",H.style,B.style,D),R&8){const le=y.dynamicProps;for(let me=0;me<le.length;me++){const Ee=le[me],Ye=H[Ee],je=B[Ee];(je!==Ye||Ee==="value")&&r(U,Ee,Ye,je,D,F)}}R&1&&m.children!==y.children&&d(U,y.children)}else!O&&I==null&&J(U,H,B,F,D);((L=B.onVnodeUpdated)||G)&&Yt(()=>{L&&wn(L,F,y,m),G&&hl(y,m,F,"updated")},k)},pe=(m,y,F,k,D,A,O)=>{for(let U=0;U<y.length;U++){const R=m[U],I=y[U],G=R.el&&(R.type===gt||!ps(R,I)||R.shapeFlag&198)?h(R.el):F;E(R,I,G,null,k,D,A,O,!0)}},J=(m,y,F,k,D)=>{if(y!==F){if(y!==qe)for(const A in y)!Cs(A)&&!(A in F)&&r(m,A,y[A],null,D,k);for(const A in F){if(Cs(A))continue;const O=F[A],U=y[A];O!==U&&A!=="value"&&r(m,A,U,O,D,k)}"value"in F&&r(m,"value",y.value,F.value,D)}},ye=(m,y,F,k,D,A,O,U,R)=>{const I=y.el=m?m.el:i(""),G=y.anchor=m?m.anchor:i("");let{patchFlag:H,dynamicChildren:B,slotScopeIds:L}=y;L&&(U=U?U.concat(L):L),m==null?(l(I,F,k),l(G,F,k),he(y.children||[],F,G,D,A,O,U,R)):H>0&&H&64&&B&&m.dynamicChildren&&m.dynamicChildren.length===B.length?(pe(m.dynamicChildren,B,F,D,A,O,U),(y.key!=null||D&&y===D.subTree)&&wu(m,y,!0)):j(m,y,F,G,D,A,O,U,R)},re=(m,y,F,k,D,A,O,U,R)=>{y.slotScopeIds=U,m==null?y.shapeFlag&512?D.ctx.activate(y,F,k,O,R):ne(y,F,k,D,A,O,R):z(m,y,R)},ne=(m,y,F,k,D,A,O)=>{const U=m.component=F0(m,k,D);if(ou(m)&&(U.ctx.renderer=Me),L0(U,!1,O),U.asyncDep){if(D&&D.registerDep(U,N,O),!m.el){const R=U.subTree=Wt($n);$(null,R,y,F),m.placeholder=R.el}}else N(U,m,y,F,D,A,O)},z=(m,y,F)=>{const k=y.component=m.component;if(g0(m,y,F))if(k.asyncDep&&!k.asyncResolved){w(k,y,F);return}else k.next=y,k.update();else y.el=m.el,k.vnode=y},N=(m,y,F,k,D,A,O)=>{const U=()=>{if(m.isMounted){let{next:H,bu:B,u:L,parent:le,vnode:me}=m;{const Ke=Su(m);if(Ke){H&&(H.el=me.el,w(m,H,O)),Ke.asyncDep.then(()=>{m.isUnmounted||U()});return}}let Ee=H,Ye;gl(m,!1),H?(H.el=me.el,w(m,H,O)):H=me,B&&sr(B),(Ye=H.props&&H.props.onVnodeBeforeUpdate)&&wn(Ye,le,H,me),gl(m,!0);const je=ga(m),ut=m.subTree;m.subTree=je,E(ut,je,h(ut.el),fe(ut),m,D,A),H.el=je.el,Ee===null&&p0(m,je.el),L&&Yt(L,D),(Ye=H.props&&H.props.onVnodeUpdated)&&Yt(()=>wn(Ye,le,H,me),D)}else{let H;const{el:B,props:L}=y,{bm:le,m:me,parent:Ee,root:Ye,type:je}=m,ut=Yl(y);gl(m,!1),le&&sr(le),!ut&&(H=L&&L.onVnodeBeforeMount)&&wn(H,Ee,y),gl(m,!0);{Ye.ce&&Ye.ce._def.shadowRoot!==!1&&Ye.ce._injectChildStyle(je);const Ke=m.subTree=ga(m);E(null,Ke,F,k,m,D,A),y.el=Ke.el}if(me&&Yt(me,D),!ut&&(H=L&&L.onVnodeMounted)){const Ke=y;Yt(()=>wn(H,Ee,Ke),D)}(y.shapeFlag&256||Ee&&Yl(Ee.vnode)&&Ee.vnode.shapeFlag&256)&&m.a&&Yt(m.a,D),m.isMounted=!0,y=F=k=null}};m.scope.on();const R=m.effect=new Lc(U);m.scope.off();const I=m.update=R.run.bind(R),G=m.job=R.runIfDirty.bind(R);G.i=m,G.id=m.uid,R.scheduler=()=>ai(G),gl(m,!0),I()},w=(m,y,F)=>{y.component=m;const k=m.vnode.props;m.vnode=y,m.next=null,v0(m,y.props,k,F),w0(m,y.children,F),On(),aa(m),Vn()},j=(m,y,F,k,D,A,O,U,R=!1)=>{const I=m&&m.children,G=m?m.shapeFlag:0,H=y.children,{patchFlag:B,shapeFlag:L}=y;if(B>0){if(B&128){X(I,H,F,k,D,A,O,U,R);return}else if(B&256){K(I,H,F,k,D,A,O,U,R);return}}L&8?(G&16&&ce(I,D,A),H!==I&&d(F,H)):G&16?L&16?X(I,H,F,k,D,A,O,U,R):ce(I,D,A,!0):(G&8&&d(F,""),L&16&&he(H,F,k,D,A,O,U,R))},K=(m,y,F,k,D,A,O,U,R)=>{m=m||jl,y=y||jl;const I=m.length,G=y.length,H=Math.min(I,G);let B;for(B=0;B<H;B++){const L=y[B]=R?Jn(y[B]):kn(y[B]);E(m[B],L,F,null,D,A,O,U,R)}I>G?ce(m,D,A,!0,!1,H):he(y,F,k,D,A,O,U,R,H)},X=(m,y,F,k,D,A,O,U,R)=>{let I=0;const G=y.length;let H=m.length-1,B=G-1;for(;I<=H&&I<=B;){const L=m[I],le=y[I]=R?Jn(y[I]):kn(y[I]);if(ps(L,le))E(L,le,F,null,D,A,O,U,R);else break;I++}for(;I<=H&&I<=B;){const L=m[H],le=y[B]=R?Jn(y[B]):kn(y[B]);if(ps(L,le))E(L,le,F,null,D,A,O,U,R);else break;H--,B--}if(I>H){if(I<=B){const L=B+1,le=L<G?y[L].el:k;for(;I<=B;)E(null,y[I]=R?Jn(y[I]):kn(y[I]),F,le,D,A,O,U,R),I++}}else if(I>B)for(;I<=H;)Q(m[I],D,A,!0),I++;else{const L=I,le=I,me=new Map;for(I=le;I<=B;I++){const ze=y[I]=R?Jn(y[I]):kn(y[I]);ze.key!=null&&me.set(ze.key,I)}let Ee,Ye=0;const je=B-le+1;let ut=!1,Ke=0;const ot=new Array(je);for(I=0;I<je;I++)ot[I]=0;for(I=L;I<=H;I++){const ze=m[I];if(Ye>=je){Q(ze,D,A,!0);continue}let Bt;if(ze.key!=null)Bt=me.get(ze.key);else for(Ee=le;Ee<=B;Ee++)if(ot[Ee-le]===0&&ps(ze,y[Ee])){Bt=Ee;break}Bt===void 0?Q(ze,D,A,!0):(ot[Bt-le]=I+1,Bt>=Ke?Ke=Bt:ut=!0,E(ze,y[Bt],F,null,D,A,O,U,R),Ye++)}const ft=ut?D0(ot):jl;for(Ee=ft.length-1,I=je-1;I>=0;I--){const ze=le+I,Bt=y[ze],ol=y[ze+1],En=ze+1<G?ol.el||Cu(ol):k;ot[I]===0?E(null,Bt,F,En,D,A,O,U,R):ut&&(Ee<0||I!==ft[Ee]?se(Bt,F,En,2):Ee--)}}},se=(m,y,F,k,D=null)=>{const{el:A,type:O,transition:U,children:R,shapeFlag:I}=m;if(I&6){se(m.component.subTree,y,F,k);return}if(I&128){m.suspense.move(y,F,k);return}if(I&64){O.move(m,y,F,Me);return}if(O===gt){l(A,y,F);for(let H=0;H<R.length;H++)se(R[H],y,F,k);l(m.anchor,y,F);return}if(O===go){P(m,y,F);return}if(k!==2&&I&1&&U)if(k===0)U.beforeEnter(A),l(A,y,F),Yt(()=>U.enter(A),D);else{const{leave:H,delayLeave:B,afterLeave:L}=U,le=()=>{m.ctx.isUnmounted?s(A):l(A,y,F)},me=()=>{A._isLeaving&&A[Bd](!0),H(A,()=>{le(),L&&L()})};B?B(A,le,me):me()}else l(A,y,F)},Q=(m,y,F,k=!1,D=!1)=>{const{type:A,props:O,ref:U,children:R,dynamicChildren:I,shapeFlag:G,patchFlag:H,dirs:B,cacheIndex:L}=m;if(H===-2&&(D=!1),U!=null&&(On(),Ms(U,null,F,m,!0),Vn()),L!=null&&(y.renderCache[L]=void 0),G&256){y.ctx.deactivate(m);return}const le=G&1&&B,me=!Yl(m);let Ee;if(me&&(Ee=O&&O.onVnodeBeforeUnmount)&&wn(Ee,y,m),G&6)we(m.component,F,k);else{if(G&128){m.suspense.unmount(F,k);return}le&&hl(m,null,y,"beforeUnmount"),G&64?m.type.remove(m,y,F,Me,k):I&&!I.hasOnce&&(A!==gt||H>0&&H&64)?ce(I,y,F,!1,!0):(A===gt&&H&384||!D&&G&16)&&ce(R,y,F),k&&Z(m)}(me&&(Ee=O&&O.onVnodeUnmounted)||le)&&Yt(()=>{Ee&&wn(Ee,y,m),le&&hl(m,null,y,"unmounted")},F)},Z=m=>{const{type:y,el:F,anchor:k,transition:D}=m;if(y===gt){Ce(F,k);return}if(y===go){S(m);return}const A=()=>{s(F),D&&!D.persisted&&D.afterLeave&&D.afterLeave()};if(m.shapeFlag&1&&D&&!D.persisted){const{leave:O,delayLeave:U}=D,R=()=>O(F,A);U?U(m.el,A,R):R()}else A()},Ce=(m,y)=>{let F;for(;m!==y;)F=v(m),s(m),m=F;s(y)},we=(m,y,F)=>{const{bum:k,scope:D,job:A,subTree:O,um:U,m:R,a:I}=m;va(R),va(I),k&&sr(k),D.stop(),A&&(A.flags|=8,Q(O,m,y,F)),U&&Yt(U,y),Yt(()=>{m.isUnmounted=!0},y)},ce=(m,y,F,k=!1,D=!1,A=0)=>{for(let O=A;O<m.length;O++)Q(m[O],y,F,k,D)},fe=m=>{if(m.shapeFlag&6)return fe(m.component.subTree);if(m.shapeFlag&128)return m.suspense.next();const y=v(m.anchor||m.el),F=y&&y[zd];return F?v(F):y};let Ae=!1;const Re=(m,y,F)=>{let k;m==null?y._vnode&&(Q(y._vnode,null,null,!0),k=y._vnode.component):E(y._vnode||null,m,y,null,null,null,F),y._vnode=m,Ae||(Ae=!0,aa(k),Xc(),Ae=!1)},Me={p:E,um:Q,m:se,r:Z,mt:ne,mc:he,pc:j,pbc:pe,n:fe,o:e};return{render:Re,hydrate:void 0,createApp:a0(Re)}}function ho({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function gl({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function k0(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function wu(e,t,n=!1){const l=e.children,s=t.children;if(_e(l)&&_e(s))for(let r=0;r<l.length;r++){const o=l[r];let i=s[r];i.shapeFlag&1&&!i.dynamicChildren&&((i.patchFlag<=0||i.patchFlag===32)&&(i=s[r]=Jn(s[r]),i.el=o.el),!n&&i.patchFlag!==-2&&wu(o,i)),i.type===Er&&(i.patchFlag!==-1?i.el=o.el:i.__elIndex=r+(e.type===gt?1:0)),i.type===$n&&!i.el&&(i.el=o.el)}}function D0(e){const t=e.slice(),n=[0];let l,s,r,o,i;const c=e.length;for(l=0;l<c;l++){const f=e[l];if(f!==0){if(s=n[n.length-1],e[s]<f){t[l]=s,n.push(l);continue}for(r=0,o=n.length-1;r<o;)i=r+o>>1,e[n[i]]<f?r=i+1:o=i;f<e[n[r]]&&(r>0&&(t[l]=n[r-1]),n[r]=l)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=t[o];return n}function Su(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Su(t)}function va(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function Cu(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?Cu(t.subTree):null}const ku=e=>e.__isSuspense;function M0(e,t){t&&t.pendingBranch?_e(e)?t.effects.push(...e):t.effects.push(e):Ld(e)}const gt=Symbol.for("v-fgt"),Er=Symbol.for("v-txt"),$n=Symbol.for("v-cmt"),go=Symbol.for("v-stc"),Es=[];let Jt=null;function xe(e=!1){Es.push(Jt=e?null:[])}function T0(){Es.pop(),Jt=Es[Es.length-1]||null}let Os=1;function ba(e,t=!1){Os+=e,e<0&&Jt&&t&&(Jt.hasOnce=!0)}function Du(e){return e.dynamicChildren=Os>0?Jt||jl:null,T0(),Os>0&&Jt&&Jt.push(e),e}function ke(e,t,n,l,s,r){return Du(M(e,t,n,l,s,r,!0))}function Vs(e,t,n,l,s){return Du(Wt(e,t,n,l,s,!0))}function hi(e){return e?e.__v_isVNode===!0:!1}function ps(e,t){return e.type===t.type&&e.key===t.key}const Mu=({key:e})=>e??null,or=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?pt(e)||Rt(e)||Fe(e)?{i:_t,r:e,k:t,f:!!n}:e:null);function M(e,t=null,n=null,l=0,s=null,r=e===gt?0:1,o=!1,i=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Mu(t),ref:t&&or(t),scopeId:tu,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:l,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:_t};return i?(gi(c,n),r&128&&e.normalize(c)):n&&(c.shapeFlag|=pt(n)?8:16),Os>0&&!o&&Jt&&(c.patchFlag>0||r&6)&&c.patchFlag!==32&&Jt.push(c),c}const Wt=E0;function E0(e,t=null,n=null,l=0,s=null,r=!1){if((!e||e===Xd)&&(e=$n),hi(e)){const i=Xl(e,t,!0);return n&&gi(i,n),Os>0&&!r&&Jt&&(i.shapeFlag&6?Jt[Jt.indexOf(e)]=i:Jt.push(i)),i.patchFlag=-2,i}if(z0(e)&&(e=e.__vccOpts),t){t=A0(t);let{class:i,style:c}=t;i&&!pt(i)&&(t.class=Y(i)),rt(c)&&(ii(c)&&!_e(c)&&(c=Ft({},c)),t.style=Mn(c))}const o=pt(e)?1:ku(e)?128:$d(e)?64:rt(e)?4:Fe(e)?2:0;return M(e,t,n,l,s,o,r,!0)}function A0(e){return e?ii(e)||pu(e)?Ft({},e):e:null}function Xl(e,t,n=!1,l=!1){const{props:s,ref:r,patchFlag:o,children:i,transition:c}=e,f=t?P0(s||{},t):s,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&Mu(f),ref:t&&t.ref?n&&r?_e(r)?r.concat(or(t)):[r,or(t)]:or(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==gt?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Xl(e.ssContent),ssFallback:e.ssFallback&&Xl(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&l&&ci(d,c.clone(d)),d}function dn(e=" ",t=0){return Wt(Er,null,e,t)}function st(e="",t=!1){return t?(xe(),Vs($n,null,e)):Wt($n,null,e)}function kn(e){return e==null||typeof e=="boolean"?Wt($n):_e(e)?Wt(gt,null,e.slice()):hi(e)?Jn(e):Wt(Er,null,String(e))}function Jn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Xl(e)}function gi(e,t){let n=0;const{shapeFlag:l}=e;if(t==null)t=null;else if(_e(t))n=16;else if(typeof t=="object")if(l&65){const s=t.default;s&&(s._c&&(s._d=!1),gi(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!pu(t)?t._ctx=_t:s===3&&_t&&(_t.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Fe(t)?(t={default:t,_ctx:_t},n=32):(t=String(t),l&64?(n=16,t=[dn(t)]):n=8);e.children=t,e.shapeFlag|=n}function P0(...e){const t={};for(let n=0;n<e.length;n++){const l=e[n];for(const s in l)if(s==="class")t.class!==l.class&&(t.class=Y([t.class,l.class]));else if(s==="style")t.style=Mn([t.style,l.style]);else if(yr(s)){const r=t[s],o=l[s];o&&r!==o&&!(_e(r)&&r.includes(o))&&(t[s]=r?[].concat(r,o):o)}else s!==""&&(t[s]=l[s])}return t}function wn(e,t,n,l=null){Tn(e,t,7,[n,l])}const _0=fu();let R0=0;function F0(e,t,n){const l=e.type,s=(t?t.appContext:e.appContext)||_0,r={uid:R0++,vnode:e,type:l,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new rd(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:vu(l,s),emitsOptions:du(l,s),emit:null,emitted:null,propsDefaults:qe,inheritAttrs:l.inheritAttrs,ctx:qe,data:qe,props:qe,attrs:qe,slots:qe,refs:qe,setupState:qe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=u0.bind(null,r),e.ce&&e.ce(r),r}let zt=null;const I0=()=>zt||_t;let pr,Oo;{const e=Sr(),t=(n,l)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(l),r=>{s.length>1?s.forEach(o=>o(r)):s[0](r)}};pr=t("__VUE_INSTANCE_SETTERS__",n=>zt=n),Oo=t("__VUE_SSR_SETTERS__",n=>zs=n)}const Ns=e=>{const t=zt;return pr(e),e.scope.on(),()=>{e.scope.off(),pr(t)}},ya=()=>{zt&&zt.scope.off(),pr(null)};function Tu(e){return e.vnode.shapeFlag&4}let zs=!1;function L0(e,t=!1,n=!1){t&&Oo(t);const{props:l,children:s}=e.vnode,r=Tu(e);m0(e,l,r,t),x0(e,s,n||t);const o=r?U0(e,t):void 0;return t&&Oo(!1),o}function U0(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,t0);const{setup:l}=n;if(l){On();const s=e.setupContext=l.length>1?V0(e):null,r=Ns(e),o=Bs(l,e,0,[e.props,s]),i=Tc(o);if(Vn(),r(),(i||e.sp)&&!Yl(e)&&ru(e),i){if(o.then(ya,ya),t)return o.then(c=>{xa(e,c)}).catch(c=>{kr(c,e,0)});e.asyncDep=o}else xa(e,o)}else Eu(e)}function xa(e,t,n){Fe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:rt(t)&&(e.setupState=Jc(t)),Eu(e)}function Eu(e,t,n){const l=e.type;e.render||(e.render=l.render||Dn);{const s=Ns(e);On();try{n0(e)}finally{Vn(),s()}}}const O0={get(e,t){return Pt(e,"get",""),e[t]}};function V0(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,O0),slots:e.slots,emit:e.emit,expose:t}}function Ar(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Jc(Md(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Ts)return Ts[n](e)},has(t,n){return n in t||n in Ts}})):e.proxy}function z0(e){return Fe(e)&&"__vccOpts"in e}const ll=(e,t)=>Pd(e,t,zs),$0="3.5.26";/**
* @vue/runtime-dom v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Vo;const wa=typeof window<"u"&&window.trustedTypes;if(wa)try{Vo=wa.createPolicy("vue",{createHTML:e=>e})}catch{}const Au=Vo?e=>Vo.createHTML(e):e=>e,B0="http://www.w3.org/2000/svg",N0="http://www.w3.org/1998/Math/MathML",_n=typeof document<"u"?document:null,Sa=_n&&_n.createElement("template"),H0={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,l)=>{const s=t==="svg"?_n.createElementNS(B0,e):t==="mathml"?_n.createElementNS(N0,e):n?_n.createElement(e,{is:n}):_n.createElement(e);return e==="select"&&l&&l.multiple!=null&&s.setAttribute("multiple",l.multiple),s},createText:e=>_n.createTextNode(e),createComment:e=>_n.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>_n.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,l,s,r){const o=n?n.previousSibling:t.lastChild;if(s&&(s===r||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===r||!(s=s.nextSibling)););else{Sa.innerHTML=Au(l==="svg"?`<svg>${e}</svg>`:l==="mathml"?`<math>${e}</math>`:e);const i=Sa.content;if(l==="svg"||l==="mathml"){const c=i.firstChild;for(;c.firstChild;)i.appendChild(c.firstChild);i.removeChild(c)}t.insertBefore(i,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},W0=Symbol("_vtc");function j0(e,t,n){const l=e[W0];l&&(t=(t?[t,...l]:[...l]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Ca=Symbol("_vod"),K0=Symbol("_vsh"),G0=Symbol(""),Y0=/(?:^|;)\s*display\s*:/;function q0(e,t,n){const l=e.style,s=pt(n);let r=!1;if(n&&!s){if(t)if(pt(t))for(const o of t.split(";")){const i=o.slice(0,o.indexOf(":")).trim();n[i]==null&&ir(l,i,"")}else for(const o in t)n[o]==null&&ir(l,o,"");for(const o in n)o==="display"&&(r=!0),ir(l,o,n[o])}else if(s){if(t!==n){const o=l[G0];o&&(n+=";"+o),l.cssText=n,r=Y0.test(n)}}else t&&e.removeAttribute("style");Ca in e&&(e[Ca]=r?l.display:"",e[K0]&&(l.display="none"))}const ka=/\s*!important$/;function ir(e,t,n){if(_e(n))n.forEach(l=>ir(e,t,l));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const l=J0(e,t);ka.test(n)?e.setProperty(rl(l),n.replace(ka,""),"important"):e[l]=n}}const Da=["Webkit","Moz","ms"],po={};function J0(e,t){const n=po[t];if(n)return n;let l=nl(t);if(l!=="filter"&&l in e)return po[t]=l;l=Pc(l);for(let s=0;s<Da.length;s++){const r=Da[s]+l;if(r in e)return po[t]=r}return t}const Ma="http://www.w3.org/1999/xlink";function Ta(e,t,n,l,s,r=sd(t)){l&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Ma,t.slice(6,t.length)):e.setAttributeNS(Ma,t,n):n==null||r&&!Rc(n)?e.removeAttribute(t):e.setAttribute(t,r?"":Bn(n)?String(n):n)}function Ea(e,t,n,l,s){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Au(n):n);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const i=r==="OPTION"?e.getAttribute("value")||"":e.value,c=n==null?e.type==="checkbox"?"on":"":String(n);(i!==c||!("_value"in e))&&(e.value=c),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const i=typeof e[t];i==="boolean"?n=Rc(n):n==null&&i==="string"?(n="",o=!0):i==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(s||t)}function Hl(e,t,n,l){e.addEventListener(t,n,l)}function Z0(e,t,n,l){e.removeEventListener(t,n,l)}const Aa=Symbol("_vei");function Q0(e,t,n,l,s=null){const r=e[Aa]||(e[Aa]={}),o=r[t];if(l&&o)o.value=l;else{const[i,c]=X0(t);if(l){const f=r[t]=nh(l,s);Hl(e,i,f,c)}else o&&(Z0(e,i,o,c),r[t]=void 0)}}const Pa=/(?:Once|Passive|Capture)$/;function X0(e){let t;if(Pa.test(e)){t={};let l;for(;l=e.match(Pa);)e=e.slice(0,e.length-l[0].length),t[l[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):rl(e.slice(2)),t]}let mo=0;const eh=Promise.resolve(),th=()=>mo||(eh.then(()=>mo=0),mo=Date.now());function nh(e,t){const n=l=>{if(!l._vts)l._vts=Date.now();else if(l._vts<=n.attached)return;Tn(lh(l,n.value),t,5,[l])};return n.value=e,n.attached=th(),n}function lh(e,t){if(_e(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(l=>s=>!s._stopped&&l&&l(s))}else return t}const _a=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,sh=(e,t,n,l,s,r)=>{const o=s==="svg";t==="class"?j0(e,l,o):t==="style"?q0(e,n,l):yr(t)?Jo(t)||Q0(e,t,n,l,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):rh(e,t,l,o))?(Ea(e,t,l),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Ta(e,t,l,o,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!pt(l))?Ea(e,nl(t),l,r,t):(t==="true-value"?e._trueValue=l:t==="false-value"&&(e._falseValue=l),Ta(e,t,l,o))};function rh(e,t,n,l){if(l)return!!(t==="innerHTML"||t==="textContent"||t in e&&_a(t)&&Fe(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return _a(t)&&pt(n)?!1:t in e}const Ra=e=>{const t=e.props["onUpdate:modelValue"]||!1;return _e(t)?n=>sr(t,n):t};function oh(e){e.target.composing=!0}function Fa(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const vo=Symbol("_assign");function Ia(e,t,n){return t&&(e=e.trim()),n&&(e=Xo(e)),e}const Xn={created(e,{modifiers:{lazy:t,trim:n,number:l}},s){e[vo]=Ra(s);const r=l||s.props&&s.props.type==="number";Hl(e,t?"change":"input",o=>{o.target.composing||e[vo](Ia(e.value,n,r))}),(n||r)&&Hl(e,"change",()=>{e.value=Ia(e.value,n,r)}),t||(Hl(e,"compositionstart",oh),Hl(e,"compositionend",Fa),Hl(e,"change",Fa))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:l,trim:s,number:r}},o){if(e[vo]=Ra(o),e.composing)return;const i=(r||e.type==="number")&&!/^0\d/.test(e.value)?Xo(e.value):e.value,c=t??"";i!==c&&(document.activeElement===e&&e.type!=="range"&&(l&&t===n||s&&e.value.trim()===c)||(e.value=c))}},ih=["ctrl","shift","alt","meta"],ah={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>ih.some(n=>e[`${n}Key`]&&!t.includes(n))},ar=(e,t)=>{const n=e._withMods||(e._withMods={}),l=t.join(".");return n[l]||(n[l]=(s,...r)=>{for(let o=0;o<t.length;o++){const i=ah[t[o]];if(i&&i(s,t))return}return e(s,...r)})},ch={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},el=(e,t)=>{const n=e._withKeys||(e._withKeys={}),l=t.join(".");return n[l]||(n[l]=s=>{if(!("key"in s))return;const r=rl(s.key);if(t.some(o=>o===r||ch[o]===r))return e(s)})},uh=Ft({patchProp:sh},H0);let La;function fh(){return La||(La=S0(uh))}const dh=(...e)=>{const t=fh().createApp(...e),{mount:n}=t;return t.mount=l=>{const s=gh(l);if(!s)return;const r=t._component;!Fe(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,hh(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function hh(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function gh(e){return pt(e)?document.querySelector(e):e}const ph=[{value:"serial",label:"",description:"Web Serial API"},{value:"websocket",label:"WebSocket",description:"WebSocket "},{value:"bluetooth",label:"",description:"Web Bluetooth API"}],Ua=[{value:"justfloat",label:"JustFloat",description:""},{value:"firewater",label:"FireWater",description:" (ch0,ch1,...\\n)"}],In=["#2196F3","#4CAF50","#FF9800","#E91E63","#9C27B0","#00BCD4","#FFEB3B","#795548"],bo={baudRate:115200,bufferSize:1e4,channels:[],protocol:"justfloat",connectionType:"serial",wsUrl:"ws://localhost:8080",btServiceUUID:"ffe0",btCharacteristicUUID:"ffe1",isDark:!0},mh=[9600,19200,38400,57600,115200,230400,460800,921600],As=1e3,Ps=1e6,er=new Uint8Array([0,0,128,127]),vh={class:"flex items-center gap-3"},bh={class:"flex items-center gap-2"},yh={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},xh={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},wh=["value","disabled"],Sh=["value"],Ch={key:0,class:"flex items-center gap-1"},kh=["disabled"],Dh={id:"baudRateList"},Mh=["value"],Th=["disabled"],Eh=["disabled"],Ah=["disabled"],Ph={class:"flex items-center gap-2"},_h=["disabled"],Rh=Cl({__name:"HeaderBar",props:{status:{},isSupported:{type:Boolean},connectionType:{},wsUrl:{},btServiceUUID:{},btCharacteristicUUID:{},baudRate:{},isDark:{type:Boolean}},emits:["connect","clear","export","import","toggleTheme","update:connectionType","update:wsUrl","update:btServiceUUID","update:btCharacteristicUUID","update:baudRate"],setup(e,{emit:t}){const n=e,l=t,s=ve(n.wsUrl),r=ve(n.btServiceUUID),o=ve(n.btCharacteristicUUID),i=ve(n.baudRate);ct(()=>n.wsUrl,E=>{s.value=E}),ct(()=>n.btServiceUUID,E=>{r.value=E}),ct(()=>n.btCharacteristicUUID,E=>{o.value=E}),ct(()=>n.baudRate,E=>{i.value=E});const c=()=>{l("update:wsUrl",s.value)},f=()=>{l("update:btServiceUUID",r.value)},d=()=>{l("update:btCharacteristicUUID",o.value)},h=()=>{const E=Math.max(300,i.value||115200);i.value=E,l("update:baudRate",E)},v=E=>{const V=E.target;l("update:connectionType",V.value)},b={disconnected:"",connecting:"...",connected:"",error:""},C={disconnected:"bg-gray-500",connecting:"bg-yellow-500",connected:"bg-green-500",error:"bg-red-500"};return(E,V)=>(xe(),ke("header",{class:Y(["border-b px-4 py-3 flex items-center justify-between",e.isDark?"bg-gray-800 border-gray-700":"bg-gray-100 border-gray-300"])},[M("div",vh,[M("h1",{class:Y(["text-xl font-semibold",e.isDark?"text-white":"text-gray-900"])},"JustFloat ",2),M("span",{class:Y(["text-xs",e.isDark?"text-gray-500":"text-gray-400"])},"Web Serial Protocol Analyzer",2)]),M("div",bh,[M("button",{class:Y(["px-3 py-1.5 text-sm rounded",e.isDark?"bg-gray-700 hover:bg-gray-600 text-gray-300":"bg-white hover:bg-gray-200 text-gray-700"]),onClick:V[0]||(V[0]=$=>l("import"))},"  ",2),M("button",{class:Y(["px-3 py-1.5 text-sm rounded",e.isDark?"bg-gray-700 hover:bg-gray-600 text-gray-300":"bg-white hover:bg-gray-200 text-gray-700"]),onClick:V[1]||(V[1]=$=>l("export"))},"  ",2),M("button",{class:Y(["px-3 py-1.5 text-sm rounded",e.isDark?"bg-gray-700 hover:bg-gray-600 text-gray-300":"bg-white hover:bg-gray-200 text-gray-700"]),onClick:V[2]||(V[2]=$=>l("clear"))},"  ",2),M("button",{class:Y(["p-1.5 rounded",e.isDark?"bg-gray-700 hover:bg-gray-600 text-gray-300":"bg-white hover:bg-gray-200 text-gray-700"]),onClick:V[3]||(V[3]=$=>l("toggleTheme")),title:""},[e.isDark?(xe(),ke("svg",xh,[...V[10]||(V[10]=[M("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1)])])):(xe(),ke("svg",yh,[...V[9]||(V[9]=[M("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1)])]))],2),M("div",{class:Y(["w-px h-6 mx-2",e.isDark?"bg-gray-600":"bg-gray-400"])},null,2),M("select",{value:e.connectionType,class:Y(["px-2 py-1.5 text-sm rounded border focus:outline-none focus:border-blue-500",e.isDark?"bg-gray-700 text-gray-300 border-gray-600":"bg-white text-gray-700 border-gray-300"]),disabled:e.status==="connected"||e.status==="connecting",onChange:v},[(xe(!0),ke(gt,null,Ql(Se(ph),$=>(xe(),ke("option",{key:$.value,value:$.value},Te($.label),9,Sh))),128))],42,wh),e.connectionType==="serial"?(xe(),ke("div",Ch,[Qn(M("input",{"onUpdate:modelValue":V[4]||(V[4]=$=>i.value=$),type:"number",list:"baudRateList",min:"300",max:"4000000",placeholder:"115200",class:Y(["px-2 py-1.5 text-sm rounded border focus:outline-none focus:border-blue-500 w-28",e.isDark?"bg-gray-700 text-gray-300 border-gray-600":"bg-white text-gray-700 border-gray-300"]),disabled:e.status==="connected"||e.status==="connecting",onBlur:h,onKeyup:el(h,["enter"])},null,42,kh),[[Xn,i.value,void 0,{number:!0}]]),M("datalist",Dh,[(xe(!0),ke(gt,null,Ql(Se(mh),$=>(xe(),ke("option",{key:$,value:$},null,8,Mh))),128))]),M("span",{class:Y(["text-xs",e.isDark?"text-gray-500":"text-gray-400"])},"bps",2)])):st("",!0),e.connectionType==="websocket"?Qn((xe(),ke("input",{key:1,"onUpdate:modelValue":V[5]||(V[5]=$=>s.value=$),type:"text",placeholder:"ws://localhost:8080",class:Y(["px-2 py-1.5 text-sm rounded border focus:outline-none focus:border-blue-500 w-48",e.isDark?"bg-gray-700 text-gray-300 border-gray-600":"bg-white text-gray-700 border-gray-300"]),disabled:e.status==="connected"||e.status==="connecting",onBlur:c,onKeyup:el(c,["enter"])},null,42,Th)),[[Xn,s.value]]):st("",!0),e.connectionType==="bluetooth"?(xe(),ke(gt,{key:2},[Qn(M("input",{"onUpdate:modelValue":V[6]||(V[6]=$=>r.value=$),type:"text",placeholder:" UUID ( ffe0)",class:Y(["px-2 py-1.5 text-sm rounded border focus:outline-none focus:border-blue-500 w-36",e.isDark?"bg-gray-700 text-gray-300 border-gray-600":"bg-white text-gray-700 border-gray-300"]),disabled:e.status==="connected"||e.status==="connecting",onBlur:f,onKeyup:el(f,["enter"])},null,42,Eh),[[Xn,r.value]]),Qn(M("input",{"onUpdate:modelValue":V[7]||(V[7]=$=>o.value=$),type:"text",placeholder:" UUID ( ffe1)",class:Y(["px-2 py-1.5 text-sm rounded border focus:outline-none focus:border-blue-500 w-36",e.isDark?"bg-gray-700 text-gray-300 border-gray-600":"bg-white text-gray-700 border-gray-300"]),disabled:e.status==="connected"||e.status==="connecting",onBlur:d,onKeyup:el(d,["enter"])},null,42,Ah),[[Xn,o.value]])],64)):st("",!0),M("div",{class:Y(["w-px h-6 mx-2",e.isDark?"bg-gray-600":"bg-gray-400"])},null,2),M("div",Ph,[M("span",{class:Y(["w-2 h-2 rounded-full",C[e.status]])},null,2),M("span",{class:Y(["text-sm",e.isDark?"text-gray-400":"text-gray-600"])},Te(b[e.status]),3)]),e.isSupported?(xe(),ke("button",{key:3,class:Y(["px-4 py-1.5 text-sm rounded",e.status==="connected"?"bg-red-600 hover:bg-red-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white"]),disabled:e.status==="connecting",onClick:V[8]||(V[8]=$=>l("connect"))},Te(e.status==="connected"?"":e.status==="connecting"?"...":""),11,_h)):(xe(),ke("span",{key:4,class:Y(["text-sm",e.isDark?"text-red-400":"text-red-600"])},"  Web Serial API ",2))])],2))}});function At(e,t=6){return isFinite(e)?e.toFixed(t):"-"}function Oa(e){return e>=1e6?(e/1e6).toFixed(2)+"M":e>=1e3?(e/1e3).toFixed(2)+"K":e.toString()}function Fh(e){if(e<1)return(e*1e3).toFixed(0)+" s";if(e<1e3)return e.toFixed(1)+" ms";if(e<6e4)return e.toFixed(2)+" s";const t=Math.floor(e/6e4),n=e%6e4/1e3;return`${t}:${n.toFixed(0).padStart(2,"0")} min`}function Ih(e){return e>=1e6?(e/1e6).toFixed(2)+" MHz":e>=1e3?(e/1e3).toFixed(2)+" kHz":e.toFixed(0)+" Hz"}function Lh(e,t){const n=JSON.stringify(e,null,2),l=new Blob([n],{type:"application/json"}),s=URL.createObjectURL(l),r=document.createElement("a");r.href=s,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(s)}function Uh(e){return new Promise((t,n)=>{const l=new FileReader;l.onload=s=>{var r;try{const o=JSON.parse((r=s.target)==null?void 0:r.result);t(o)}catch{n(new Error(" JSON "))}},l.onerror=()=>n(new Error("")),l.readAsText(e)})}const Oh={class:"relative"},Vh={class:"grid grid-cols-4 gap-1.5"},zh=["onClick"],$h=["title"],Bh={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Nh={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Hh={key:0,class:"px-3 pb-2"},Wh={class:"text-yellow-500 text-xs"},jh={class:"text-yellow-600 font-mono tabular-nums text-base font-semibold"},Kh={key:0,class:"text-sm ml-1"},Gh={class:"grid grid-cols-4 gap-1 text-xs"},Yh={class:"text-center"},qh={class:"text-green-500 font-mono tabular-nums"},Jh={class:"text-center"},Zh={class:"text-red-500 font-mono tabular-nums"},Qh={class:"text-center"},Xh={class:"text-blue-500 font-mono tabular-nums"},eg={class:"text-center"},tg={class:"text-purple-500 font-mono tabular-nums"},ng={class:"grid grid-cols-2 gap-2"},lg={class:"text-yellow-500 text-xs"},sg={class:"text-yellow-600 font-mono tabular-nums text-base font-semibold"},rg={key:0,class:"text-sm ml-1"},og={class:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs"},ig={class:"flex justify-between"},ag={class:"text-green-500 font-mono tabular-nums"},cg={class:"flex justify-between"},ug={class:"text-red-500 font-mono tabular-nums"},fg={class:"flex justify-between"},dg={class:"text-blue-500 font-mono tabular-nums"},hg={class:"flex justify-between"},gg={class:"text-purple-500 font-mono tabular-nums"},pg={class:"flex gap-2 pt-2"},mg=Cl({__name:"ChannelItem",props:{channel:{},stats:{},cursorValue:{},cursorIndex:{},isDark:{type:Boolean}},emits:["update","toggleVisibility"],setup(e,{emit:t}){const n=e,l=t,s=ve(!1),r=ve(!1),o=ve(n.channel.name),i=ve(n.channel.unit),c=ve(String(n.channel.coefficient)),f=ve(!1),d=ve(!1),h=ve(!1);ct(()=>n.channel.name,_=>{f.value||(o.value=_)}),ct(()=>n.channel.unit,_=>{d.value||(i.value=_)}),ct(()=>n.channel.coefficient,_=>{h.value||(c.value=String(_))});const v=()=>{f.value=!1;const _=o.value||` ${n.channel.id+1}`;_!==n.channel.name&&l("update",{name:_})},b=()=>{d.value=!1,i.value!==n.channel.unit&&l("update",{unit:i.value})},C=()=>{h.value=!1;const _=parseFloat(c.value),P=!c.value||isNaN(_)||_===0?1:_;c.value=String(P),P!==n.channel.coefficient&&l("update",{coefficient:P})},E=ll(()=>n.stats?n.stats.max-n.stats.min:0),V=In,$=_=>{l("update",{color:_}),r.value=!1};return(_,P)=>(xe(),ke("div",{class:Y(["rounded-lg border",e.channel.visible?e.isDark?"border-gray-600 bg-gray-700/50":"border-gray-300 bg-gray-50 shadow-sm":e.isDark?"border-gray-700 bg-gray-800/50 opacity-50":"border-gray-300 bg-gray-100 opacity-60"])},[M("div",{class:Y(["flex items-center gap-2 px-3 py-2 cursor-pointer rounded-t-lg",e.isDark?"hover:bg-gray-700/50":"hover:bg-gray-200"]),onClick:P[3]||(P[3]=S=>s.value=!s.value)},[M("div",Oh,[M("button",{class:"w-3 h-3 rounded-full flex-shrink-0 ring-2 ring-transparent hover:ring-white/30",style:Mn({backgroundColor:e.channel.color}),onClick:P[0]||(P[0]=ar(S=>r.value=!r.value,["stop"])),title:""},null,4),r.value?(xe(),ke("div",{key:0,class:Y(["absolute left-0 top-5 border rounded-lg p-2 z-20 shadow-xl",e.isDark?"bg-gray-800 border-gray-600":"bg-white border-gray-400 shadow-lg"]),onClick:P[1]||(P[1]=ar(()=>{},["stop"]))},[M("div",Vh,[(xe(!0),ke(gt,null,Ql(Se(V),S=>(xe(),ke("button",{key:S,class:Y(["w-5 h-5 rounded-full hover:scale-110",{"ring-2 ring-white":e.channel.color===S}]),style:Mn({backgroundColor:S}),onClick:oe=>$(S)},null,14,zh))),128))])],2)):st("",!0)]),M("span",{class:Y(["flex-1 text-sm truncate",e.isDark?"text-white":"text-gray-900"])},[dn(Te(e.channel.name)+" ",1),e.channel.unit?(xe(),ke("span",{key:0,class:Y(["text-xs ml-1",e.isDark?"text-gray-400":"text-gray-600"])},"("+Te(e.channel.unit)+")",3)):st("",!0)],2),e.stats?(xe(),ke("span",{key:0,class:Y(["text-sm font-mono tabular-nums",e.isDark?"text-gray-200":"text-gray-800"])},[dn(Te(Se(At)(e.stats.current,3))+" ",1),e.channel.unit?(xe(),ke("span",{key:0,class:Y(["text-xs",e.isDark?"text-gray-500":"text-gray-600"])},Te(e.channel.unit),3)):st("",!0)],2)):st("",!0),M("button",{class:Y(["p-1 rounded",[e.channel.visible?"text-blue-400":"text-gray-500",e.isDark?"hover:bg-gray-600":"hover:bg-gray-300"]]),onClick:P[2]||(P[2]=ar(S=>l("toggleVisibility"),["stop"])),title:e.channel.visible?"":""},[e.channel.visible?(xe(),ke("svg",Bh,[...P[15]||(P[15]=[M("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),M("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])])):(xe(),ke("svg",Nh,[...P[16]||(P[16]=[M("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},null,-1)])]))],10,$h),(xe(),ke("svg",{class:Y(["w-4 h-4",(e.isDark,"text-gray-500"),{"rotate-180":s.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...P[17]||(P[17]=[M("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))],2),e.stats&&!s.value?(xe(),ke("div",Hh,[e.cursorValue!=null?(xe(),ke("div",{key:0,class:Y(["mb-2 flex items-center justify-between rounded px-2 py-1.5",e.isDark?"bg-gray-800/50":"bg-yellow-50 border border-yellow-200"])},[M("span",Wh,[P[18]||(P[18]=M("svg",{class:"w-3 h-3 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[M("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 15l-2 5L9 9l11 4-5 2z"})],-1)),dn("  ["+Te(e.cursorIndex)+"] ",1)]),M("span",jh,[dn(Te(Se(At)(e.cursorValue))+" ",1),e.channel.unit?(xe(),ke("span",Kh,Te(e.channel.unit),1)):st("",!0)])],2)):st("",!0),M("div",Gh,[M("div",Yh,[M("div",{class:Y(e.isDark?"text-gray-500":"text-gray-600")},"",2),M("div",qh,Te(Se(At)(e.stats.min,3)),1)]),M("div",Jh,[M("div",{class:Y(e.isDark?"text-gray-500":"text-gray-600")},"",2),M("div",Zh,Te(Se(At)(e.stats.max,3)),1)]),M("div",Qh,[M("div",{class:Y(e.isDark?"text-gray-500":"text-gray-600")},"",2),M("div",Xh,Te(Se(At)(e.stats.avg,3)),1)]),M("div",eg,[M("div",{class:Y(e.isDark?"text-gray-500":"text-gray-600")},"",2),M("div",tg,Te(Se(At)(E.value,3)),1)])])])):st("",!0),s.value?(xe(),ke("div",{key:1,class:Y(["px-3 pb-3 pt-1 space-y-3 border-t",e.isDark?"border-gray-700":"border-gray-300"])},[M("div",null,[M("label",{class:Y(["block text-xs mb-1",e.isDark?"text-gray-500":"text-gray-600"])},"",2),Qn(M("input",{type:"text","onUpdate:modelValue":P[4]||(P[4]=S=>o.value=S),class:Y(["w-full rounded px-2 py-1.5 text-sm focus:outline-none focus:border-blue-500",e.isDark?"bg-gray-700 border border-gray-600 text-white":"bg-white border border-gray-400 text-gray-900"]),placeholder:"",onFocus:P[5]||(P[5]=S=>f.value=!0),onBlur:v,onKeyup:P[6]||(P[6]=el(S=>S.target.blur(),["enter"]))},null,34),[[Xn,o.value]])]),M("div",ng,[M("div",null,[M("label",{class:Y(["block text-xs mb-1",e.isDark?"text-gray-500":"text-gray-600"])},"",2),Qn(M("input",{type:"text","onUpdate:modelValue":P[7]||(P[7]=S=>i.value=S),placeholder:"V, A, C...",class:Y(["w-full rounded px-2 py-1.5 text-sm focus:outline-none focus:border-blue-500",e.isDark?"bg-gray-700 border border-gray-600 text-white":"bg-white border border-gray-400 text-gray-900"]),onFocus:P[8]||(P[8]=S=>d.value=!0),onBlur:b,onKeyup:P[9]||(P[9]=el(S=>S.target.blur(),["enter"]))},null,34),[[Xn,i.value]])]),M("div",null,[M("label",{class:Y(["block text-xs mb-1",e.isDark?"text-gray-500":"text-gray-600"])},"",2),Qn(M("input",{type:"text","onUpdate:modelValue":P[10]||(P[10]=S=>c.value=S),placeholder:"1.0",class:Y(["w-full rounded px-2 py-1.5 text-sm focus:outline-none focus:border-blue-500",e.isDark?"bg-gray-700 border border-gray-600 text-white":"bg-white border border-gray-400 text-gray-900"]),onFocus:P[11]||(P[11]=S=>h.value=!0),onBlur:C,onKeyup:P[12]||(P[12]=el(S=>S.target.blur(),["enter"]))},null,34),[[Xn,c.value]])])]),e.stats?(xe(),ke("div",{key:0,class:Y(["pt-2 border-t",e.isDark?"border-gray-700":"border-gray-300"])},[M("div",{class:Y(["text-xs mb-2",e.isDark?"text-gray-500":"text-gray-600"])},"",2),e.cursorValue!=null?(xe(),ke("div",{key:0,class:Y(["mb-2 flex items-center justify-between rounded px-2 py-1.5 border",e.isDark?"bg-yellow-900/30 border-yellow-700/30":"bg-yellow-50 border-yellow-300"])},[M("span",lg,[P[19]||(P[19]=M("svg",{class:"w-3 h-3 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[M("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 15l-2 5L9 9l11 4-5 2z"})],-1)),dn("  ["+Te(e.cursorIndex)+"]: ",1)]),M("span",sg,[dn(Te(Se(At)(e.cursorValue))+" ",1),e.channel.unit?(xe(),ke("span",rg,Te(e.channel.unit),1)):st("",!0)])],2)):st("",!0),M("div",og,[M("div",ig,[M("span",{class:Y(e.isDark?"text-gray-500":"text-gray-600")},":",2),M("span",ag,Te(Se(At)(e.stats.min)),1)]),M("div",cg,[M("span",{class:Y(e.isDark?"text-gray-500":"text-gray-600")},":",2),M("span",ug,Te(Se(At)(e.stats.max)),1)]),M("div",fg,[M("span",{class:Y(e.isDark?"text-gray-500":"text-gray-600")},":",2),M("span",dg,Te(Se(At)(e.stats.avg)),1)]),M("div",hg,[M("span",{class:Y(e.isDark?"text-gray-500":"text-gray-600")},":",2),M("span",{class:Y(["font-mono tabular-nums",e.isDark?"text-white":"text-gray-900"])},Te(Se(At)(e.stats.current)),3)]),M("div",{class:Y(["flex justify-between col-span-2 pt-1 border-t mt-1",e.isDark?"border-gray-700":"border-gray-300"])},[M("span",{class:Y(e.isDark?"text-gray-500":"text-gray-600")},":",2),M("span",gg,Te(Se(At)(E.value)),1)],2)])],2)):st("",!0),M("div",pg,[M("button",{class:Y(["flex-1 px-2 py-1 text-xs rounded text-white",e.channel.visible?e.isDark?"bg-gray-600 hover:bg-gray-500":"bg-gray-500 hover:bg-gray-600":"bg-blue-600 hover:bg-blue-500"]),onClick:P[13]||(P[13]=S=>l("toggleVisibility"))},Te(e.channel.visible?"":""),3),M("button",{class:Y(["px-2 py-1 text-xs text-white rounded",e.isDark?"bg-gray-600 hover:bg-gray-500":"bg-gray-500 hover:bg-gray-600"]),onClick:P[14]||(P[14]=S=>l("update",{name:` ${e.channel.id+1}`,unit:"",coefficient:1})),title:""},"  ",2)])],2)):st("",!0)],2))}}),vg={class:"mb-3"},bg=["value"],yg=["value"],xg=["min","max"],wg={class:"flex-1 overflow-y-auto p-4"},Sg={key:1,class:"space-y-2"},Cg=Cl({__name:"SidePanel",props:{bufferSize:{},protocol:{},channels:{},channelCount:{},cursorValues:{},cursorIndex:{},getChannelStats:{type:Function},isDark:{type:Boolean}},emits:["update:bufferSize","update:protocol","updateChannel","toggleVisibility"],setup(e,{emit:t}){const n=e,l=t,s=ve(n.bufferSize),r=ve(!1);ct(()=>n.bufferSize,f=>{r.value||(s.value=f)});const o=()=>{r.value=!1;const f=Math.max(As,Math.min(Ps,s.value));s.value=f,l("update:bufferSize",f)},i=ll(()=>n.channels.slice(0,n.channelCount)),c=f=>!n.cursorValues||f>=n.cursorValues.length?null:n.cursorValues[f];return(f,d)=>{var h;return xe(),ke("aside",{class:Y(["w-72 flex-shrink-0 border-r flex flex-col overflow-hidden",e.isDark?"bg-gray-800 border-gray-700":"bg-white border-gray-300"])},[M("div",{class:Y(["p-4 border-b",e.isDark?"border-gray-700":"border-gray-300"])},[M("h2",{class:Y(["text-sm font-semibold mb-3",e.isDark?"text-gray-400":"text-gray-700"])},"",2),M("div",vg,[M("label",{class:Y(["block text-xs mb-1",e.isDark?"text-gray-500":"text-gray-600"])},"",2),M("select",{value:e.protocol,class:Y(["w-full rounded px-3 py-1.5 text-sm focus:outline-none focus:border-blue-500",e.isDark?"bg-gray-700 border border-gray-600 text-white":"bg-white border border-gray-400 text-gray-900"]),onChange:d[0]||(d[0]=v=>l("update:protocol",v.target.value))},[(xe(!0),ke(gt,null,Ql(Se(Ua),v=>(xe(),ke("option",{key:v.value,value:v.value},Te(v.label),9,yg))),128))],42,bg),M("div",{class:Y(["text-xs mt-1",e.isDark?"text-gray-600":"text-gray-500"])},Te((h=Se(Ua).find(v=>v.value===e.protocol))==null?void 0:h.description),3)]),M("div",null,[M("label",{class:Y(["block text-xs mb-1",e.isDark?"text-gray-500":"text-gray-600"])},"  ("+Te(Se(As).toLocaleString())+" - "+Te(Se(Ps).toLocaleString())+") ",3),Qn(M("input",{type:"number","onUpdate:modelValue":d[1]||(d[1]=v=>s.value=v),min:Se(As),max:Se(Ps),step:"1000",class:Y(["w-full rounded px-3 py-1.5 text-sm focus:outline-none focus:border-blue-500",e.isDark?"bg-gray-700 border border-gray-600 text-white":"bg-white border border-gray-400 text-gray-900"]),onFocus:d[2]||(d[2]=v=>r.value=!0),onBlur:o,onKeydown:d[3]||(d[3]=el(v=>v.target.blur(),["enter"]))},null,42,xg),[[Xn,s.value,void 0,{number:!0}]])])],2),M("div",wg,[M("h2",{class:Y(["text-sm font-semibold mb-3",e.isDark?"text-gray-400":"text-gray-700"])},"  ("+Te(e.channelCount)+") ",3),e.channelCount===0?(xe(),ke("div",{key:0,class:Y(["text-sm text-center py-4",(e.isDark,"text-gray-500")])}," ... ",2)):(xe(),ke("div",Sg,[(xe(!0),ke(gt,null,Ql(i.value,v=>(xe(),Vs(mg,{key:v.id,channel:v,stats:e.getChannelStats(v.id),"cursor-value":c(v.id),"cursor-index":e.cursorIndex,"is-dark":e.isDark,onUpdate:b=>l("updateChannel",v.id,b),onToggleVisibility:b=>l("toggleVisibility",v.id)},null,8,["channel","stats","cursor-value","cursor-index","is-dark","onUpdate","onToggleVisibility"]))),128))]))])],2)}}}),kg=!0,bt="u-",Dg="uplot",Mg=bt+"hz",Tg=bt+"vt",Eg=bt+"title",Ag=bt+"wrap",Pg=bt+"under",_g=bt+"over",Rg=bt+"axis",bl=bt+"off",Fg=bt+"select",Ig=bt+"cursor-x",Lg=bt+"cursor-y",Ug=bt+"cursor-pt",Og=bt+"legend",Vg=bt+"live",zg=bt+"inline",$g=bt+"series",Bg=bt+"marker",Va=bt+"label",Ng=bt+"value",xs="width",ws="height",ms="top",za="bottom",Bl="left",yo="right",pi="#000",$a=pi+"0",xo="mousemove",Ba="mousedown",wo="mouseup",Na="mouseenter",Ha="mouseleave",Wa="dblclick",Hg="resize",Wg="scroll",ja="change",mr="dppxchange",mi="--",ss=typeof window<"u",zo=ss?document:null,Jl=ss?window:null,jg=ss?navigator:null;let Be,tr;function $o(){let e=devicePixelRatio;Be!=e&&(Be=e,tr&&No(ja,tr,$o),tr=matchMedia(`(min-resolution: ${Be-.001}dppx) and (max-resolution: ${Be+.001}dppx)`),wl(ja,tr,$o),Jl.dispatchEvent(new CustomEvent(mr)))}function qt(e,t){if(t!=null){let n=e.classList;!n.contains(t)&&n.add(t)}}function Bo(e,t){let n=e.classList;n.contains(t)&&n.remove(t)}function nt(e,t,n){e.style[t]=n+"px"}function un(e,t,n,l){let s=zo.createElement(e);return t!=null&&qt(s,t),n!=null&&n.insertBefore(s,l),s}function ln(e,t){return un("div",e,t)}const Ka=new WeakMap;function Sn(e,t,n,l,s){let r="translate("+t+"px,"+n+"px)",o=Ka.get(e);r!=o&&(e.style.transform=r,Ka.set(e,r),t<0||n<0||t>l||n>s?qt(e,bl):Bo(e,bl))}const Ga=new WeakMap;function Ya(e,t,n){let l=t+n,s=Ga.get(e);l!=s&&(Ga.set(e,l),e.style.background=t,e.style.borderColor=n)}const qa=new WeakMap;function Ja(e,t,n,l){let s=t+""+n,r=qa.get(e);s!=r&&(qa.set(e,s),e.style.height=n+"px",e.style.width=t+"px",e.style.marginLeft=l?-t/2+"px":0,e.style.marginTop=l?-n/2+"px":0)}const vi={passive:!0},Kg={...vi,capture:!0};function wl(e,t,n,l){t.addEventListener(e,n,l?Kg:vi)}function No(e,t,n,l){t.removeEventListener(e,n,vi)}ss&&$o();function fn(e,t,n,l){let s;n=n||0,l=l||t.length-1;let r=l<=2147483647;for(;l-n>1;)s=r?n+l>>1:Zt((n+l)/2),t[s]<e?n=s:l=s;return e-t[n]<=t[l]-e?n:l}function Pu(e){return(n,l,s)=>{let r=-1,o=-1;for(let i=l;i<=s;i++)if(e(n[i])){r=i;break}for(let i=s;i>=l;i--)if(e(n[i])){o=i;break}return[r,o]}}const _u=e=>e!=null,Ru=e=>e!=null&&e>0,Pr=Pu(_u),Gg=Pu(Ru);function Yg(e,t,n,l=0,s=!1){let r=s?Gg:Pr,o=s?Ru:_u;[t,n]=r(e,t,n);let i=e[t],c=e[t];if(t>-1)if(l==1)i=e[t],c=e[n];else if(l==-1)i=e[n],c=e[t];else for(let f=t;f<=n;f++){let d=e[f];o(d)&&(d<i?i=d:d>c&&(c=d))}return[i??Je,c??-Je]}function _r(e,t,n,l){let s=Xa(e),r=Xa(t);e==t&&(s==-1?(e*=n,t/=n):(e/=n,t*=n));let o=n==10?Ln:Fu,i=s==1?Zt:sn,c=r==1?sn:Zt,f=i(o(vt(e))),d=c(o(vt(t))),h=es(n,f),v=es(n,d);return n==10&&(f<0&&(h=Ze(h,-f)),d<0&&(v=Ze(v,-d))),l||n==2?(e=h*s,t=v*r):(e=Ou(e,h),t=Rr(t,v)),[e,t]}function bi(e,t,n,l){let s=_r(e,t,n,l);return e==0&&(s[0]=0),t==0&&(s[1]=0),s}const yi=.1,Za={mode:3,pad:yi},_s={pad:0,soft:null,mode:0},qg={min:_s,max:_s};function vr(e,t,n,l){return Fr(n)?Qa(e,t,n):(_s.pad=n,_s.soft=l?0:null,_s.mode=l?3:0,Qa(e,t,qg))}function Ve(e,t){return e??t}function Jg(e,t,n){for(t=Ve(t,0),n=Ve(n,e.length-1);t<=n;){if(e[t]!=null)return!0;t++}return!1}function Qa(e,t,n){let l=n.min,s=n.max,r=Ve(l.pad,0),o=Ve(s.pad,0),i=Ve(l.hard,-Je),c=Ve(s.hard,Je),f=Ve(l.soft,Je),d=Ve(s.soft,-Je),h=Ve(l.mode,0),v=Ve(s.mode,0),b=t-e,C=Ln(b),E=$t(vt(e),vt(t)),V=Ln(E),$=vt(V-C);(b<1e-24||$>10)&&(b=0,(e==0||t==0)&&(b=1e-24,h==2&&f!=Je&&(r=0),v==2&&d!=-Je&&(o=0)));let _=b||E||1e3,P=Ln(_),S=es(10,Zt(P)),oe=_*(b==0?e==0?.1:1:r),te=Ze(Ou(e-oe,S/10),24),de=e>=f&&(h==1||h==3&&te<=f||h==2&&te>=f)?f:Je,he=$t(i,te<de&&e>=de?de:hn(de,te)),ge=_*(b==0?t==0?.1:1:o),pe=Ze(Rr(t+ge,S/10),24),J=t<=d&&(v==1||v==3&&pe>=d||v==2&&pe<=d)?d:-Je,ye=hn(c,pe>J&&t<=J?J:$t(J,pe));return he==ye&&he==0&&(ye=100),[he,ye]}const Zg=new Intl.NumberFormat(ss?jg.language:"en-US"),xi=e=>Zg.format(e),Qt=Math,cr=Qt.PI,vt=Qt.abs,Zt=Qt.floor,mt=Qt.round,sn=Qt.ceil,hn=Qt.min,$t=Qt.max,es=Qt.pow,Xa=Qt.sign,Ln=Qt.log10,Fu=Qt.log2,Qg=(e,t=1)=>Qt.sinh(e)*t,So=(e,t=1)=>Qt.asinh(e/t),Je=1/0;function ec(e){return(Ln((e^e>>31)-(e>>31))|0)+1}function Ho(e,t,n){return hn($t(e,t),n)}function Iu(e){return typeof e=="function"}function Le(e){return Iu(e)?e:()=>e}const Xg=()=>{},Lu=e=>e,Uu=(e,t)=>t,ep=e=>null,tc=e=>!0,nc=(e,t)=>e==t,tp=/\.\d*?(?=9{6,}|0{6,})/gm,Sl=e=>{if(zu(e)||sl.has(e))return e;const t=`${e}`,n=t.match(tp);if(n==null)return e;let l=n[0].length-1;if(t.indexOf("e-")!=-1){let[s,r]=t.split("e");return+`${Sl(s)}e${r}`}return Ze(e,l)};function ml(e,t){return Sl(Ze(Sl(e/t))*t)}function Rr(e,t){return Sl(sn(Sl(e/t))*t)}function Ou(e,t){return Sl(Zt(Sl(e/t))*t)}function Ze(e,t=0){if(zu(e))return e;let n=10**t,l=e*n*(1+Number.EPSILON);return mt(l)/n}const sl=new Map;function Vu(e){return((""+e).split(".")[1]||"").length}function $s(e,t,n,l){let s=[],r=l.map(Vu);for(let o=t;o<n;o++){let i=vt(o),c=Ze(es(e,o),i);for(let f=0;f<l.length;f++){let d=e==10?+`${l[f]}e${o}`:l[f]*c,h=(o>=0?0:i)+(o>=r[f]?0:r[f]),v=e==10?d:Ze(d,h);s.push(v),sl.set(v,h)}}return s}const Rs={},wi=[],ts=[null,null],Zn=Array.isArray,zu=Number.isInteger,np=e=>e===void 0;function lc(e){return typeof e=="string"}function Fr(e){let t=!1;if(e!=null){let n=e.constructor;t=n==null||n==Object}return t}function lp(e){return e!=null&&typeof e=="object"}const sp=Object.getPrototypeOf(Uint8Array),$u="__proto__";function ns(e,t=Fr){let n;if(Zn(e)){let l=e.find(s=>s!=null);if(Zn(l)||t(l)){n=Array(e.length);for(let s=0;s<e.length;s++)n[s]=ns(e[s],t)}else n=e.slice()}else if(e instanceof sp)n=e.slice();else if(t(e)){n={};for(let l in e)l!=$u&&(n[l]=ns(e[l],t))}else n=e;return n}function ht(e){let t=arguments;for(let n=1;n<t.length;n++){let l=t[n];for(let s in l)s!=$u&&(Fr(e[s])?ht(e[s],ns(l[s])):e[s]=ns(l[s]))}return e}const rp=0,op=1,ip=2;function ap(e,t,n){for(let l=0,s,r=-1;l<t.length;l++){let o=t[l];if(o>r){for(s=o-1;s>=0&&e[s]==null;)e[s--]=null;for(s=o+1;s<n&&e[s]==null;)e[r=s++]=null}}}function cp(e,t){if(dp(e)){let o=e[0].slice();for(let i=1;i<e.length;i++)o.push(...e[i].slice(1));return hp(o[0])||(o=fp(o)),o}let n=new Set;for(let o=0;o<e.length;o++){let c=e[o][0],f=c.length;for(let d=0;d<f;d++)n.add(c[d])}let l=[Array.from(n).sort((o,i)=>o-i)],s=l[0].length,r=new Map;for(let o=0;o<s;o++)r.set(l[0][o],o);for(let o=0;o<e.length;o++){let i=e[o],c=i[0];for(let f=1;f<i.length;f++){let d=i[f],h=Array(s).fill(void 0),v=t?t[o][f]:op,b=[];for(let C=0;C<d.length;C++){let E=d[C],V=r.get(c[C]);E===null?v!=rp&&(h[V]=E,v==ip&&b.push(V)):h[V]=E}ap(h,b,s),l.push(h)}}return l}const up=typeof queueMicrotask>"u"?e=>Promise.resolve().then(e):queueMicrotask;function fp(e){let t=e[0],n=t.length,l=Array(n);for(let r=0;r<l.length;r++)l[r]=r;l.sort((r,o)=>t[r]-t[o]);let s=[];for(let r=0;r<e.length;r++){let o=e[r],i=Array(n);for(let c=0;c<n;c++)i[c]=o[l[c]];s.push(i)}return s}function dp(e){let t=e[0][0],n=t.length;for(let l=1;l<e.length;l++){let s=e[l][0];if(s.length!=n)return!1;if(s!=t){for(let r=0;r<n;r++)if(s[r]!=t[r])return!1}}return!0}function hp(e,t=100){const n=e.length;if(n<=1)return!0;let l=0,s=n-1;for(;l<=s&&e[l]==null;)l++;for(;s>=l&&e[s]==null;)s--;if(s<=l)return!0;const r=$t(1,Zt((s-l+1)/t));for(let o=e[l],i=l+r;i<=s;i+=r){const c=e[i];if(c!=null){if(c<=o)return!1;o=c}}return!0}const Bu=["January","February","March","April","May","June","July","August","September","October","November","December"],Nu=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function Hu(e){return e.slice(0,3)}const gp=Nu.map(Hu),pp=Bu.map(Hu),mp={MMMM:Bu,MMM:pp,WWWW:Nu,WWW:gp};function vs(e){return(e<10?"0":"")+e}function vp(e){return(e<10?"00":e<100?"0":"")+e}const bp={YYYY:e=>e.getFullYear(),YY:e=>(e.getFullYear()+"").slice(2),MMMM:(e,t)=>t.MMMM[e.getMonth()],MMM:(e,t)=>t.MMM[e.getMonth()],MM:e=>vs(e.getMonth()+1),M:e=>e.getMonth()+1,DD:e=>vs(e.getDate()),D:e=>e.getDate(),WWWW:(e,t)=>t.WWWW[e.getDay()],WWW:(e,t)=>t.WWW[e.getDay()],HH:e=>vs(e.getHours()),H:e=>e.getHours(),h:e=>{let t=e.getHours();return t==0?12:t>12?t-12:t},AA:e=>e.getHours()>=12?"PM":"AM",aa:e=>e.getHours()>=12?"pm":"am",a:e=>e.getHours()>=12?"p":"a",mm:e=>vs(e.getMinutes()),m:e=>e.getMinutes(),ss:e=>vs(e.getSeconds()),s:e=>e.getSeconds(),fff:e=>vp(e.getMilliseconds())};function Si(e,t){t=t||mp;let n=[],l=/\{([a-z]+)\}|[^{]+/gi,s;for(;s=l.exec(e);)n.push(s[0][0]=="{"?bp[s[1]]:s[0]);return r=>{let o="";for(let i=0;i<n.length;i++)o+=typeof n[i]=="string"?n[i]:n[i](r,t);return o}}const yp=new Intl.DateTimeFormat().resolvedOptions().timeZone;function xp(e,t){let n;return t=="UTC"||t=="Etc/UTC"?n=new Date(+e+e.getTimezoneOffset()*6e4):t==yp?n=e:(n=new Date(e.toLocaleString("en-US",{timeZone:t})),n.setMilliseconds(e.getMilliseconds())),n}const Wu=e=>e%1==0,br=[1,2,2.5,5],wp=$s(10,-32,0,br),ju=$s(10,0,32,br),Sp=ju.filter(Wu),vl=wp.concat(ju),Ci=`
`,Ku="{YYYY}",sc=Ci+Ku,Gu="{M}/{D}",Ss=Ci+Gu,nr=Ss+"/{YY}",Yu="{aa}",Cp="{h}:{mm}",Wl=Cp+Yu,rc=Ci+Wl,oc=":{ss}",Ne=null;function qu(e){let t=e*1e3,n=t*60,l=n*60,s=l*24,r=s*30,o=s*365,c=(e==1?$s(10,0,3,br).filter(Wu):$s(10,-3,0,br)).concat([t,t*5,t*10,t*15,t*30,n,n*5,n*10,n*15,n*30,l,l*2,l*3,l*4,l*6,l*8,l*12,s,s*2,s*3,s*4,s*5,s*6,s*7,s*8,s*9,s*10,s*15,r,r*2,r*3,r*4,r*6,o,o*2,o*5,o*10,o*25,o*50,o*100]);const f=[[o,Ku,Ne,Ne,Ne,Ne,Ne,Ne,1],[s*28,"{MMM}",sc,Ne,Ne,Ne,Ne,Ne,1],[s,Gu,sc,Ne,Ne,Ne,Ne,Ne,1],[l,"{h}"+Yu,nr,Ne,Ss,Ne,Ne,Ne,1],[n,Wl,nr,Ne,Ss,Ne,Ne,Ne,1],[t,oc,nr+" "+Wl,Ne,Ss+" "+Wl,Ne,rc,Ne,1],[e,oc+".{fff}",nr+" "+Wl,Ne,Ss+" "+Wl,Ne,rc,Ne,1]];function d(h){return(v,b,C,E,V,$)=>{let _=[],P=V>=o,S=V>=r&&V<o,oe=h(C),te=Ze(oe*e,3),de=Co(oe.getFullYear(),P?0:oe.getMonth(),S||P?1:oe.getDate()),he=Ze(de*e,3);if(S||P){let ge=S?V/r:0,pe=P?V/o:0,J=te==he?te:Ze(Co(de.getFullYear()+pe,de.getMonth()+ge,1)*e,3),ye=new Date(mt(J/e)),re=ye.getFullYear(),ne=ye.getMonth();for(let z=0;J<=E;z++){let N=Co(re+pe*z,ne+ge*z,1),w=N-h(Ze(N*e,3));J=Ze((+N+w)*e,3),J<=E&&_.push(J)}}else{let ge=V>=s?s:V,pe=Zt(C)-Zt(te),J=he+pe+Rr(te-he,ge);_.push(J);let ye=h(J),re=ye.getHours()+ye.getMinutes()/n+ye.getSeconds()/l,ne=V/l,z=v.axes[b]._space,N=$/z;for(;J=Ze(J+V,e==1?0:3),!(J>E);)if(ne>1){let w=Zt(Ze(re+ne,6))%24,X=h(J).getHours()-w;X>1&&(X=-1),J-=X*l,re=(re+ne)%24;let se=_[_.length-1];Ze((J-se)/V,3)*N>=.7&&_.push(J)}else _.push(J)}return _}}return[c,f,d]}const[kp,Dp,Mp]=qu(1),[Tp,Ep,Ap]=qu(.001);$s(2,-53,53,[1]);function ic(e,t){return e.map(n=>n.map((l,s)=>s==0||s==8||l==null?l:t(s==1||n[8]==0?l:n[1]+l)))}function ac(e,t){return(n,l,s,r,o)=>{let i=t.find(C=>o>=C[0])||t[t.length-1],c,f,d,h,v,b;return l.map(C=>{let E=e(C),V=E.getFullYear(),$=E.getMonth(),_=E.getDate(),P=E.getHours(),S=E.getMinutes(),oe=E.getSeconds(),te=V!=c&&i[2]||$!=f&&i[3]||_!=d&&i[4]||P!=h&&i[5]||S!=v&&i[6]||oe!=b&&i[7]||i[1];return c=V,f=$,d=_,h=P,v=S,b=oe,te(E)})}}function Pp(e,t){let n=Si(t);return(l,s,r,o,i)=>s.map(c=>n(e(c)))}function Co(e,t,n){return new Date(e,t,n)}function cc(e,t){return t(e)}const _p="{YYYY}-{MM}-{DD} {h}:{mm}{aa}";function uc(e,t){return(n,l,s,r)=>r==null?mi:t(e(l))}function Rp(e,t){let n=e.series[t];return n.width?n.stroke(e,t):n.points.width?n.points.stroke(e,t):null}function Fp(e,t){return e.series[t].fill(e,t)}const Ip={show:!0,live:!0,isolate:!1,mount:Xg,markers:{show:!0,width:2,stroke:Rp,fill:Fp,dash:"solid"},idx:null,idxs:null,values:[]};function Lp(e,t){let n=e.cursor.points,l=ln(),s=n.size(e,t);nt(l,xs,s),nt(l,ws,s);let r=s/-2;nt(l,"marginLeft",r),nt(l,"marginTop",r);let o=n.width(e,t,s);return o&&nt(l,"borderWidth",o),l}function Up(e,t){let n=e.series[t].points;return n._fill||n._stroke}function Op(e,t){let n=e.series[t].points;return n._stroke||n._fill}function Vp(e,t){return e.series[t].points.size}const ko=[0,0];function zp(e,t,n){return ko[0]=t,ko[1]=n,ko}function lr(e,t,n,l=!0){return s=>{s.button==0&&(!l||s.target==t)&&n(s)}}function Do(e,t,n,l=!0){return s=>{(!l||s.target==t)&&n(s)}}const $p={show:!0,x:!0,y:!0,lock:!1,move:zp,points:{one:!1,show:Lp,size:Vp,width:0,stroke:Op,fill:Up},bind:{mousedown:lr,mouseup:lr,click:lr,dblclick:lr,mousemove:Do,mouseleave:Do,mouseenter:Do},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,click:(e,t)=>{t.stopPropagation(),t.stopImmediatePropagation()},_x:!1,_y:!1},focus:{dist:(e,t,n,l,s)=>l-s,prox:-1,bias:0},hover:{skip:[void 0],prox:null,bias:0},left:-10,top:-10,idx:null,dataIdx:null,idxs:null,event:null},Ju={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},ki=ht({},Ju,{filter:Uu}),Zu=ht({},ki,{size:10}),Qu=ht({},Ju,{show:!1}),Di='12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',Xu="bold "+Di,ef=1.5,fc={show:!0,scale:"x",stroke:pi,space:50,gap:5,alignTo:1,size:50,labelGap:0,labelSize:30,labelFont:Xu,side:2,grid:ki,ticks:Zu,border:Qu,font:Di,lineGap:ef,rotate:0},Bp="Value",Np="Time",dc={show:!0,scale:"x",auto:!1,sorted:1,min:Je,max:-Je,idxs:[]};function Hp(e,t,n,l,s){return t.map(r=>r==null?"":xi(r))}function Wp(e,t,n,l,s,r,o){let i=[],c=sl.get(s)||0;n=o?n:Ze(Rr(n,s),c);for(let f=n;f<=l;f=Ze(f+s,c))i.push(Object.is(f,-0)?0:f);return i}function Wo(e,t,n,l,s,r,o){const i=[],c=e.scales[e.axes[t].scale].log,f=c==10?Ln:Fu,d=Zt(f(n));s=es(c,d),c==10&&(s=vl[fn(s,vl)]);let h=n,v=s*c;c==10&&(v=vl[fn(v,vl)]);do i.push(h),h=h+s,c==10&&!sl.has(h)&&(h=Ze(h,sl.get(s))),h>=v&&(s=h,v=s*c,c==10&&(v=vl[fn(v,vl)]));while(h<=l);return i}function jp(e,t,n,l,s,r,o){let c=e.scales[e.axes[t].scale].asinh,f=l>c?Wo(e,t,$t(c,n),l,s):[c],d=l>=0&&n<=0?[0]:[];return(n<-c?Wo(e,t,$t(c,-l),-n,s):[c]).reverse().map(v=>-v).concat(d,f)}const tf=/./,Kp=/[12357]/,Gp=/[125]/,hc=/1/,jo=(e,t,n,l)=>e.map((s,r)=>t==4&&s==0||r%l==0&&n.test(s.toExponential()[s<0?1:0])?s:null);function Yp(e,t,n,l,s){let r=e.axes[n],o=r.scale,i=e.scales[o],c=e.valToPos,f=r._space,d=c(10,o),h=c(9,o)-d>=f?tf:c(7,o)-d>=f?Kp:c(5,o)-d>=f?Gp:hc;if(h==hc){let v=vt(c(1,o)-d);if(v<f)return jo(t.slice().reverse(),i.distr,h,sn(f/v)).reverse()}return jo(t,i.distr,h,1)}function qp(e,t,n,l,s){let r=e.axes[n],o=r.scale,i=r._space,c=e.valToPos,f=vt(c(1,o)-c(2,o));return f<i?jo(t.slice().reverse(),3,tf,sn(i/f)).reverse():t}function Jp(e,t,n,l){return l==null?mi:t==null?"":xi(t)}const gc={show:!0,scale:"y",stroke:pi,space:30,gap:5,alignTo:1,size:50,labelGap:0,labelSize:30,labelFont:Xu,side:3,grid:ki,ticks:Zu,border:Qu,font:Di,lineGap:ef,rotate:0};function Zp(e,t){let n=3+(e||1)*2;return Ze(n*t,3)}function Qp(e,t){let{scale:n,idxs:l}=e.series[0],s=e._data[0],r=e.valToPos(s[l[0]],n,!0),o=e.valToPos(s[l[1]],n,!0),i=vt(o-r),c=e.series[t],f=i/(c.points.space*Be);return l[1]-l[0]<=f}const pc={scale:null,auto:!0,sorted:0,min:Je,max:-Je},nf=(e,t,n,l,s)=>s,mc={show:!0,auto:!0,sorted:0,gaps:nf,alpha:1,facets:[ht({},pc,{scale:"x"}),ht({},pc,{scale:"y"})]},vc={scale:"y",auto:!0,sorted:0,show:!0,spanGaps:!1,gaps:nf,alpha:1,points:{show:Qp,filter:null},values:null,min:Je,max:-Je,idxs:[],path:null,clip:null};function Xp(e,t,n,l,s){return n/10}const lf={time:kg,auto:!0,distr:1,log:10,asinh:1,min:null,max:null,dir:1,ori:0},em=ht({},lf,{time:!1,ori:1}),bc={};function sf(e,t){let n=bc[e];return n||(n={key:e,plots:[],sub(l){n.plots.push(l)},unsub(l){n.plots=n.plots.filter(s=>s!=l)},pub(l,s,r,o,i,c,f){for(let d=0;d<n.plots.length;d++)n.plots[d]!=s&&n.plots[d].pub(l,s,r,o,i,c,f)}},e!=null&&(bc[e]=n)),n}const ls=1,Ko=2;function kl(e,t,n){const l=e.mode,s=e.series[t],r=l==2?e._data[t]:e._data,o=e.scales,i=e.bbox;let c=r[0],f=l==2?r[1]:r[t],d=l==2?o[s.facets[0].scale]:o[e.series[0].scale],h=l==2?o[s.facets[1].scale]:o[s.scale],v=i.left,b=i.top,C=i.width,E=i.height,V=e.valToPosH,$=e.valToPosV;return d.ori==0?n(s,c,f,d,h,V,$,v,b,C,E,Lr,rs,Or,of,cf):n(s,c,f,d,h,$,V,b,v,E,C,Ur,os,Ei,af,uf)}function Mi(e,t){let n=0,l=0,s=Ve(e.bands,wi);for(let r=0;r<s.length;r++){let o=s[r];o.series[0]==t?n=o.dir:o.series[1]==t&&(o.dir==1?l|=1:l|=2)}return[n,l==1?-1:l==2?1:l==3?2:0]}function tm(e,t,n,l,s){let r=e.mode,o=e.series[t],i=r==2?o.facets[1].scale:o.scale,c=e.scales[i];return s==-1?c.min:s==1?c.max:c.distr==3?c.dir==1?c.min:c.max:0}function Un(e,t,n,l,s,r){return kl(e,t,(o,i,c,f,d,h,v,b,C,E,V)=>{let $=o.pxRound;const _=f.dir*(f.ori==0?1:-1),P=f.ori==0?rs:os;let S,oe;_==1?(S=n,oe=l):(S=l,oe=n);let te=$(h(i[S],f,E,b)),de=$(v(c[S],d,V,C)),he=$(h(i[oe],f,E,b)),ge=$(v(r==1?d.max:d.min,d,V,C)),pe=new Path2D(s);return P(pe,he,ge),P(pe,te,ge),P(pe,te,de),pe})}function Ir(e,t,n,l,s,r){let o=null;if(e.length>0){o=new Path2D;const i=t==0?Or:Ei;let c=n;for(let h=0;h<e.length;h++){let v=e[h];if(v[1]>v[0]){let b=v[0]-c;b>0&&i(o,c,l,b,l+r),c=v[1]}}let f=n+s-c,d=10;f>0&&i(o,c,l-d/2,f,l+r+d)}return o}function nm(e,t,n){let l=e[e.length-1];l&&l[0]==t?l[1]=n:e.push([t,n])}function Ti(e,t,n,l,s,r,o){let i=[],c=e.length;for(let f=s==1?n:l;f>=n&&f<=l;f+=s)if(t[f]===null){let h=f,v=f;if(s==1)for(;++f<=l&&t[f]===null;)v=f;else for(;--f>=n&&t[f]===null;)v=f;let b=r(e[h]),C=v==h?b:r(e[v]),E=h-s;b=o<=0&&E>=0&&E<c?r(e[E]):b;let $=v+s;C=o>=0&&$>=0&&$<c?r(e[$]):C,C>=b&&i.push([b,C])}return i}function yc(e){return e==0?Lu:e==1?mt:t=>ml(t,e)}function rf(e){let t=e==0?Lr:Ur,n=e==0?(s,r,o,i,c,f)=>{s.arcTo(r,o,i,c,f)}:(s,r,o,i,c,f)=>{s.arcTo(o,r,c,i,f)},l=e==0?(s,r,o,i,c)=>{s.rect(r,o,i,c)}:(s,r,o,i,c)=>{s.rect(o,r,c,i)};return(s,r,o,i,c,f=0,d=0)=>{f==0&&d==0?l(s,r,o,i,c):(f=hn(f,i/2,c/2),d=hn(d,i/2,c/2),t(s,r+f,o),n(s,r+i,o,r+i,o+c,f),n(s,r+i,o+c,r,o+c,d),n(s,r,o+c,r,o,d),n(s,r,o,r+i,o,f),s.closePath())}}const Lr=(e,t,n)=>{e.moveTo(t,n)},Ur=(e,t,n)=>{e.moveTo(n,t)},rs=(e,t,n)=>{e.lineTo(t,n)},os=(e,t,n)=>{e.lineTo(n,t)},Or=rf(0),Ei=rf(1),of=(e,t,n,l,s,r)=>{e.arc(t,n,l,s,r)},af=(e,t,n,l,s,r)=>{e.arc(n,t,l,s,r)},cf=(e,t,n,l,s,r,o)=>{e.bezierCurveTo(t,n,l,s,r,o)},uf=(e,t,n,l,s,r,o)=>{e.bezierCurveTo(n,t,s,l,o,r)};function ff(e){return(t,n,l,s,r)=>kl(t,n,(o,i,c,f,d,h,v,b,C,E,V)=>{let{pxRound:$,points:_}=o,P,S;f.ori==0?(P=Lr,S=of):(P=Ur,S=af);const oe=Ze(_.width*Be,3);let te=(_.size-_.width)/2*Be,de=Ze(te*2,3),he=new Path2D,ge=new Path2D,{left:pe,top:J,width:ye,height:re}=t.bbox;Or(ge,pe-de,J-de,ye+de*2,re+de*2);const ne=z=>{if(c[z]!=null){let N=$(h(i[z],f,E,b)),w=$(v(c[z],d,V,C));P(he,N+te,w),S(he,N,w,te,0,cr*2)}};if(r)r.forEach(ne);else for(let z=l;z<=s;z++)ne(z);return{stroke:oe>0?he:null,fill:he,clip:ge,flags:ls|Ko}})}function df(e){return(t,n,l,s,r,o)=>{l!=s&&(r!=l&&o!=l&&e(t,n,l),r!=s&&o!=s&&e(t,n,s),e(t,n,o))}}const lm=df(rs),sm=df(os);function hf(e){const t=Ve(e==null?void 0:e.alignGaps,0);return(n,l,s,r)=>kl(n,l,(o,i,c,f,d,h,v,b,C,E,V)=>{[s,r]=Pr(c,s,r);let $=o.pxRound,_=re=>$(h(re,f,E,b)),P=re=>$(v(re,d,V,C)),S,oe;f.ori==0?(S=rs,oe=lm):(S=os,oe=sm);const te=f.dir*(f.ori==0?1:-1),de={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:ls},he=de.stroke;let ge=!1;if(r-s>=E*4){let re=Z=>n.posToVal(Z,f.key,!0),ne=null,z=null,N,w,j,K=_(i[te==1?s:r]),X=_(i[s]),se=_(i[r]),Q=re(te==1?X+1:se-1);for(let Z=te==1?s:r;Z>=s&&Z<=r;Z+=te){let Ce=i[Z],ce=(te==1?Ce<Q:Ce>Q)?K:_(Ce),fe=c[Z];ce==K?fe!=null?(w=fe,ne==null?(S(he,ce,P(w)),N=ne=z=w):w<ne?ne=w:w>z&&(z=w)):fe===null&&(ge=!0):(ne!=null&&oe(he,K,P(ne),P(z),P(N),P(w)),fe!=null?(w=fe,S(he,ce,P(w)),ne=z=N=w):(ne=z=null,fe===null&&(ge=!0)),K=ce,Q=re(K+te))}ne!=null&&ne!=z&&j!=K&&oe(he,K,P(ne),P(z),P(N),P(w))}else for(let re=te==1?s:r;re>=s&&re<=r;re+=te){let ne=c[re];ne===null?ge=!0:ne!=null&&S(he,_(i[re]),P(ne))}let[J,ye]=Mi(n,l);if(o.fill!=null||J!=0){let re=de.fill=new Path2D(he),ne=o.fillTo(n,l,o.min,o.max,J),z=P(ne),N=_(i[s]),w=_(i[r]);te==-1&&([w,N]=[N,w]),S(re,w,z),S(re,N,z)}if(!o.spanGaps){let re=[];ge&&re.push(...Ti(i,c,s,r,te,_,t)),de.gaps=re=o.gaps(n,l,s,r,re),de.clip=Ir(re,f.ori,b,C,E,V)}return ye!=0&&(de.band=ye==2?[Un(n,l,s,r,he,-1),Un(n,l,s,r,he,1)]:Un(n,l,s,r,he,ye)),de})}function rm(e){const t=Ve(e.align,1),n=Ve(e.ascDesc,!1),l=Ve(e.alignGaps,0),s=Ve(e.extend,!1);return(r,o,i,c)=>kl(r,o,(f,d,h,v,b,C,E,V,$,_,P)=>{[i,c]=Pr(h,i,c);let S=f.pxRound,{left:oe,width:te}=r.bbox,de=X=>S(C(X,v,_,V)),he=X=>S(E(X,b,P,$)),ge=v.ori==0?rs:os;const pe={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:ls},J=pe.stroke,ye=v.dir*(v.ori==0?1:-1);let re=he(h[ye==1?i:c]),ne=de(d[ye==1?i:c]),z=ne,N=ne;s&&t==-1&&(N=oe,ge(J,N,re)),ge(J,ne,re);for(let X=ye==1?i:c;X>=i&&X<=c;X+=ye){let se=h[X];if(se==null)continue;let Q=de(d[X]),Z=he(se);t==1?ge(J,Q,re):ge(J,z,Z),ge(J,Q,Z),re=Z,z=Q}let w=z;s&&t==1&&(w=oe+te,ge(J,w,re));let[j,K]=Mi(r,o);if(f.fill!=null||j!=0){let X=pe.fill=new Path2D(J),se=f.fillTo(r,o,f.min,f.max,j),Q=he(se);ge(X,w,Q),ge(X,N,Q)}if(!f.spanGaps){let X=[];X.push(...Ti(d,h,i,c,ye,de,l));let se=f.width*Be/2,Q=n||t==1?se:-se,Z=n||t==-1?-se:se;X.forEach(Ce=>{Ce[0]+=Q,Ce[1]+=Z}),pe.gaps=X=f.gaps(r,o,i,c,X),pe.clip=Ir(X,v.ori,V,$,_,P)}return K!=0&&(pe.band=K==2?[Un(r,o,i,c,J,-1),Un(r,o,i,c,J,1)]:Un(r,o,i,c,J,K)),pe})}function xc(e,t,n,l,s,r,o=Je){if(e.length>1){let i=null;for(let c=0,f=1/0;c<e.length;c++)if(t[c]!==void 0){if(i!=null){let d=vt(e[c]-e[i]);d<f&&(f=d,o=vt(n(e[c],l,s,r)-n(e[i],l,s,r)))}i=c}}return o}function om(e){e=e||Rs;const t=Ve(e.size,[.6,Je,1]),n=e.align||0,l=e.gap||0;let s=e.radius;s=s==null?[0,0]:typeof s=="number"?[s,0]:s;const r=Le(s),o=1-t[0],i=Ve(t[1],Je),c=Ve(t[2],1),f=Ve(e.disp,Rs),d=Ve(e.each,b=>{}),{fill:h,stroke:v}=f;return(b,C,E,V)=>kl(b,C,($,_,P,S,oe,te,de,he,ge,pe,J)=>{let ye=$.pxRound,re=n,ne=l*Be,z=i*Be,N=c*Be,w,j;S.ori==0?[w,j]=r(b,C):[j,w]=r(b,C);const K=S.dir*(S.ori==0?1:-1);let X=S.ori==0?Or:Ei,se=S.ori==0?d:(L,le,me,Ee,Ye,je,ut)=>{d(L,le,me,Ye,Ee,ut,je)},Q=Ve(b.bands,wi).find(L=>L.series[0]==C),Z=Q!=null?Q.dir:0,Ce=$.fillTo(b,C,$.min,$.max,Z),we=ye(de(Ce,oe,J,ge)),ce,fe,Ae,Re=pe,Me=ye($.width*Be),Ue=!1,m=null,y=null,F=null,k=null;h!=null&&(Me==0||v!=null)&&(Ue=!0,m=h.values(b,C,E,V),y=new Map,new Set(m).forEach(L=>{L!=null&&y.set(L,new Path2D)}),Me>0&&(F=v.values(b,C,E,V),k=new Map,new Set(F).forEach(L=>{L!=null&&k.set(L,new Path2D)})));let{x0:D,size:A}=f;if(D!=null&&A!=null){re=1,_=D.values(b,C,E,V),D.unit==2&&(_=_.map(me=>b.posToVal(he+me*pe,S.key,!0)));let L=A.values(b,C,E,V);A.unit==2?fe=L[0]*pe:fe=te(L[0],S,pe,he)-te(0,S,pe,he),Re=xc(_,P,te,S,pe,he,Re),Ae=Re-fe+ne}else Re=xc(_,P,te,S,pe,he,Re),Ae=Re*o+ne,fe=Re-Ae;Ae<1&&(Ae=0),Me>=fe/2&&(Me=0),Ae<5&&(ye=Lu);let O=Ae>0,U=Re-Ae-(O?Me:0);fe=ye(Ho(U,N,z)),ce=(re==0?fe/2:re==K?0:fe)-re*K*((re==0?ne/2:0)+(O?Me/2:0));const R={stroke:null,fill:null,clip:null,band:null,gaps:null,flags:0},I=Ue?null:new Path2D;let G=null;if(Q!=null)G=b.data[Q.series[1]];else{let{y0:L,y1:le}=f;L!=null&&le!=null&&(P=le.values(b,C,E,V),G=L.values(b,C,E,V))}let H=w*fe,B=j*fe;for(let L=K==1?E:V;L>=E&&L<=V;L+=K){let le=P[L];if(le==null)continue;if(G!=null){let ft=G[L]??0;if(le-ft==0)continue;we=de(ft,oe,J,ge)}let me=S.distr!=2||f!=null?_[L]:L,Ee=te(me,S,pe,he),Ye=de(Ve(le,Ce),oe,J,ge),je=ye(Ee-ce),ut=ye($t(Ye,we)),Ke=ye(hn(Ye,we)),ot=ut-Ke;if(le!=null){let ft=le<0?B:H,ze=le<0?H:B;Ue?(Me>0&&F[L]!=null&&X(k.get(F[L]),je,Ke+Zt(Me/2),fe,$t(0,ot-Me),ft,ze),m[L]!=null&&X(y.get(m[L]),je,Ke+Zt(Me/2),fe,$t(0,ot-Me),ft,ze)):X(I,je,Ke+Zt(Me/2),fe,$t(0,ot-Me),ft,ze),se(b,C,L,je-Me/2,Ke,fe+Me,ot)}}return Me>0?R.stroke=Ue?k:I:Ue||(R._fill=$.width==0?$._fill:$._stroke??$._fill,R.width=0),R.fill=Ue?y:I,R})}function im(e,t){const n=Ve(t==null?void 0:t.alignGaps,0);return(l,s,r,o)=>kl(l,s,(i,c,f,d,h,v,b,C,E,V,$)=>{[r,o]=Pr(f,r,o);let _=i.pxRound,P=w=>_(v(w,d,V,C)),S=w=>_(b(w,h,$,E)),oe,te,de;d.ori==0?(oe=Lr,de=rs,te=cf):(oe=Ur,de=os,te=uf);const he=d.dir*(d.ori==0?1:-1);let ge=P(c[he==1?r:o]),pe=ge,J=[],ye=[];for(let w=he==1?r:o;w>=r&&w<=o;w+=he)if(f[w]!=null){let K=c[w],X=P(K);J.push(pe=X),ye.push(S(f[w]))}const re={stroke:e(J,ye,oe,de,te,_),fill:null,clip:null,band:null,gaps:null,flags:ls},ne=re.stroke;let[z,N]=Mi(l,s);if(i.fill!=null||z!=0){let w=re.fill=new Path2D(ne),j=i.fillTo(l,s,i.min,i.max,z),K=S(j);de(w,pe,K),de(w,ge,K)}if(!i.spanGaps){let w=[];w.push(...Ti(c,f,r,o,he,P,n)),re.gaps=w=i.gaps(l,s,r,o,w),re.clip=Ir(w,d.ori,C,E,V,$)}return N!=0&&(re.band=N==2?[Un(l,s,r,o,ne,-1),Un(l,s,r,o,ne,1)]:Un(l,s,r,o,ne,N)),re})}function am(e){return im(cm,e)}function cm(e,t,n,l,s,r){const o=e.length;if(o<2)return null;const i=new Path2D;if(n(i,e[0],t[0]),o==2)l(i,e[1],t[1]);else{let c=Array(o),f=Array(o-1),d=Array(o-1),h=Array(o-1);for(let v=0;v<o-1;v++)d[v]=t[v+1]-t[v],h[v]=e[v+1]-e[v],f[v]=d[v]/h[v];c[0]=f[0];for(let v=1;v<o-1;v++)f[v]===0||f[v-1]===0||f[v-1]>0!=f[v]>0?c[v]=0:(c[v]=3*(h[v-1]+h[v])/((2*h[v]+h[v-1])/f[v-1]+(h[v]+2*h[v-1])/f[v]),isFinite(c[v])||(c[v]=0));c[o-1]=f[o-2];for(let v=0;v<o-1;v++)s(i,e[v]+h[v]/3,t[v]+c[v]*h[v]/3,e[v+1]-h[v]/3,t[v+1]-c[v+1]*h[v]/3,e[v+1],t[v+1])}return i}const Go=new Set;function wc(){for(let e of Go)e.syncRect(!0)}ss&&(wl(Hg,Jl,wc),wl(Wg,Jl,wc,!0),wl(mr,Jl,()=>{Tt.pxRatio=Be}));const um=hf(),fm=ff();function Sc(e,t,n,l){return(l?[e[0],e[1]].concat(e.slice(2)):[e[0]].concat(e.slice(1))).map((r,o)=>Yo(r,o,t,n))}function dm(e,t){return e.map((n,l)=>l==0?{}:ht({},t,n))}function Yo(e,t,n,l){return ht({},t==0?n:l,e)}function gf(e,t,n){return t==null?ts:[t,n]}const hm=gf;function gm(e,t,n){return t==null?ts:vr(t,n,yi,!0)}function pf(e,t,n,l){return t==null?ts:_r(t,n,e.scales[l].log,!1)}const pm=pf;function mf(e,t,n,l){return t==null?ts:bi(t,n,e.scales[l].log,!1)}const mm=mf;function vm(e,t,n,l,s){let r=$t(ec(e),ec(t)),o=t-e,i=fn(s/l*o,n);do{let c=n[i],f=l*c/o;if(f>=s&&r+(c<5?sl.get(c):0)<=17)return[c,f]}while(++i<n.length);return[0,0]}function Cc(e){let t,n;return e=e.replace(/(\d+)px/,(l,s)=>(t=mt((n=+s)*Be))+"px"),[e,t,n]}function bm(e){e.show&&[e.font,e.labelFont].forEach(t=>{let n=Ze(t[2]*Be,1);t[0]=t[0].replace(/[0-9.]+px/,n+"px"),t[1]=n})}function Tt(e,t,n){const l={mode:Ve(e.mode,1)},s=l.mode;function r(a,u,g,p){let x=u.valToPct(a);return p+g*(u.dir==-1?1-x:x)}function o(a,u,g,p){let x=u.valToPct(a);return p+g*(u.dir==-1?x:1-x)}function i(a,u,g,p){return u.ori==0?r(a,u,g,p):o(a,u,g,p)}l.valToPosH=r,l.valToPosV=o;let c=!1;l.status=0;const f=l.root=ln(Dg);if(e.id!=null&&(f.id=e.id),qt(f,e.class),e.title){let a=ln(Eg,f);a.textContent=e.title}const d=un("canvas"),h=l.ctx=d.getContext("2d"),v=ln(Ag,f);wl("click",v,a=>{a.target===C&&(Xe!=Il||lt!=Ll)&&Mt.click(l,a)},!0);const b=l.under=ln(Pg,v);v.appendChild(d);const C=l.over=ln(_g,v);e=ns(e);const E=+Ve(e.pxAlign,1),V=yc(E);(e.plugins||[]).forEach(a=>{a.opts&&(e=a.opts(l,e)||e)});const $=e.ms||.001,_=l.series=s==1?Sc(e.series||[],dc,vc,!1):dm(e.series||[null],mc),P=l.axes=Sc(e.axes||[],fc,gc,!0),S=l.scales={},oe=l.bands=e.bands||[];oe.forEach(a=>{a.fill=Le(a.fill||null),a.dir=Ve(a.dir,-1)});const te=s==2?_[1].facets[0].scale:_[0].scale,de={axes:Rf,series:Tf},he=(e.drawOrder||["axes","series"]).map(a=>de[a]);function ge(a){const u=a.distr==3?g=>Ln(g>0?g:a.clamp(l,g,a.min,a.max,a.key)):a.distr==4?g=>So(g,a.asinh):a.distr==100?g=>a.fwd(g):g=>g;return g=>{let p=u(g),{_min:x,_max:T}=a,W=T-x;return(p-x)/W}}function pe(a){let u=S[a];if(u==null){let g=(e.scales||Rs)[a]||Rs;if(g.from!=null){pe(g.from);let p=ht({},S[g.from],g,{key:a});p.valToPct=ge(p),S[a]=p}else{u=S[a]=ht({},a==te?lf:em,g),u.key=a;let p=u.time,x=u.range,T=Zn(x);if((a!=te||s==2&&!p)&&(T&&(x[0]==null||x[1]==null)&&(x={min:x[0]==null?Za:{mode:1,hard:x[0],soft:x[0]},max:x[1]==null?Za:{mode:1,hard:x[1],soft:x[1]}},T=!1),!T&&Fr(x))){let W=x;x=(q,ee,ie)=>ee==null?ts:vr(ee,ie,W)}u.range=Le(x||(p?hm:a==te?u.distr==3?pm:u.distr==4?mm:gf:u.distr==3?pf:u.distr==4?mf:gm)),u.auto=Le(T?!1:u.auto),u.clamp=Le(u.clamp||Xp),u._min=u._max=null,u.valToPct=ge(u)}}}pe("x"),pe("y"),s==1&&_.forEach(a=>{pe(a.scale)}),P.forEach(a=>{pe(a.scale)});for(let a in e.scales)pe(a);const J=S[te],ye=J.distr;let re,ne;J.ori==0?(qt(f,Mg),re=r,ne=o):(qt(f,Tg),re=o,ne=r);const z={};for(let a in S){let u=S[a];(u.min!=null||u.max!=null)&&(z[a]={min:u.min,max:u.max},u.min=u.max=null)}const N=e.tzDate||(a=>new Date(mt(a/$))),w=e.fmtDate||Si,j=$==1?Mp(N):Ap(N),K=ac(N,ic($==1?Dp:Ep,w)),X=uc(N,cc(_p,w)),se=[],Q=l.legend=ht({},Ip,e.legend),Z=l.cursor=ht({},$p,{drag:{y:s==2}},e.cursor),Ce=Q.show,we=Z.show,ce=Q.markers;Q.idxs=se,ce.width=Le(ce.width),ce.dash=Le(ce.dash),ce.stroke=Le(ce.stroke),ce.fill=Le(ce.fill);let fe,Ae,Re,Me=[],Ue=[],m,y=!1,F={};if(Q.live){const a=_[1]?_[1].values:null;y=a!=null,m=y?a(l,1,0):{_:0};for(let u in m)F[u]=mi}if(Ce)if(fe=un("table",Og,f),Re=un("tbody",null,fe),Q.mount(l,fe),y){Ae=un("thead",null,fe,Re);let a=un("tr",null,Ae);un("th",null,a);for(var k in m)un("th",Va,a).textContent=k}else qt(fe,zg),Q.live&&qt(fe,Vg);const D={show:!0},A={show:!1};function O(a,u){if(u==0&&(y||!Q.live||s==2))return ts;let g=[],p=un("tr",$g,Re,Re.childNodes[u]);qt(p,a.class),a.show||qt(p,bl);let x=un("th",null,p);if(ce.show){let q=ln(Bg,x);if(u>0){let ee=ce.width(l,u);ee&&(q.style.border=ee+"px "+ce.dash(l,u)+" "+ce.stroke(l,u)),q.style.background=ce.fill(l,u)}}let T=ln(Va,x);a.label instanceof HTMLElement?T.appendChild(a.label):T.textContent=a.label,u>0&&(ce.show||(T.style.color=a.width>0?ce.stroke(l,u):ce.fill(l,u)),R("click",x,q=>{if(Z._lock)return;al(q);let ee=_.indexOf(a);if((q.ctrlKey||q.metaKey)!=Q.isolate){let ie=_.some((ae,ue)=>ue>0&&ue!=ee&&ae.show);_.forEach((ae,ue)=>{ue>0&&vn(ue,ie?ue==ee?D:A:D,!0,dt.setSeries)})}else vn(ee,{show:!a.show},!0,dt.setSeries)},!1),Dl&&R(Na,x,q=>{Z._lock||(al(q),vn(_.indexOf(a),Ol,!0,dt.setSeries))},!1));for(var W in m){let q=un("td",Ng,p);q.textContent="--",g.push(q)}return[p,g]}const U=new Map;function R(a,u,g,p=!0){const x=U.get(u)||{},T=Z.bind[a](l,u,g,p);T&&(wl(a,u,x[a]=T),U.set(u,x))}function I(a,u,g){const p=U.get(u)||{};for(let x in p)(a==null||x==a)&&(No(x,u,p[x]),delete p[x]);a==null&&U.delete(u)}let G=0,H=0,B=0,L=0,le=0,me=0,Ee=le,Ye=me,je=B,ut=L,Ke=0,ot=0,ft=0,ze=0;l.bbox={};let Bt=!1,ol=!1,En=!1,il=!1,Hs=!1,Xt=!1;function Vr(a,u,g){(g||a!=l.width||u!=l.height)&&Ai(a,u),Pl(!1),En=!0,ol=!0,_l()}function Ai(a,u){l.width=G=B=a,l.height=H=L=u,le=me=0,xf(),wf();let g=l.bbox;Ke=g.left=ml(le*Be,.5),ot=g.top=ml(me*Be,.5),ft=g.width=ml(B*Be,.5),ze=g.height=ml(L*Be,.5)}const vf=3;function bf(){let a=!1,u=0;for(;!a;){u++;let g=Pf(u),p=_f(u);a=u==vf||g&&p,a||(Ai(l.width,l.height),ol=!0)}}function yf({width:a,height:u}){Vr(a,u)}l.setSize=yf;function xf(){let a=!1,u=!1,g=!1,p=!1;P.forEach((x,T)=>{if(x.show&&x._show){let{side:W,_size:q}=x,ee=W%2,ie=x.label!=null?x.labelSize:0,ae=q+ie;ae>0&&(ee?(B-=ae,W==3?(le+=ae,p=!0):g=!0):(L-=ae,W==0?(me+=ae,a=!0):u=!0))}}),cl[0]=a,cl[1]=g,cl[2]=u,cl[3]=p,B-=Hn[1]+Hn[3],le+=Hn[3],L-=Hn[2]+Hn[0],me+=Hn[0]}function wf(){let a=le+B,u=me+L,g=le,p=me;function x(T,W){switch(T){case 1:return a+=W,a-W;case 2:return u+=W,u-W;case 3:return g-=W,g+W;case 0:return p-=W,p+W}}P.forEach((T,W)=>{if(T.show&&T._show){let q=T.side;T._pos=x(q,T._size),T.label!=null&&(T._lpos=x(q,T.labelSize))}})}if(Z.dataIdx==null){let a=Z.hover,u=a.skip=new Set(a.skip??[]);u.add(void 0);let g=a.prox=Le(a.prox),p=a.bias??(a.bias=0);Z.dataIdx=(x,T,W,q)=>{if(T==0)return W;let ee=W,ie=g(x,T,W,q)??Je,ae=ie>=0&&ie<Je,ue=J.ori==0?B:L,Pe=Z.left,$e=t[0],Oe=t[T];if(u.has(Oe[W])){ee=null;let Ie=null,De=null,be;if(p==0||p==-1)for(be=W;Ie==null&&be-- >0;)u.has(Oe[be])||(Ie=be);if(p==0||p==1)for(be=W;De==null&&be++<Oe.length;)u.has(Oe[be])||(De=be);if(Ie!=null||De!=null)if(ae){let tt=Ie==null?-1/0:re($e[Ie],J,ue,0),it=De==null?1/0:re($e[De],J,ue,0),kt=Pe-tt,Ge=it-Pe;kt<=Ge?kt<=ie&&(ee=Ie):Ge<=ie&&(ee=De)}else ee=De==null?Ie:Ie==null?De:W-Ie<=De-W?Ie:De}else ae&&vt(Pe-re($e[W],J,ue,0))>ie&&(ee=null);return ee}}const al=a=>{Z.event=a};Z.idxs=se,Z._lock=!1;let Et=Z.points;Et.show=Le(Et.show),Et.size=Le(Et.size),Et.stroke=Le(Et.stroke),Et.width=Le(Et.width),Et.fill=Le(Et.fill);const mn=l.focus=ht({},e.focus||{alpha:.3},Z.focus),Dl=mn.prox>=0,Ml=Dl&&Et.one;let en=[],Tl=[],El=[];function Pi(a,u){let g=Et.show(l,u);if(g instanceof HTMLElement)return qt(g,Ug),qt(g,a.class),Sn(g,-10,-10,B,L),C.insertBefore(g,en[u]),g}function _i(a,u){if(s==1||u>0){let g=s==1&&S[a.scale].time,p=a.value;a.value=g?lc(p)?uc(N,cc(p,w)):p||X:p||Jp,a.label=a.label||(g?Np:Bp)}if(Ml||u>0){a.width=a.width==null?1:a.width,a.paths=a.paths||um||ep,a.fillTo=Le(a.fillTo||tm),a.pxAlign=+Ve(a.pxAlign,E),a.pxRound=yc(a.pxAlign),a.stroke=Le(a.stroke||null),a.fill=Le(a.fill||null),a._stroke=a._fill=a._paths=a._focus=null;let g=Zp($t(1,a.width),1),p=a.points=ht({},{size:g,width:$t(1,g*.2),stroke:a.stroke,space:g*2,paths:fm,_stroke:null,_fill:null},a.points);p.show=Le(p.show),p.filter=Le(p.filter),p.fill=Le(p.fill),p.stroke=Le(p.stroke),p.paths=Le(p.paths),p.pxAlign=a.pxAlign}if(Ce){let g=O(a,u);Me.splice(u,0,g[0]),Ue.splice(u,0,g[1]),Q.values.push(null)}if(we){se.splice(u,0,null);let g=null;Ml?u==0&&(g=Pi(a,u)):u>0&&(g=Pi(a,u)),en.splice(u,0,g),Tl.splice(u,0,0),El.splice(u,0,0)}Ct("addSeries",u)}function Sf(a,u){u=u??_.length,a=s==1?Yo(a,u,dc,vc):Yo(a,u,{},mc),_.splice(u,0,a),_i(_[u],u)}l.addSeries=Sf;function Cf(a){if(_.splice(a,1),Ce){Q.values.splice(a,1),Ue.splice(a,1);let u=Me.splice(a,1)[0];I(null,u.firstChild),u.remove()}we&&(se.splice(a,1),en.splice(a,1)[0].remove(),Tl.splice(a,1),El.splice(a,1)),Ct("delSeries",a)}l.delSeries=Cf;const cl=[!1,!1,!1,!1];function kf(a,u){if(a._show=a.show,a.show){let g=a.side%2,p=S[a.scale];p==null&&(a.scale=g?_[1].scale:te,p=S[a.scale]);let x=p.time;a.size=Le(a.size),a.space=Le(a.space),a.rotate=Le(a.rotate),Zn(a.incrs)&&a.incrs.forEach(W=>{!sl.has(W)&&sl.set(W,Vu(W))}),a.incrs=Le(a.incrs||(p.distr==2?Sp:x?$==1?kp:Tp:vl)),a.splits=Le(a.splits||(x&&p.distr==1?j:p.distr==3?Wo:p.distr==4?jp:Wp)),a.stroke=Le(a.stroke),a.grid.stroke=Le(a.grid.stroke),a.ticks.stroke=Le(a.ticks.stroke),a.border.stroke=Le(a.border.stroke);let T=a.values;a.values=Zn(T)&&!Zn(T[0])?Le(T):x?Zn(T)?ac(N,ic(T,w)):lc(T)?Pp(N,T):T||K:T||Hp,a.filter=Le(a.filter||(p.distr>=3&&p.log==10?Yp:p.distr==3&&p.log==2?qp:Uu)),a.font=Cc(a.font),a.labelFont=Cc(a.labelFont),a._size=a.size(l,null,u,0),a._space=a._rotate=a._incrs=a._found=a._splits=a._values=null,a._size>0&&(cl[u]=!0,a._el=ln(Rg,v))}}function is(a,u,g,p){let[x,T,W,q]=g,ee=u%2,ie=0;return ee==0&&(q||T)&&(ie=u==0&&!x||u==2&&!W?mt(fc.size/3):0),ee==1&&(x||W)&&(ie=u==1&&!T||u==3&&!q?mt(gc.size/2):0),ie}const Ri=l.padding=(e.padding||[is,is,is,is]).map(a=>Le(Ve(a,is))),Hn=l._padding=Ri.map((a,u)=>a(l,u,cl,0));let Dt,yt=null,xt=null;const Ws=s==1?_[0].idxs:null;let on=null,as=!1;function Fi(a,u){if(t=a??[],l.data=l._data=t,s==2){Dt=0;for(let g=1;g<_.length;g++)Dt+=t[g][0].length}else{t.length==0&&(l.data=l._data=t=[[]]),on=t[0],Dt=on.length;let g=t;if(ye==2){g=t.slice();let p=g[0]=Array(Dt);for(let x=0;x<Dt;x++)p[x]=x}l._data=t=g}if(Pl(!0),Ct("setData"),ye==2&&(En=!0),u!==!1){let g=J;g.auto(l,as)?zr():jn(te,g.min,g.max),il=il||Z.left>=0,Xt=!0,_l()}}l.setData=Fi;function zr(){as=!0;let a,u;s==1&&(Dt>0?(yt=Ws[0]=0,xt=Ws[1]=Dt-1,a=t[0][yt],u=t[0][xt],ye==2?(a=yt,u=xt):a==u&&(ye==3?[a,u]=_r(a,a,J.log,!1):ye==4?[a,u]=bi(a,a,J.log,!1):J.time?u=a+mt(86400/$):[a,u]=vr(a,u,yi,!0))):(yt=Ws[0]=a=null,xt=Ws[1]=u=null)),jn(te,a,u)}let js,Al,$r,Br,Nr,Hr,Wr,jr,Kr,Nt;function Ii(a,u,g,p,x,T){a??(a=$a),g??(g=wi),p??(p="butt"),x??(x=$a),T??(T="round"),a!=js&&(h.strokeStyle=js=a),x!=Al&&(h.fillStyle=Al=x),u!=$r&&(h.lineWidth=$r=u),T!=Nr&&(h.lineJoin=Nr=T),p!=Hr&&(h.lineCap=Hr=p),g!=Br&&h.setLineDash(Br=g)}function Li(a,u,g,p){u!=Al&&(h.fillStyle=Al=u),a!=Wr&&(h.font=Wr=a),g!=jr&&(h.textAlign=jr=g),p!=Kr&&(h.textBaseline=Kr=p)}function Gr(a,u,g,p,x=0){if(p.length>0&&a.auto(l,as)&&(u==null||u.min==null)){let T=Ve(yt,0),W=Ve(xt,p.length-1),q=g.min==null?Yg(p,T,W,x,a.distr==3):[g.min,g.max];a.min=hn(a.min,g.min=q[0]),a.max=$t(a.max,g.max=q[1])}}const Ui={min:null,max:null};function Df(){for(let p in S){let x=S[p];z[p]==null&&(x.min==null||z[te]!=null&&x.auto(l,as))&&(z[p]=Ui)}for(let p in S){let x=S[p];z[p]==null&&x.from!=null&&z[x.from]!=null&&(z[p]=Ui)}z[te]!=null&&Pl(!0);let a={};for(let p in z){let x=z[p];if(x!=null){let T=a[p]=ns(S[p],lp);if(x.min!=null)ht(T,x);else if(p!=te||s==2)if(Dt==0&&T.from==null){let W=T.range(l,null,null,p);T.min=W[0],T.max=W[1]}else T.min=Je,T.max=-Je}}if(Dt>0){_.forEach((p,x)=>{if(s==1){let T=p.scale,W=z[T];if(W==null)return;let q=a[T];if(x==0){let ee=q.range(l,q.min,q.max,T);q.min=ee[0],q.max=ee[1],yt=fn(q.min,t[0]),xt=fn(q.max,t[0]),xt-yt>1&&(t[0][yt]<q.min&&yt++,t[0][xt]>q.max&&xt--),p.min=on[yt],p.max=on[xt]}else p.show&&p.auto&&Gr(q,W,p,t[x],p.sorted);p.idxs[0]=yt,p.idxs[1]=xt}else if(x>0&&p.show&&p.auto){let[T,W]=p.facets,q=T.scale,ee=W.scale,[ie,ae]=t[x],ue=a[q],Pe=a[ee];ue!=null&&Gr(ue,z[q],T,ie,T.sorted),Pe!=null&&Gr(Pe,z[ee],W,ae,W.sorted),p.min=W.min,p.max=W.max}});for(let p in a){let x=a[p],T=z[p];if(x.from==null&&(T==null||T.min==null)){let W=x.range(l,x.min==Je?null:x.min,x.max==-Je?null:x.max,p);x.min=W[0],x.max=W[1]}}}for(let p in a){let x=a[p];if(x.from!=null){let T=a[x.from];if(T.min==null)x.min=x.max=null;else{let W=x.range(l,T.min,T.max,p);x.min=W[0],x.max=W[1]}}}let u={},g=!1;for(let p in a){let x=a[p],T=S[p];if(T.min!=x.min||T.max!=x.max){T.min=x.min,T.max=x.max;let W=T.distr;T._min=W==3?Ln(T.min):W==4?So(T.min,T.asinh):W==100?T.fwd(T.min):T.min,T._max=W==3?Ln(T.max):W==4?So(T.max,T.asinh):W==100?T.fwd(T.max):T.max,u[p]=g=!0}}if(g){_.forEach((p,x)=>{s==2?x>0&&u.y&&(p._paths=null):u[p.scale]&&(p._paths=null)});for(let p in u)En=!0,Ct("setScale",p);we&&Z.left>=0&&(il=Xt=!0)}for(let p in z)z[p]=null}function Mf(a){let u=Ho(yt-1,0,Dt-1),g=Ho(xt+1,0,Dt-1);for(;a[u]==null&&u>0;)u--;for(;a[g]==null&&g<Dt-1;)g++;return[u,g]}function Tf(){if(Dt>0){let a=_.some(u=>u._focus)&&Nt!=mn.alpha;a&&(h.globalAlpha=Nt=mn.alpha),_.forEach((u,g)=>{if(g>0&&u.show&&(Oi(g,!1),Oi(g,!0),u._paths==null)){let p=Nt;Nt!=u.alpha&&(h.globalAlpha=Nt=u.alpha);let x=s==2?[0,t[g][0].length-1]:Mf(t[g]);u._paths=u.paths(l,g,x[0],x[1]),Nt!=p&&(h.globalAlpha=Nt=p)}}),_.forEach((u,g)=>{if(g>0&&u.show){let p=Nt;Nt!=u.alpha&&(h.globalAlpha=Nt=u.alpha),u._paths!=null&&Vi(g,!1);{let x=u._paths!=null?u._paths.gaps:null,T=u.points.show(l,g,yt,xt,x),W=u.points.filter(l,g,T,x);(T||W)&&(u.points._paths=u.points.paths(l,g,yt,xt,W),Vi(g,!0))}Nt!=p&&(h.globalAlpha=Nt=p),Ct("drawSeries",g)}}),a&&(h.globalAlpha=Nt=1)}}function Oi(a,u){let g=u?_[a].points:_[a];g._stroke=g.stroke(l,a),g._fill=g.fill(l,a)}function Vi(a,u){let g=u?_[a].points:_[a],{stroke:p,fill:x,clip:T,flags:W,_stroke:q=g._stroke,_fill:ee=g._fill,_width:ie=g.width}=g._paths;ie=Ze(ie*Be,3);let ae=null,ue=ie%2/2;u&&ee==null&&(ee=ie>0?"#fff":q);let Pe=g.pxAlign==1&&ue>0;if(Pe&&h.translate(ue,ue),!u){let $e=Ke-ie/2,Oe=ot-ie/2,Ie=ft+ie,De=ze+ie;ae=new Path2D,ae.rect($e,Oe,Ie,De)}u?Yr(q,ie,g.dash,g.cap,ee,p,x,W,T):Ef(a,q,ie,g.dash,g.cap,ee,p,x,W,ae,T),Pe&&h.translate(-ue,-ue)}function Ef(a,u,g,p,x,T,W,q,ee,ie,ae){let ue=!1;ee!=0&&oe.forEach((Pe,$e)=>{if(Pe.series[0]==a){let Oe=_[Pe.series[1]],Ie=t[Pe.series[1]],De=(Oe._paths||Rs).band;Zn(De)&&(De=Pe.dir==1?De[0]:De[1]);let be,tt=null;Oe.show&&De&&Jg(Ie,yt,xt)?(tt=Pe.fill(l,$e)||T,be=Oe._paths.clip):De=null,Yr(u,g,p,x,tt,W,q,ee,ie,ae,be,De),ue=!0}}),ue||Yr(u,g,p,x,T,W,q,ee,ie,ae)}const zi=ls|Ko;function Yr(a,u,g,p,x,T,W,q,ee,ie,ae,ue){Ii(a,u,g,p,x),(ee||ie||ue)&&(h.save(),ee&&h.clip(ee),ie&&h.clip(ie)),ue?(q&zi)==zi?(h.clip(ue),ae&&h.clip(ae),Gs(x,W),Ks(a,T,u)):q&Ko?(Gs(x,W),h.clip(ue),Ks(a,T,u)):q&ls&&(h.save(),h.clip(ue),ae&&h.clip(ae),Gs(x,W),h.restore(),Ks(a,T,u)):(Gs(x,W),Ks(a,T,u)),(ee||ie||ue)&&h.restore()}function Ks(a,u,g){g>0&&(u instanceof Map?u.forEach((p,x)=>{h.strokeStyle=js=x,h.stroke(p)}):u!=null&&a&&h.stroke(u))}function Gs(a,u){u instanceof Map?u.forEach((g,p)=>{h.fillStyle=Al=p,h.fill(g)}):u!=null&&a&&h.fill(u)}function Af(a,u,g,p){let x=P[a],T;if(p<=0)T=[0,0];else{let W=x._space=x.space(l,a,u,g,p),q=x._incrs=x.incrs(l,a,u,g,p,W);T=vm(u,g,q,p,W)}return x._found=T}function qr(a,u,g,p,x,T,W,q,ee,ie){let ae=W%2/2;E==1&&h.translate(ae,ae),Ii(q,W,ee,ie,q),h.beginPath();let ue,Pe,$e,Oe,Ie=x+(p==0||p==3?-T:T);g==0?(Pe=x,Oe=Ie):(ue=x,$e=Ie);for(let De=0;De<a.length;De++)u[De]!=null&&(g==0?ue=$e=a[De]:Pe=Oe=a[De],h.moveTo(ue,Pe),h.lineTo($e,Oe));h.stroke(),E==1&&h.translate(-ae,-ae)}function Pf(a){let u=!0;return P.forEach((g,p)=>{if(!g.show)return;let x=S[g.scale];if(x.min==null){g._show&&(u=!1,g._show=!1,Pl(!1));return}else g._show||(u=!1,g._show=!0,Pl(!1));let T=g.side,W=T%2,{min:q,max:ee}=x,[ie,ae]=Af(p,q,ee,W==0?B:L);if(ae==0)return;let ue=x.distr==2,Pe=g._splits=g.splits(l,p,q,ee,ie,ae,ue),$e=x.distr==2?Pe.map(be=>on[be]):Pe,Oe=x.distr==2?on[Pe[1]]-on[Pe[0]]:ie,Ie=g._values=g.values(l,g.filter(l,$e,p,ae,Oe),p,ae,Oe);g._rotate=T==2?g.rotate(l,Ie,p,ae):0;let De=g._size;g._size=sn(g.size(l,Ie,p,a)),De!=null&&g._size!=De&&(u=!1)}),u}function _f(a){let u=!0;return Ri.forEach((g,p)=>{let x=g(l,p,cl,a);x!=Hn[p]&&(u=!1),Hn[p]=x}),u}function Rf(){for(let a=0;a<P.length;a++){let u=P[a];if(!u.show||!u._show)continue;let g=u.side,p=g%2,x,T,W=u.stroke(l,a),q=g==0||g==3?-1:1,[ee,ie]=u._found;if(u.label!=null){let Lt=u.labelGap*q,Gt=mt((u._lpos+Lt)*Be);Li(u.labelFont[0],W,"center",g==2?ms:za),h.save(),p==1?(x=T=0,h.translate(Gt,mt(ot+ze/2)),h.rotate((g==3?-cr:cr)/2)):(x=mt(Ke+ft/2),T=Gt);let dl=Iu(u.label)?u.label(l,a,ee,ie):u.label;h.fillText(dl,x,T),h.restore()}if(ie==0)continue;let ae=S[u.scale],ue=p==0?ft:ze,Pe=p==0?Ke:ot,$e=u._splits,Oe=ae.distr==2?$e.map(Lt=>on[Lt]):$e,Ie=ae.distr==2?on[$e[1]]-on[$e[0]]:ee,De=u.ticks,be=u.border,tt=De.show?De.size:0,it=mt(tt*Be),kt=mt((u.alignTo==2?u._size-tt-u.gap:u.gap)*Be),Ge=u._rotate*-cr/180,at=V(u._pos*Be),jt=(it+kt)*q,It=at+jt;T=p==0?It:0,x=p==1?It:0;let tn=u.font[0],an=u.align==1?Bl:u.align==2?yo:Ge>0?Bl:Ge<0?yo:p==0?"center":g==3?yo:Bl,yn=Ge||p==1?"middle":g==2?ms:za;Li(tn,W,an,yn);let Kt=u.font[1]*u.lineGap,nn=$e.map(Lt=>V(i(Lt,ae,ue,Pe))),cn=u._values;for(let Lt=0;Lt<cn.length;Lt++){let Gt=cn[Lt];if(Gt!=null){p==0?x=nn[Lt]:T=nn[Lt],Gt=""+Gt;let dl=Gt.indexOf(`
`)==-1?[Gt]:Gt.split(/\n/gm);for(let Ut=0;Ut<dl.length;Ut++){let sa=dl[Ut];Ge?(h.save(),h.translate(x,T+Ut*Kt),h.rotate(Ge),h.fillText(sa,0,0),h.restore()):h.fillText(sa,x,T+Ut*Kt)}}}De.show&&qr(nn,De.filter(l,Oe,a,ie,Ie),p,g,at,it,Ze(De.width*Be,3),De.stroke(l,a),De.dash,De.cap);let xn=u.grid;xn.show&&qr(nn,xn.filter(l,Oe,a,ie,Ie),p,p==0?2:1,p==0?ot:Ke,p==0?ze:ft,Ze(xn.width*Be,3),xn.stroke(l,a),xn.dash,xn.cap),be.show&&qr([at],[1],p==0?1:0,p==0?1:2,p==1?ot:Ke,p==1?ze:ft,Ze(be.width*Be,3),be.stroke(l,a),be.dash,be.cap)}Ct("drawAxes")}function Pl(a){_.forEach((u,g)=>{g>0&&(u._paths=null,a&&(s==1?(u.min=null,u.max=null):u.facets.forEach(p=>{p.min=null,p.max=null})))})}let Ys=!1,Jr=!1,cs=[];function Ff(){Jr=!1;for(let a=0;a<cs.length;a++)Ct(...cs[a]);cs.length=0}function _l(){Ys||(up($i),Ys=!0)}function If(a,u=!1){Ys=!0,Jr=u,a(l),$i(),u&&cs.length>0&&queueMicrotask(Ff)}l.batch=If;function $i(){if(Bt&&(Df(),Bt=!1),En&&(bf(),En=!1),ol){if(nt(b,Bl,le),nt(b,ms,me),nt(b,xs,B),nt(b,ws,L),nt(C,Bl,le),nt(C,ms,me),nt(C,xs,B),nt(C,ws,L),nt(v,xs,G),nt(v,ws,H),d.width=mt(G*Be),d.height=mt(H*Be),P.forEach(({_el:a,_show:u,_size:g,_pos:p,side:x})=>{if(a!=null)if(u){let T=x===3||x===0?g:0,W=x%2==1;nt(a,W?"left":"top",p-T),nt(a,W?"width":"height",g),nt(a,W?"top":"left",W?me:le),nt(a,W?"height":"width",W?L:B),Bo(a,bl)}else qt(a,bl)}),js=Al=$r=Nr=Hr=Wr=jr=Kr=Br=null,Nt=1,ds(!0),le!=Ee||me!=Ye||B!=je||L!=ut){Pl(!1);let a=B/je,u=L/ut;if(we&&!il&&Z.left>=0){Z.left*=a,Z.top*=u,Rl&&Sn(Rl,mt(Z.left),0,B,L),Fl&&Sn(Fl,0,mt(Z.top),B,L);for(let g=0;g<en.length;g++){let p=en[g];p!=null&&(Tl[g]*=a,El[g]*=u,Sn(p,sn(Tl[g]),sn(El[g]),B,L))}}if(et.show&&!Hs&&et.left>=0&&et.width>0){et.left*=a,et.width*=a,et.top*=u,et.height*=u;for(let g in no)nt(Ul,g,et[g])}Ee=le,Ye=me,je=B,ut=L}Ct("setSize"),ol=!1}G>0&&H>0&&(h.clearRect(0,0,d.width,d.height),Ct("drawClear"),he.forEach(a=>a()),Ct("draw")),et.show&&Hs&&(qs(et),Hs=!1),we&&il&&(fl(null,!0,!1),il=!1),Q.show&&Q.live&&Xt&&(eo(),Xt=!1),c||(c=!0,l.status=1,Ct("ready")),as=!1,Ys=!1}l.redraw=(a,u)=>{En=u||!1,a!==!1?jn(te,J.min,J.max):_l()};function Zr(a,u){let g=S[a];if(g.from==null){if(Dt==0){let p=g.range(l,u.min,u.max,a);u.min=p[0],u.max=p[1]}if(u.min>u.max){let p=u.min;u.min=u.max,u.max=p}if(Dt>1&&u.min!=null&&u.max!=null&&u.max-u.min<1e-16)return;a==te&&g.distr==2&&Dt>0&&(u.min=fn(u.min,t[0]),u.max=fn(u.max,t[0]),u.min==u.max&&u.max++),z[a]=u,Bt=!0,_l()}}l.setScale=Zr;let Qr,Xr,Rl,Fl,Bi,Ni,Il,Ll,Hi,Wi,Xe,lt,Wn=!1;const Mt=Z.drag;let wt=Mt.x,St=Mt.y;we&&(Z.x&&(Qr=ln(Ig,C)),Z.y&&(Xr=ln(Lg,C)),J.ori==0?(Rl=Qr,Fl=Xr):(Rl=Xr,Fl=Qr),Xe=Z.left,lt=Z.top);const et=l.select=ht({show:!0,over:!0,left:0,width:0,top:0,height:0},e.select),Ul=et.show?ln(Fg,et.over?C:b):null;function qs(a,u){if(et.show){for(let g in a)et[g]=a[g],g in no&&nt(Ul,g,a[g]);u!==!1&&Ct("setSelect")}}l.setSelect=qs;function Lf(a){if(_[a].show)Ce&&Bo(Me[a],bl);else if(Ce&&qt(Me[a],bl),we){let g=Ml?en[0]:en[a];g!=null&&Sn(g,-10,-10,B,L)}}function jn(a,u,g){Zr(a,{min:u,max:g})}function vn(a,u,g,p){u.focus!=null&&$f(a),u.show!=null&&_.forEach((x,T)=>{T>0&&(a==T||a==null)&&(x.show=u.show,Lf(T),s==2?(jn(x.facets[0].scale,null,null),jn(x.facets[1].scale,null,null)):jn(x.scale,null,null),_l())}),g!==!1&&Ct("setSeries",a,u),p&&hs("setSeries",l,a,u)}l.setSeries=vn;function Uf(a,u){ht(oe[a],u)}function Of(a,u){a.fill=Le(a.fill||null),a.dir=Ve(a.dir,-1),u=u??oe.length,oe.splice(u,0,a)}function Vf(a){a==null?oe.length=0:oe.splice(a,1)}l.addBand=Of,l.setBand=Uf,l.delBand=Vf;function zf(a,u){_[a].alpha=u,we&&en[a]!=null&&(en[a].style.opacity=u),Ce&&Me[a]&&(Me[a].style.opacity=u)}let An,Kn,ul;const Ol={focus:!0};function $f(a){if(a!=ul){let u=a==null,g=mn.alpha!=1;_.forEach((p,x)=>{if(s==1||x>0){let T=u||x==0||x==a;p._focus=u?null:T,g&&zf(x,T?1:mn.alpha)}}),ul=a,g&&_l()}}Ce&&Dl&&R(Ha,fe,a=>{Z._lock||(al(a),ul!=null&&vn(null,Ol,!0,dt.setSeries))});function bn(a,u,g){let p=S[u];g&&(a=a/Be-(p.ori==1?me:le));let x=B;p.ori==1&&(x=L,a=x-a),p.dir==-1&&(a=x-a);let T=p._min,W=p._max,q=a/x,ee=T+(W-T)*q,ie=p.distr;return ie==3?es(10,ee):ie==4?Qg(ee,p.asinh):ie==100?p.bwd(ee):ee}function Bf(a,u){let g=bn(a,te,u);return fn(g,t[0],yt,xt)}l.valToIdx=a=>fn(a,t[0]),l.posToIdx=Bf,l.posToVal=bn,l.valToPos=(a,u,g)=>S[u].ori==0?r(a,S[u],g?ft:B,g?Ke:0):o(a,S[u],g?ze:L,g?ot:0),l.setCursor=(a,u,g)=>{Xe=a.left,lt=a.top,fl(null,u,g)};function ji(a,u){nt(Ul,Bl,et.left=a),nt(Ul,xs,et.width=u)}function Ki(a,u){nt(Ul,ms,et.top=a),nt(Ul,ws,et.height=u)}let us=J.ori==0?ji:Ki,fs=J.ori==1?ji:Ki;function Nf(){if(Ce&&Q.live)for(let a=s==2?1:0;a<_.length;a++){if(a==0&&y)continue;let u=Q.values[a],g=0;for(let p in u)Ue[a][g++].firstChild.nodeValue=u[p]}}function eo(a,u){if(a!=null&&(a.idxs?a.idxs.forEach((g,p)=>{se[p]=g}):np(a.idx)||se.fill(a.idx),Q.idx=se[0]),Ce&&Q.live){for(let g=0;g<_.length;g++)(g>0||s==1&&!y)&&Hf(g,se[g]);Nf()}Xt=!1,u!==!1&&Ct("setLegend")}l.setLegend=eo;function Hf(a,u){let g=_[a],p=a==0&&ye==2?on:t[a],x;y?x=g.values(l,a,u)??F:(x=g.value(l,u==null?null:p[u],a,u),x=x==null?F:{_:x}),Q.values[a]=x}function fl(a,u,g){Hi=Xe,Wi=lt,[Xe,lt]=Z.move(l,Xe,lt),Z.left=Xe,Z.top=lt,we&&(Rl&&Sn(Rl,mt(Xe),0,B,L),Fl&&Sn(Fl,0,mt(lt),B,L));let p,x=yt>xt;An=Je,Kn=null;let T=J.ori==0?B:L,W=J.ori==1?B:L;if(Xe<0||Dt==0||x){p=Z.idx=null;for(let q=0;q<_.length;q++){let ee=en[q];ee!=null&&Sn(ee,-10,-10,B,L)}Dl&&vn(null,Ol,!0,a==null&&dt.setSeries),Q.live&&(se.fill(p),Xt=!0)}else{let q,ee,ie;s==1&&(q=J.ori==0?Xe:lt,ee=bn(q,te),p=Z.idx=fn(ee,t[0],yt,xt),ie=re(t[0][p],J,T,0));let ae=-10,ue=-10,Pe=0,$e=0,Oe=!0,Ie="",De="";for(let be=s==2?1:0;be<_.length;be++){let tt=_[be],it=se[be],kt=it==null?null:s==1?t[be][it]:t[be][1][it],Ge=Z.dataIdx(l,be,p,ee),at=Ge==null?null:s==1?t[be][Ge]:t[be][1][Ge];if(Xt=Xt||at!=kt||Ge!=it,se[be]=Ge,be>0&&tt.show){let jt=Ge==null?-10:Ge==p?ie:re(s==1?t[0][Ge]:t[be][0][Ge],J,T,0),It=at==null?-10:ne(at,s==1?S[tt.scale]:S[tt.facets[1].scale],W,0);if(Dl&&at!=null){let tn=J.ori==1?Xe:lt,an=vt(mn.dist(l,be,Ge,It,tn));if(an<An){let yn=mn.bias;if(yn!=0){let Kt=bn(tn,tt.scale),nn=at>=0?1:-1,cn=Kt>=0?1:-1;cn==nn&&(cn==1?yn==1?at>=Kt:at<=Kt:yn==1?at<=Kt:at>=Kt)&&(An=an,Kn=be)}else An=an,Kn=be}}if(Xt||Ml){let tn,an;J.ori==0?(tn=jt,an=It):(tn=It,an=jt);let yn,Kt,nn,cn,xn,Lt,Gt=!0,dl=Et.bbox;if(dl!=null){Gt=!1;let Ut=dl(l,be);nn=Ut.left,cn=Ut.top,yn=Ut.width,Kt=Ut.height}else nn=tn,cn=an,yn=Kt=Et.size(l,be);if(Lt=Et.fill(l,be),xn=Et.stroke(l,be),Ml)be==Kn&&An<=mn.prox&&(ae=nn,ue=cn,Pe=yn,$e=Kt,Oe=Gt,Ie=Lt,De=xn);else{let Ut=en[be];Ut!=null&&(Tl[be]=nn,El[be]=cn,Ja(Ut,yn,Kt,Gt),Ya(Ut,Lt,xn),Sn(Ut,sn(nn),sn(cn),B,L))}}}}if(Ml){let be=mn.prox,tt=ul==null?An<=be:An>be||Kn!=ul;if(Xt||tt){let it=en[0];it!=null&&(Tl[0]=ae,El[0]=ue,Ja(it,Pe,$e,Oe),Ya(it,Ie,De),Sn(it,sn(ae),sn(ue),B,L))}}}if(et.show&&Wn)if(a!=null){let[q,ee]=dt.scales,[ie,ae]=dt.match,[ue,Pe]=a.cursor.sync.scales,$e=a.cursor.drag;if(wt=$e._x,St=$e._y,wt||St){let{left:Oe,top:Ie,width:De,height:be}=a.select,tt=a.scales[ue].ori,it=a.posToVal,kt,Ge,at,jt,It,tn=q!=null&&ie(q,ue),an=ee!=null&&ae(ee,Pe);tn&&wt?(tt==0?(kt=Oe,Ge=De):(kt=Ie,Ge=be),at=S[q],jt=re(it(kt,ue),at,T,0),It=re(it(kt+Ge,ue),at,T,0),us(hn(jt,It),vt(It-jt))):us(0,T),an&&St?(tt==1?(kt=Oe,Ge=De):(kt=Ie,Ge=be),at=S[ee],jt=ne(it(kt,Pe),at,W,0),It=ne(it(kt+Ge,Pe),at,W,0),fs(hn(jt,It),vt(It-jt))):fs(0,W)}else lo()}else{let q=vt(Hi-Bi),ee=vt(Wi-Ni);if(J.ori==1){let Pe=q;q=ee,ee=Pe}wt=Mt.x&&q>=Mt.dist,St=Mt.y&&ee>=Mt.dist;let ie=Mt.uni;ie!=null?wt&&St&&(wt=q>=ie,St=ee>=ie,!wt&&!St&&(ee>q?St=!0:wt=!0)):Mt.x&&Mt.y&&(wt||St)&&(wt=St=!0);let ae,ue;wt&&(J.ori==0?(ae=Il,ue=Xe):(ae=Ll,ue=lt),us(hn(ae,ue),vt(ue-ae)),St||fs(0,W)),St&&(J.ori==1?(ae=Il,ue=Xe):(ae=Ll,ue=lt),fs(hn(ae,ue),vt(ue-ae)),wt||us(0,T)),!wt&&!St&&(us(0,0),fs(0,0))}if(Mt._x=wt,Mt._y=St,a==null){if(g){if(la!=null){let[q,ee]=dt.scales;dt.values[0]=q!=null?bn(J.ori==0?Xe:lt,q):null,dt.values[1]=ee!=null?bn(J.ori==1?Xe:lt,ee):null}hs(xo,l,Xe,lt,B,L,p)}if(Dl){let q=g&&dt.setSeries,ee=mn.prox;ul==null?An<=ee&&vn(Kn,Ol,!0,q):An>ee?vn(null,Ol,!0,q):Kn!=ul&&vn(Kn,Ol,!0,q)}}Xt&&(Q.idx=p,eo()),u!==!1&&Ct("setCursor")}let Gn=null;Object.defineProperty(l,"rect",{get(){return Gn==null&&ds(!1),Gn}});function ds(a=!1){a?Gn=null:(Gn=C.getBoundingClientRect(),Ct("syncRect",Gn))}function Gi(a,u,g,p,x,T,W){Z._lock||Wn&&a!=null&&a.movementX==0&&a.movementY==0||(to(a,u,g,p,x,T,W,!1,a!=null),a!=null?fl(null,!0,!0):fl(u,!0,!1))}function to(a,u,g,p,x,T,W,q,ee){if(Gn==null&&ds(!1),al(a),a!=null)g=a.clientX-Gn.left,p=a.clientY-Gn.top;else{if(g<0||p<0){Xe=-10,lt=-10;return}let[ie,ae]=dt.scales,ue=u.cursor.sync,[Pe,$e]=ue.values,[Oe,Ie]=ue.scales,[De,be]=dt.match,tt=u.axes[0].side%2==1,it=J.ori==0?B:L,kt=J.ori==1?B:L,Ge=tt?T:x,at=tt?x:T,jt=tt?p:g,It=tt?g:p;if(Oe!=null?g=De(ie,Oe)?i(Pe,S[ie],it,0):-10:g=it*(jt/Ge),Ie!=null?p=be(ae,Ie)?i($e,S[ae],kt,0):-10:p=kt*(It/at),J.ori==1){let tn=g;g=p,p=tn}}ee&&(u==null||u.cursor.event.type==xo)&&((g<=1||g>=B-1)&&(g=ml(g,B)),(p<=1||p>=L-1)&&(p=ml(p,L))),q?(Bi=g,Ni=p,[Il,Ll]=Z.move(l,g,p)):(Xe=g,lt=p)}const no={width:0,height:0,left:0,top:0};function lo(){qs(no,!1)}let Yi,qi,Ji,Zi;function Qi(a,u,g,p,x,T,W){Wn=!0,wt=St=Mt._x=Mt._y=!1,to(a,u,g,p,x,T,W,!0,!1),a!=null&&(R(wo,zo,Xi,!1),hs(Ba,l,Il,Ll,B,L,null));let{left:q,top:ee,width:ie,height:ae}=et;Yi=q,qi=ee,Ji=ie,Zi=ae}function Xi(a,u,g,p,x,T,W){Wn=Mt._x=Mt._y=!1,to(a,u,g,p,x,T,W,!1,!0);let{left:q,top:ee,width:ie,height:ae}=et,ue=ie>0||ae>0,Pe=Yi!=q||qi!=ee||Ji!=ie||Zi!=ae;if(ue&&Pe&&qs(et),Mt.setScale&&ue&&Pe){let $e=q,Oe=ie,Ie=ee,De=ae;if(J.ori==1&&($e=ee,Oe=ae,Ie=q,De=ie),wt&&jn(te,bn($e,te),bn($e+Oe,te)),St)for(let be in S){let tt=S[be];be!=te&&tt.from==null&&tt.min!=Je&&jn(be,bn(Ie+De,be),bn(Ie,be))}lo()}else Z.lock&&(Z._lock=!Z._lock,fl(u,!0,a!=null));a!=null&&(I(wo,zo),hs(wo,l,Xe,lt,B,L,null))}function Wf(a,u,g,p,x,T,W){if(Z._lock)return;al(a);let q=Wn;if(Wn){let ee=!0,ie=!0,ae=10,ue,Pe;J.ori==0?(ue=wt,Pe=St):(ue=St,Pe=wt),ue&&Pe&&(ee=Xe<=ae||Xe>=B-ae,ie=lt<=ae||lt>=L-ae),ue&&ee&&(Xe=Xe<Il?0:B),Pe&&ie&&(lt=lt<Ll?0:L),fl(null,!0,!0),Wn=!1}Xe=-10,lt=-10,se.fill(null),fl(null,!0,!0),q&&(Wn=q)}function ea(a,u,g,p,x,T,W){Z._lock||(al(a),zr(),lo(),a!=null&&hs(Wa,l,Xe,lt,B,L,null))}function ta(){P.forEach(bm),Vr(l.width,l.height,!0)}wl(mr,Jl,ta);const Vl={};Vl.mousedown=Qi,Vl.mousemove=Gi,Vl.mouseup=Xi,Vl.dblclick=ea,Vl.setSeries=(a,u,g,p)=>{let x=dt.match[2];g=x(l,u,g),g!=-1&&vn(g,p,!0,!1)},we&&(R(Ba,C,Qi),R(xo,C,Gi),R(Na,C,a=>{al(a),ds(!1)}),R(Ha,C,Wf),R(Wa,C,ea),Go.add(l),l.syncRect=ds);const Js=l.hooks=e.hooks||{};function Ct(a,u,g){Jr?cs.push([a,u,g]):a in Js&&Js[a].forEach(p=>{p.call(null,l,u,g)})}(e.plugins||[]).forEach(a=>{for(let u in a.hooks)Js[u]=(Js[u]||[]).concat(a.hooks[u])});const na=(a,u,g)=>g,dt=ht({key:null,setSeries:!1,filters:{pub:tc,sub:tc},scales:[te,_[1]?_[1].scale:null],match:[nc,nc,na],values:[null,null]},Z.sync);dt.match.length==2&&dt.match.push(na),Z.sync=dt;const la=dt.key,so=sf(la);function hs(a,u,g,p,x,T,W){dt.filters.pub(a,u,g,p,x,T,W)&&so.pub(a,u,g,p,x,T,W)}so.sub(l);function jf(a,u,g,p,x,T,W){dt.filters.sub(a,u,g,p,x,T,W)&&Vl[a](null,u,g,p,x,T,W)}l.pub=jf;function Kf(){so.unsub(l),Go.delete(l),U.clear(),No(mr,Jl,ta),f.remove(),fe==null||fe.remove(),Ct("destroy")}l.destroy=Kf;function ro(){Ct("init",e,t),Fi(t||e.data,!1),z[te]?Zr(te,z[te]):zr(),Hs=et.show&&(et.width>0||et.height>0),il=Xt=!0,Vr(e.width,e.height)}return _.forEach(_i),P.forEach(kf),n?n instanceof HTMLElement?(n.appendChild(f),ro()):n(l,ro):ro(),l}Tt.assign=ht;Tt.fmtNum=xi;Tt.rangeNum=vr;Tt.rangeLog=_r;Tt.rangeAsinh=bi;Tt.orient=kl;Tt.pxRatio=Be;Tt.join=cp;Tt.fmtDate=Si,Tt.tzDate=xp;Tt.sync=sf;{Tt.addGap=nm,Tt.clipGaps=Ir;let e=Tt.paths={points:ff};e.linear=hf,e.stepped=rm,e.bars=om,e.spline=am}const ym=["title"],xm={class:"absolute top-2 right-2 flex gap-2 z-10"},wm={key:0,class:"bg-blue-600 text-white text-xs px-2 py-1 rounded flex items-center gap-2"},Sm={key:0,class:"absolute inset-0 flex items-center justify-center pointer-events-none"},Cm=Cl({__name:"OscilloscopeChart",props:{channels:{},channelCount:{},sampleRate:{},totalPoints:{},isDark:{type:Boolean},chartData:{},fullData:{}},emits:["selection-change","cursor-values"],setup(e,{expose:t,emit:n}){const l=e,s=n,r=ve(null),o=Ls(null),i=ve(null),c=Ls(null),f=ve(null),d=ve(0),h=ve(!1),v=ve(0),b=ve(0),C=ve(null),E=ve(0),V=ve(0),$=ve(0),_=ve(null),P=ve(!1),S=ve(null),oe=ve([]),te=ve(null),de=(k,D)=>{if(!l.fullData||l.fullData.length===0)return null;const A=l.fullData,O=A[0];if(!O||O.length===0)return null;const U=Math.max(0,Math.floor(k)),R=Math.min(O.length-1,Math.floor(D));if(U>=R)return null;const I=R-U+1,G=O[U],B=O[R]-G,L=I/B*l.sampleRate,le=l.channels.slice(0,l.channelCount).map((me,Ee)=>{const Ye=Ee+1,je=A[Ye];if(!je)return{id:Ee,min:0,max:0,avg:0};let ut=0,Ke=1/0,ot=-1/0;for(let ft=U;ft<=R;ft++){const ze=je[ft]*me.coefficient;ut+=ze,ze<Ke&&(Ke=ze),ze>ot&&(ot=ze)}return{id:Ee,min:Ke,max:ot,avg:ut/I}}).filter(me=>me!==void 0);return{startIndex:U,endIndex:R,pointCount:I,duration:B,frequency:L,channels:le}},he=(k,D)=>{if(!l.fullData||l.fullData.length===0)return null;const A=[],O=Math.max(0,Math.floor(k)),U=Math.min(l.fullData[0].length-1,Math.floor(D));if(O>=U||O<0||U>=l.fullData[0].length)return null;for(let R=0;R<l.fullData.length;R++){const I=l.fullData[R];Array.isArray(I)?A.push(I.slice(O,U+1)):A.push(I.subarray(O,U+1))}return A};let ge=null,pe=0,J=!1,ye=null,re=null;const ne=ll(()=>{const k=l.totalPoints,D=l.sampleRate,A=33;return D>7500&&k>5e5?50:k>5e5?40:k>2e5?35:k>1e5?A+2:k>5e4?A+1:A}),z=(k,D)=>{const A=[{label:"",show:!1}];for(let G=0;G<Math.max(l.channelCount,1);G++){const H=l.channels[G],B=(H==null?void 0:H.color)||In[G%In.length],L=(H==null?void 0:H.visible)??!0;A.push({label:(H==null?void 0:H.name)||` ${G+1}`,stroke:B,width:1.5,show:L,spanGaps:!0})}const O=l.isDark,U=O?"#888":"#333",R=O?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)",I=O?"#666":"#888";return{width:k,height:D,series:A,scales:{x:{time:!1},y:{auto:!0}},axes:[{stroke:U,grid:{stroke:R,width:1},ticks:{stroke:I,width:1},font:"11px system-ui",labelFont:"12px system-ui"},{stroke:U,grid:{stroke:R,width:1},ticks:{stroke:I,width:1},font:"11px system-ui",labelFont:"12px system-ui"}],cursor:{show:!0,drag:{x:!0,y:!0,setScale:!1},focus:{prox:30},points:{size:6,fill:(G,H)=>G.series[H].stroke}},select:{show:!0,left:0,top:0,width:0,height:0},legend:{show:!1},hooks:{setSelect:[G=>{const H=G.select.left,B=G.select.width;if(B>10){const L=G.posToVal(H,"x"),le=G.posToVal(H+B,"x"),me=Math.max(0,Math.floor(L)),Ee=Math.min(l.totalPoints-1,Math.ceil(le));if(Ee>me){P.value&&S.value&&oe.value.push({...S.value});const Ye=de(me,Ee);_.value=Ye,s("selection-change",Ye),S.value={start:me,end:Ee},P.value=!0}}G.setSelect({left:0,top:0,width:0,height:0},!1)}],setCursor:[G=>{const H=G.cursor.idx;if(H!=null&&H>=0&&G.data&&G.data[0]&&H<G.data[0].length){const B=[];for(let L=1;L<G.data.length;L++)B.push(G.data[L][H]);te.value=Math.round(G.data[0][H]),s("cursor-values",B,te.value)}else te.value=null,s("cursor-values",null,null)}]}}},N=(k,D)=>{const A=[{label:"",show:!1}];for(let I=0;I<Math.max(l.channelCount,1);I++){const G=l.channels[I],H=(G==null?void 0:G.color)||In[I%In.length];((G==null?void 0:G.visible)??!0)&&A.push({label:(G==null?void 0:G.name)||` ${I+1}`,stroke:H,width:1,show:!0,spanGaps:!0,fill:`${H}20`})}const O=l.isDark,U=O?"#666":"#ccc";return{width:k,height:D,series:A,scales:{x:{time:!1},y:{auto:!0}},axes:[{stroke:U,grid:{show:!1},ticks:{show:!1},size:0},{stroke:U,grid:{stroke:O?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.05)",width:1},ticks:{show:!1},size:0}],cursor:{show:!1},select:{show:!1,left:0,top:0,width:0,height:0},legend:{show:!1},hooks:{}}},w=()=>{if(!r.value)return;const k=r.value.getBoundingClientRect(),D=k.width||800,A=Math.max(100,(k.height||400)-75),O=[[0]];for(let R=0;R<Math.max(l.channelCount,1);R++)O.push([0]);const U=z(D,A);o.value=new Tt(U,O,r.value),Ro(()=>{if(o.value&&o.value.axes[1]){const R=o.value.axes[1].size;d.value=typeof R=="number"?R:40}}),j()},j=(k=!1)=>{const D=()=>{if(!i.value||l.totalPoints===0)return;const A=i.value.getBoundingClientRect(),O=Math.max(100,A.width||800),U=60;if(O<100){setTimeout(()=>j(k),50);return}const R=l.fullData;if(!R||R[0].length===0)return;const I=O*2,G=R[0],H=Math.max(1,Math.ceil(G.length/I)),B=[[]];for(let le=1;le<R.length;le++)B.push([]);for(let le=0;le<G.length;le+=H){B[0].push(G[le]);for(let me=1;me<R.length;me++){const Ee=R[me];B[me].push(Ee[le])}}const L=N(O,U);c.value=new Tt(L,B,i.value),K()};k?D():requestAnimationFrame(D)},K=()=>{if(!f.value||!c.value||l.totalPoints===0)return;const k=l.totalPoints;let D=0,A=1;if(P.value&&S.value){const O=S.value.end-S.value.start;D=S.value.start/k,A=O/k}D=Math.max(0,Math.min(1,D)),A=Math.max(.01,Math.min(1-D,A)),f.value.style.left=`${D*100}%`,f.value.style.width=`${A*100}%`},X=k=>{!f.value||!i.value||(h.value=!0,v.value=k.clientX,b.value=parseFloat(f.value.style.left||"0"),document.addEventListener("mousemove",se),document.addEventListener("mouseup",Q),k.preventDefault())},se=k=>{if(!h.value||!f.value||!i.value||!c.value)return;const D=i.value.getBoundingClientRect(),A=k.clientX-v.value,O=D.width,U=A/O*100;let R=b.value+U;const I=parseFloat(f.value.style.width||"100");R=Math.max(0,Math.min(R,100-I)),f.value.style.left=`${R}%`;const G=l.totalPoints,H=Math.floor(R/100*G),B=Math.floor((R+I)/100*G);if(B>H){S.value={start:H,end:B},P.value=!0;const L=de(H,B);_.value=L,s("selection-change",L)}},Q=()=>{h.value=!1,document.removeEventListener("mousemove",se),document.removeEventListener("mouseup",Q)},Z=k=>{if(!f.value)return null;const D=f.value.getBoundingClientRect(),A=k.clientX-D.left,O=6;return A<=O?"left":A>=D.width-O?"right":null},Ce=k=>{if(!f.value)return;const D=Z(k);D==="left"?f.value.style.cursor="w-resize":D==="right"?f.value.style.cursor="e-resize":f.value.style.cursor=h.value?"grabbing":"grab"},we=k=>{!f.value||!i.value||(C.value="left",E.value=k.clientX,V.value=parseFloat(f.value.style.left||"0"),$.value=parseFloat(f.value.style.width||"100"),document.addEventListener("mousemove",fe),document.addEventListener("mouseup",Ae),k.preventDefault(),k.stopPropagation())},ce=k=>{!f.value||!i.value||(C.value="right",E.value=k.clientX,V.value=parseFloat(f.value.style.left||"0"),$.value=parseFloat(f.value.style.width||"100"),document.addEventListener("mousemove",fe),document.addEventListener("mouseup",Ae),k.preventDefault(),k.stopPropagation())},fe=k=>{if(!C.value||!f.value||!i.value||!c.value)return;const D=i.value.getBoundingClientRect(),A=k.clientX-E.value,O=D.width,U=A/O*100;let R=V.value,I=$.value;if(C.value==="left"){const L=$.value-2,le=Math.max(-V.value,Math.min(U,L));R=V.value+le,I=$.value-le}else if(C.value==="right"){const L=100-V.value-$.value,le=Math.max(-$.value+2,Math.min(U,L));I=$.value+le}f.value.style.left=`${R}%`,f.value.style.width=`${I}%`;const G=l.totalPoints,H=Math.floor(R/100*G),B=Math.floor((R+I)/100*G);if(B>H){S.value={start:H,end:B},P.value=!0;const L=de(H,B);_.value=L,s("selection-change",L)}},Ae=()=>{C.value=null,document.removeEventListener("mousemove",fe),document.removeEventListener("mouseup",Ae)},Re=()=>{if(!o.value||J){ge=requestAnimationFrame(Re);return}const k=performance.now();if(k-pe<ne.value){ge=requestAnimationFrame(Re);return}pe=k,J=!0;try{let D;if(P.value&&S.value?D=he(S.value.start,S.value.end):D=l.chartData,!D||D.length===0||D[0].length===0){if(o.value){const O=[[]];for(let U=0;U<l.channelCount;U++)O.push([]);o.value.setData(O)}ge=requestAnimationFrame(Re),J=!1;return}const A=l.channelCount+1;if(o.value.series.length!==A){m(),w(),ge=requestAnimationFrame(Re),J=!1;return}l.channels.forEach((O,U)=>{const R=U+1;o.value&&o.value.series[R]&&o.value.series[R].show!==O.visible&&o.value.setSeries(R,{show:O.visible})}),o.value.setData(D),F(),K()}finally{J=!1}ge=requestAnimationFrame(Re)},Me=()=>{if(oe.value.length>0){const k=oe.value.pop();if(k){S.value=k;const D=de(k.start,k.end);_.value=D,s("selection-change",D);return}}P.value=!1,S.value=null,_.value=null,s("selection-change",null)},Ue=()=>{P.value=!1,S.value=null,oe.value=[],_.value=null,s("selection-change",null)},m=()=>{ge&&(cancelAnimationFrame(ge),ge=null),o.value&&(o.value.destroy(),o.value=null),c.value&&(c.value.destroy(),c.value=null)},y=()=>{re&&clearTimeout(re),re=setTimeout(()=>{if(!r.value||!o.value)return;const k=r.value.getBoundingClientRect(),D=Math.max(100,Math.floor(k.width)),A=Math.max(100,Math.floor(k.height)-75);if(D>0&&A>0){const O=o.value.width,U=o.value.height;(Math.abs(O-D)>1||Math.abs(U-A)>1)&&o.value.setSize({width:D,height:A})}if(c.value&&i.value){const O=i.value.getBoundingClientRect(),U=Math.max(100,Math.floor(O.width)-20);c.value.setSize({width:U,height:60})}},100)};ct(()=>l.channelCount,(k,D)=>{k!==D&&k>0&&(m(),w(),ge=requestAnimationFrame(Re))}),ct(()=>l.isDark,async()=>{o.value&&(Ue(),m(),await w(),ge=requestAnimationFrame(Re))}),ct(()=>l.channels,()=>{if(P.value&&S.value){const k=de(S.value.start,S.value.end);_.value=k,s("selection-change",k)}},{deep:!0}),ct(()=>l.totalPoints,(k,D)=>{if(D>0&&k===0){c.value&&(c.value.destroy(),c.value=null),Ue();return}if(D>0&&k>0&&k<D&&P.value&&S.value){const{end:A}=S.value;A>=k&&Ue()}}),ct([()=>l.chartData,()=>l.fullData],([k,D])=>{var A;if(k&&D){const O=((A=D[0])==null?void 0:A.length)||0;if(P.value&&S.value){const{start:U,end:R}=S.value;(U>=O||R>O)&&Ue()}}});const F=()=>{if(!i.value||l.totalPoints===0)return;const k=l.fullData;if(!k||k[0].length===0)return;if(!c.value){j(!0);return}const D=i.value.getBoundingClientRect(),O=Math.max(100,D.width||800)*2,U=k[0],R=Math.max(1,Math.ceil(U.length/O)),I=[[]];for(let G=1;G<k.length;G++)I.push([]);for(let G=0;G<U.length;G+=R){I[0].push(U[G]);for(let H=1;H<k.length;H++){const B=k[H];I[H].push(B[G])}}c.value.setData(I)};return ct([()=>P.value,()=>S.value],async()=>{await Ro(),K()}),ui(()=>{w(),ge=requestAnimationFrame(Re),r.value&&(ye=new ResizeObserver(()=>{y()}),ye.observe(r.value)),window.addEventListener("resize",y)}),Mr(()=>{m(),ye&&(ye.disconnect(),ye=null),re&&(clearTimeout(re),re=null),window.removeEventListener("resize",y),document.removeEventListener("mousemove",se),document.removeEventListener("mouseup",Q),document.removeEventListener("mousemove",fe),document.removeEventListener("mouseup",Ae)}),t({resetZoom:Ue}),(k,D)=>{var A,O;return xe(),ke("div",{class:Y(["w-full h-full rounded-lg overflow-hidden relative",e.isDark?"bg-gray-800":"bg-white"])},[M("div",{ref_key:"chartContainer",ref:r,class:Y(["w-full h-full",e.isDark?"dark-chart":"light-chart"]),onDblclick:D[0]||(D[0]=U=>P.value&&Me()),title:P.value?"":""},null,42,ym),M("div",xm,[P.value?(xe(),ke("div",wm,[M("span",null,": "+Te((A=S.value)==null?void 0:A.start)+" - "+Te((O=S.value)==null?void 0:O.end),1),M("button",{class:"hover:bg-blue-500 rounded px-1",onClick:Ue,title:""},[...D[2]||(D[2]=[M("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[M("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)])])])):st("",!0),e.totalPoints>1e5?(xe(),ke("div",{key:1,class:Y(["text-xs px-2 py-1 rounded",e.isDark?"bg-yellow-600 text-white":"bg-yellow-200 text-yellow-800"]),title:""},Te((e.totalPoints/1e3).toFixed(0))+"K  ",3)):st("",!0)]),e0(k.$slots,"stats-panel",{stats:_.value,resetZoom:Ue},void 0),e.totalPoints===0?(xe(),ke("div",Sm,[M("div",{class:Y(["text-center",e.isDark?"text-gray-500":"text-gray-400"])},[D[3]||(D[3]=M("svg",{class:"w-16 h-16 mx-auto mb-4 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[M("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)),D[4]||(D[4]=M("p",null,"...",-1)),D[5]||(D[5]=M("p",{class:"text-sm mt-2"},"",-1)),M("p",{class:Y(["text-xs mt-3",e.isDark?"text-gray-600":"text-gray-500"])},": ",2)],2)])):st("",!0),e.totalPoints>0&&!_.value?(xe(),ke("div",{key:1,class:Y(["absolute bottom-2 left-2 text-xs",e.isDark?"text-gray-500":"text-gray-400"]),style:{bottom:"75px"}},"  ",2)):st("",!0),e.totalPoints>0?(xe(),ke("div",{key:2,class:Y(["absolute bottom-0 left-0 right-0 z-20",e.isDark?"border-t border-gray-700":"border-t border-gray-300"]),style:Mn({height:"70px",background:e.isDark?"#1f2937":"#f9fafb"})},[M("div",{ref_key:"minimapContainer",ref:i,class:"relative",style:Mn({margin:"5px 10px 5px "+(d.value+10)+"px",height:"60px"})},[c.value&&P.value?(xe(),ke("div",{key:0,ref_key:"minimapViewport",ref:f,class:Y(["absolute top-0 bottom-0 border-2 z-10",e.isDark?"bg-blue-900/30 border-blue-500":"bg-blue-100/50 border-blue-500",{"cursor-grabbing":h.value||C.value}]),style:{minWidth:"20px",cursor:"grab"},onMousemove:Ce,onMousedown:D[1]||(D[1]=U=>{const R=Z(U);R==="left"?we(U):R==="right"?ce(U):X(U)})},[...D[6]||(D[6]=[M("div",{class:"absolute top-0 bottom-0 w-1 cursor-w-resize hover:bg-white/50",style:{left:"-2px"}},null,-1),M("div",{class:"absolute top-0 bottom-0 w-1 cursor-e-resize hover:bg-white/50",style:{right:"-2px"}},null,-1)])],34)):st("",!0)],4)],6)):st("",!0)],2)}}}),km=(e,t)=>{const n=e.__vccOpts||e;for(const[l,s]of t)n[l]=s;return n},Dm=km(Cm,[["__scopeId","data-v-a38b6733"]]),Mm={class:"flex items-center gap-2"},Tm={class:"grid grid-cols-2 gap-2 mb-3 text-xs"},Em={class:"flex items-center gap-1.5 mb-1.5"},Am={class:"grid grid-cols-3 gap-2 text-xs"},Pm={class:"text-green-500 font-mono"},_m={class:"text-red-500 font-mono"},Rm={class:"text-blue-500 font-mono"},Fm=Cl({__name:"SelectionStatsPanel",props:{stats:{},channels:{},isDark:{type:Boolean}},emits:["close"],setup(e,{emit:t}){const n=t,l=ve(null),s=ve({x:8,y:8}),r=ve(!1),o=ve({x:0,y:0}),i=d=>{if(!l.value)return;r.value=!0;const h=l.value.getBoundingClientRect();o.value={x:d.clientX-h.left,y:d.clientY-h.top},document.addEventListener("mousemove",c),document.addEventListener("mouseup",f)},c=d=>{var C;if(!r.value||!l.value)return;const h=(C=l.value.parentElement)==null?void 0:C.getBoundingClientRect();if(!h)return;let v=d.clientX-h.left-o.value.x,b=d.clientY-h.top-o.value.y;v=Math.max(0,Math.min(v,h.width-200)),b=Math.max(0,Math.min(b,h.height-100)),s.value={x:v,y:b}},f=()=>{r.value=!1,document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",f)};return(d,h)=>{var v;return xe(),ke("div",{ref_key:"panelRef",ref:l,class:Y(["absolute backdrop-blur rounded-lg p-3 z-10 border max-h-[80%] overflow-y-auto shadow-xl",e.isDark?"bg-gray-900/95 border-gray-700":"bg-white/98 border-gray-400 shadow-lg",{"cursor-grabbing":r.value}]),style:Mn({left:s.value.x+"px",top:s.value.y+"px",minWidth:"200px",maxWidth:"280px"})},[M("div",{class:Y(["flex items-center justify-between mb-2 select-none cursor-grab",{"cursor-grabbing":r.value}]),onMousedown:i},[M("div",Mm,[(xe(),ke("svg",{class:Y(["w-4 h-4",e.isDark?"text-gray-500":"text-gray-600"]),fill:"currentColor",viewBox:"0 0 24 24"},[...h[1]||(h[1]=[M("path",{d:"M8 6a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 18a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM14 6a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM14 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM14 18a2 2 0 1 1-4 0 2 2 0 0 1 4 0z"},null,-1)])],2)),M("h3",{class:Y(["text-sm font-semibold",e.isDark?"text-white":"text-gray-900"])},"",2)]),M("button",{class:Y(["p-1",e.isDark?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"]),onClick:h[0]||(h[0]=ar(b=>n("close"),["stop"]))},[...h[2]||(h[2]=[M("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[M("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],2)],34),M("div",Tm,[M("div",null,[M("span",{class:Y(e.isDark?"text-gray-500":"text-gray-600")},"",2),M("div",{class:Y(["font-mono",e.isDark?"text-white":"text-gray-900"])},Te((v=e.stats.pointCount)==null?void 0:v.toLocaleString()),3)]),M("div",null,[M("span",{class:Y(e.isDark?"text-gray-500":"text-gray-600")},"",2),M("div",{class:Y(["font-mono",e.isDark?"text-white":"text-gray-900"])},Te(Se(Fh)(e.stats.duration)),3)]),M("div",null,[M("span",{class:Y(e.isDark?"text-gray-500":"text-gray-600")},"",2),M("div",{class:Y(["font-mono",e.isDark?"text-white":"text-gray-900"])},Te(Se(At)(e.stats.frequency,0))+"Hz",3)]),M("div",null,[M("span",{class:Y(e.isDark?"text-gray-500":"text-gray-600")},"",2),M("div",{class:Y(["font-mono text-xs",e.isDark?"text-white":"text-gray-900"])},Te(e.stats.startIndex)+"-"+Te(e.stats.endIndex),3)])]),M("div",{class:Y(["border-t pt-2 space-y-2",e.isDark?"border-gray-700":"border-gray-300"])},[(xe(!0),ke(gt,null,Ql(e.stats.channels,b=>{var C,E;return xe(),ke("div",{key:b.id,class:Y(["rounded p-2 border",e.isDark?"bg-gray-800 border-gray-700":"bg-gray-50 border-gray-300 shadow-sm"])},[M("div",Em,[M("span",{class:"w-2 h-2 rounded-full flex-shrink-0",style:Mn({backgroundColor:((C=e.channels[b.id])==null?void 0:C.color)||Se(In)[b.id%Se(In).length]})},null,4),M("span",{class:Y(["text-xs font-medium truncate",e.isDark?"text-gray-300":"text-gray-800"])},Te(((E=e.channels[b.id])==null?void 0:E.name)||` ${b.id+1}`),3)]),M("div",Am,[M("div",null,[M("div",{class:Y((e.isDark,"text-gray-600"))},"",2),M("div",Pm,Te(Se(At)(b.min)),1)]),M("div",null,[M("div",{class:Y((e.isDark,"text-gray-600"))},"",2),M("div",_m,Te(Se(At)(b.max)),1)]),M("div",null,[M("div",{class:Y((e.isDark,"text-gray-600"))},"",2),M("div",Rm,Te(Se(At)(b.avg)),1)])])],2)}),128))],2)],6)}}}),Im={class:"flex items-center gap-4"},Lm={class:"flex items-center gap-1.5"},Um={key:0,class:"text-red-400 ml-1"},Om={key:0},Vm={class:"flex items-center gap-2"},zm={class:"font-mono text-xs"},$m=Cl({__name:"StatusBar",props:{status:{},errorMessage:{},sampleRate:{},totalPoints:{},frameCount:{},channelCount:{},bufferSize:{},isDark:{type:Boolean}},setup(e){const t=e,n={disconnected:"text-gray-500",connecting:"text-yellow-400",connected:"text-green-400",error:"text-red-400"},l={disconnected:"",connecting:"",connected:"",error:""},s=ll(()=>t.bufferSize<=0?0:Math.min(100,t.totalPoints/t.bufferSize*100)),r=ll(()=>{const o=s.value;return o<50?"bg-green-500":o<80?"bg-yellow-500":"bg-red-500"});return(o,i)=>(xe(),ke("footer",{class:Y(["border-t px-4 py-2 flex items-center justify-between text-xs",e.isDark?"bg-gray-800 border-gray-700":"bg-gray-100 border-gray-300"])},[M("div",Im,[M("div",Lm,[M("span",{class:Y(["w-1.5 h-1.5 rounded-full",n[e.status].replace("text-","bg-")])},null,2),M("span",{class:Y(n[e.status])},Te(l[e.status]),3),e.errorMessage?(xe(),ke("span",Um,"- "+Te(e.errorMessage),1)):st("",!0)]),e.channelCount>0?(xe(),ke("div",{key:0,class:Y(e.isDark?"text-gray-400":"text-gray-600")},[i[0]||(i[0]=dn(" : ",-1)),M("span",{class:Y(e.isDark?"text-gray-300":"text-gray-700")},Te(e.channelCount),3)],2)):st("",!0)]),M("div",{class:Y(["flex items-center gap-3",e.isDark?"text-gray-500":"text-gray-600"])},[M("a",{href:"mailto:createskyblue@outlook.com",class:Y(["flex items-center gap-1",e.isDark?"hover:text-gray-300":"hover:text-gray-800"]),title:""},[...i[1]||(i[1]=[M("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[M("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1),M("span",{class:"hidden sm:inline"},"createskyblue@outlook.com",-1)])],2),M("a",{href:"https://github.com/createskyblue/justfloat-web-oscilloscope",target:"_blank",rel:"noopener noreferrer",class:Y(["flex items-center gap-1",e.isDark?"hover:text-gray-300":"hover:text-gray-800"]),title:"GitHub Pages"},[...i[2]||(i[2]=[M("svg",{class:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 24 24"},[M("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z"})],-1),M("span",{class:"hidden sm:inline"},"GitHub",-1)])],2)],2),M("div",{class:Y(["flex items-center gap-4",e.isDark?"text-gray-400":"text-gray-600"])},[e.sampleRate>0?(xe(),ke("div",Om,[i[3]||(i[3]=dn(" : ",-1)),M("span",{class:Y(["font-mono",e.isDark?"text-gray-300":"text-gray-700"])},Te(Se(Ih)(e.sampleRate)),3)])):st("",!0),M("div",Vm,[M("span",{class:Y(e.isDark?"text-gray-400":"text-gray-600")},":",2),M("div",{class:Y(["flex items-center gap-1.5",e.isDark?"text-gray-300":"text-gray-700"])},[M("div",{class:Y(["w-24 h-1.5 rounded-full overflow-hidden",e.isDark?"bg-gray-700":"bg-gray-300"])},[M("div",{class:Y(["h-full transition-all duration-300",r.value]),style:Mn({width:`${s.value}%`})},null,6)],2),M("span",zm,Te(s.value.toFixed(0))+"%",1)],2)]),M("div",null,[i[4]||(i[4]=dn(" : ",-1)),M("span",{class:Y(["font-mono",e.isDark?"text-gray-300":"text-gray-700"])},Te(Se(Oa)(e.totalPoints)),3)]),M("div",null,[i[5]||(i[5]=dn(" : ",-1)),M("span",{class:Y(["font-mono",e.isDark?"text-gray-300":"text-gray-700"])},Te(Se(Oa)(e.frameCount)),3)])],2)],2))}});function Bm(){const e=ve("disconnected"),t=ve(""),n=Ls(null),l=Ls(null);let s=null,r=!1,o=null;const i=()=>"serial"in navigator,c=async(b=115200)=>{if(!i())return e.value="error",t.value=" Web Serial API Chrome  Edge ",!1;n.value&&await d();try{return e.value="connecting",t.value="",n.value=await navigator.serial.requestPort(),await n.value.open({baudRate:b,dataBits:8,stopBits:1,parity:"none",flowControl:"none",bufferSize:4096}),e.value="connected",o=f(),!0}catch(C){return e.value="error",C instanceof Error?C.name==="NotFoundError"?t.value="":C.name==="InvalidStateError"?t.value="":t.value=C.message:t.value="",n.value=null,!1}},f=async()=>{var b,C;if(!(!((b=n.value)!=null&&b.readable)||r)){r=!0;try{for(;r&&((C=n.value)!=null&&C.readable);){l.value=n.value.readable.getReader();try{for(;r;){const{value:E,done:V}=await l.value.read();if(V)break;E&&s&&s(E)}}finally{l.value.releaseLock(),l.value=null}}}catch(E){r&&(console.error(":",E),e.value="error",t.value=E instanceof Error?E.message:"")}r=!1}},d=async()=>{r=!1;try{if(l.value){try{await l.value.cancel()}catch{}try{l.value.releaseLock()}catch{}l.value=null}if(o){try{await Promise.race([o,new Promise(b=>setTimeout(b,500))])}catch{}o=null}if(n.value){try{await n.value.close()}catch(b){console.warn(":",b)}n.value=null}}catch(b){console.error(":",b)}e.value="disconnected",t.value=""};return{status:e,errorMessage:t,isSupported:i,connect:c,disconnect:d,onData:b=>{s=b},getPortInfo:()=>n.value?n.value.getInfo():null}}function Nm(){const e=ve("disconnected"),t=ve("");let n=null,l=null;const s=()=>!0,r=d=>{const v=window.location.protocol==="https:",C=(d.toLowerCase().startsWith("wss:")?"wss:":"ws:")==="wss:";return v&&!C?{compatible:!1,reason:` HTTPS  WS

HTTPS  WebSocket 


1.  WebSocket  WSS
2.  HTTP `}:{compatible:!0}},o=async d=>(n&&await i(),new Promise(h=>{try{e.value="connecting",t.value="",n=new WebSocket(d),n.binaryType="arraybuffer",n.onopen=()=>{e.value="connected",h(!0)},n.onmessage=v=>{if(l){if(v.data instanceof ArrayBuffer)l(new Uint8Array(v.data));else if(typeof v.data=="string"){const b=new TextEncoder;l(b.encode(v.data))}}},n.onerror=()=>{e.value="error",t.value="WebSocket ",h(!1)},n.onclose=v=>{e.value==="connected"&&(e.value="disconnected",t.value=v.wasClean?"":""),n=null}}catch(v){e.value="error",t.value=v instanceof Error?v.message:"",n=null,h(!1)}})),i=async()=>{if(n){try{n.close(1e3,"User disconnect")}catch{}n=null}e.value="disconnected",t.value=""};return{status:e,errorMessage:t,isSupported:s,checkProtocolCompatibility:r,connect:o,disconnect:i,onData:d=>{l=d},send:d=>n&&n.readyState===WebSocket.OPEN?(n.send(d),!0):!1}}function Hm(){const e=ve("disconnected"),t=ve("");let n=null,l=null,s=null;const r=()=>"bluetooth"in navigator,o=async b=>{if(!r())return e.value="error",t.value=" Web Bluetooth API Chrome  Edge ",!1;n&&await d();try{e.value="connecting",t.value="";const C=kc(b.serviceUUID),E=kc(b.characteristicUUID);if(!C||!E)throw new Error(" UUID ");if(n=await navigator.bluetooth.requestDevice({filters:[{services:[C]}],optionalServices:[C]}),!n.gatt)throw new Error(" GATT");return n.addEventListener("gattserverdisconnected",c),l=await(await(await n.gatt.connect()).getPrimaryService(C)).getCharacteristic(E),await l.startNotifications(),l.addEventListener("characteristicvaluechanged",i),e.value="connected",!0}catch(C){return e.value="error",C instanceof Error?C.name==="NotFoundError"?t.value="":C.name==="SecurityError"?t.value="":C.name==="NetworkError"?t.value="":t.value=C.message:t.value="",n=null,l=null,!1}},i=b=>{const C=b.target;C.value&&s&&s(new Uint8Array(C.value.buffer))},c=()=>{e.value==="connected"&&(e.value="disconnected",t.value=""),f()},f=()=>{if(l){try{l.removeEventListener("characteristicvaluechanged",i)}catch{}l=null}if(n){try{n.removeEventListener("gattserverdisconnected",c)}catch{}n=null}},d=async()=>{var b;try{if(l)try{await l.stopNotifications()}catch{}(b=n==null?void 0:n.gatt)!=null&&b.connected&&n.gatt.disconnect()}catch(C){console.warn(":",C)}f(),e.value="disconnected",t.value=""};return{status:e,errorMessage:t,isSupported:r,connect:o,disconnect:d,onData:b=>{s=b},getDeviceInfo:()=>n?{name:n.name||"",id:n.id}:null}}function kc(e){return e?(e=e.trim().toLowerCase(),/^(0x)?[0-9a-f]{4}$/i.test(e)?`0000${e.replace(/^0x/,"")}-0000-1000-8000-00805f9b34fb`:/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e)?e:/^[0-9a-f]{32}$/i.test(e)?`${e.slice(0,8)}-${e.slice(8,12)}-${e.slice(12,16)}-${e.slice(16,20)}-${e.slice(20)}`:null):null}function Wm(){const e=ve(0),t=ve(0),n=ve("justfloat");let l=[],s=0,r=-1,o=0,i="",c=new TextDecoder,f=null,d=null;const h=33;let v=0;const b=33;let C=[],E=null;const V=()=>{if(E&&(clearTimeout(E),E=null),C.length===0)return;const w=C;if(C=[],v=performance.now(),d)d(w);else if(f)for(const j of w)f(j)},$=()=>{E&&clearTimeout(E),E=setTimeout(V,b)},_=w=>{C.push(w),t.value++,(w.length>e.value||e.value===0)&&(e.value=w.length);const j=performance.now();j-v>=h?(V(),v=j):$()},P=()=>{if(l.length<4)return!1;const w=l.length-4;return l[w]===er[0]&&l[w+1]===er[1]&&l[w+2]===er[2]&&l[w+3]===er[3]},S=(w,j)=>{const K=j-w;return!(K%4!==0||K===0||K<4||K>256)},oe=w=>{const j=[],K=new DataView(new ArrayBuffer(4));for(let X=0;X<w.length;X+=4)K.setUint8(0,w[X]),K.setUint8(1,w[X+1]),K.setUint8(2,w[X+2]),K.setUint8(3,w[X+3]),j.push(K.getFloat32(0,!0));return j},te=w=>{for(let j=0;j<w.length;j++)switch(l.push(w[j]),l.length>1e5&&(l=l.slice(-5e4),s=0,r=-1),s){case 0:P()&&(r=l.length-4,s=1);break;case 1:if(P()){const K=l.length-4,X=r+4,se=K;if(S(X,se)){const Q=l.slice(X,se),Z=oe(Q);if(o>0&&Z.length!==o){s=0,r=-1;break}Z.length>0&&(o===0&&(o=Z.length),_(Z))}else break;l=l.slice(K),r=0}break}},de=w=>{i+=c.decode(w,{stream:!0}),i.length>1e5&&(i=i.slice(-5e4));let j;for(;(j=he(i))!==-1;){const K=i.substring(0,j).trim();if(i=i.substring(j+1),!K)continue;const X=ge(K);X&&X.length>0&&_(X)}},he=w=>{for(let j=0;j<w.length;j++)if(w[j]===`
`||w[j]==="\r")return j+1<w.length&&(w[j+1]===`
`||w[j+1]==="\r")&&w[j+1]!==w[j]?j+1:j;return-1},ge=w=>{if(w.toLowerCase().startsWith("image"))return null;let j=w;const K=w.indexOf(":");K!==-1&&(j=w.substring(K+1));const X=j.split(","),se=[];for(const Q of X){const Z=Q.trim();if(Z==="")continue;const Ce=parseFloat(Z);if(isFinite(Ce))se.push(Ce);else return null}return se.length>0?se:null},pe=w=>{n.value==="justfloat"?te(w):de(w)},J=w=>{f=w},ye=w=>{d=w},re=w=>{n.value!==w&&(n.value=w,ne())},ne=()=>{E&&(clearTimeout(E),E=null),C=[],l=[],s=0,r=-1,o=0,i="",c=new TextDecoder};return{channelCount:e,frameCount:t,currentProtocol:n,processData:pe,onFrame:J,onFramesBatch:ye,setProtocol:re,reset:ne,fullReset:()=>{ne(),e.value=0,t.value=0},setChannelCount:w=>{e.value=w}}}class jm{constructor(t){zl(this,"buffer");zl(this,"head",0);zl(this,"tail",0);zl(this,"_size",0);zl(this,"capacity");this.capacity=t,this.buffer=new Array(t)}push(t){this.buffer[this.tail]=t,this.tail=(this.tail+1)%this.capacity,this._size<this.capacity?this._size++:this.head=(this.head+1)%this.capacity}pushBatch(t){for(const n of t)this.push(n)}get size(){return this._size}get(t){if(!(t<0||t>=this._size))return this.buffer[(this.head+t)%this.capacity]}getRange(t,n){const l=[],s=Math.min(n,this._size-1);for(let r=t;r<=s;r++){const o=this.get(r);o&&l.push(o)}return l}toArray(){const t=new Array(this._size);for(let n=0;n<this._size;n++)t[n]=this.buffer[(this.head+n)%this.capacity];return t}clear(){this.head=0,this.tail=0,this._size=0}resize(t){if(t===this.capacity)return;const n=this.toArray().slice(-t);this.capacity=t,this.buffer=new Array(t),this.head=0,this.tail=0,this._size=0;for(const l of n)this.push(l)}}function Km(e=1e4){const t=ve(Math.max(As,Math.min(Ps,e))),n=new jm(t.value),l=ve(0),s=Ls([]),r=ve(0);let o=new Map;const i=100;let c=null,f=-1,d=null,h=-1,v=0,b=0,C=!1;const E=()=>{C||(C=!0,queueMicrotask(()=>{l.value++,C=!1}))},V=ll(()=>(l.value,n.size)),$=z=>{const N=performance.now(),w={timestamp:N,values:z};b===0&&(b=N,v=0),v++;const j=N-b;j>=1e3&&(r.value=Math.round(v/(j/1e3)),b=N,v=0),n.push(w),E()},_=z=>{if(z.length===0)return;const N=performance.now(),j=1e3/(r.value>0?r.value:1),K=z.map((se,Q)=>({timestamp:N+Q*j,values:se}));b===0&&(b=N,v=0),v+=z.length;const X=N-b;X>=1e3&&(r.value=Math.round(v/(X/1e3)),b=N,v=0),n.pushBatch(K),E()},P=(z,N=1)=>{const w=performance.now(),j=n.size;if(j===0)return null;const K=o.get(z);if(K&&w-K.timestamp<i)return{min:K.stats.min*N,max:K.stats.max*N,avg:K.stats.avg*N,current:K.stats.current*N};let X=1/0,se=-1/0,Q=0,Z=0,Ce=0;const we=j>5e4?Math.ceil(j/1e4):1;for(let Ae=0;Ae<j;Ae+=we){const Re=n.get(Ae);if(Re&&z<Re.values.length){const Me=Re.values[z];isFinite(Me)&&(X=Math.min(X,Me),se=Math.max(se,Me),Q+=Me,Z++)}}const ce=n.get(j-1);if(ce&&z<ce.values.length&&(Ce=ce.values[z]),Z===0)return null;const fe={min:X,max:se,avg:Q/Z,current:Ce};return o.set(z,{stats:fe,timestamp:w}),{min:fe.min*N,max:fe.max*N,avg:fe.avg*N,current:fe.current*N}},S=(z,N,w,j=[])=>{const K=n.getRange(z,N);if(K.length<2)return null;const X=K.length,se=r.value>0?r.value:1,Q=X/se*1e3,Z=1e3/Q,Ce=[];for(let we=0;we<w;we++){let ce=1/0,fe=-1/0,Ae=0,Re=0;const Me=j[we]??1;for(const Ue of K)if(we<Ue.values.length){const m=Ue.values[we];isFinite(m)&&(ce=Math.min(ce,m),fe=Math.max(fe,m),Ae+=m,Re++)}Ce.push({id:we,min:(Re>0?ce:0)*Me,max:(Re>0?fe:0)*Me,avg:(Re>0?Ae/Re:0)*Me})}return{startIndex:z,endIndex:N,pointCount:X,duration:Q,frequency:Z,channels:Ce}},oe=(z,N=[])=>{l.value;const w=n.size;if(c&&f===l.value)return c;if(w===0)return c=null,f=l.value,null;let j;w>5e5?j=5e3:w>2e5?j=1e4:w>1e5?j=2e4:w>5e4?j=3e4:j=w;const K=w>j,X=K?Math.ceil(w/j):1,se=K?Math.ceil(w/X):w,Q=new Float64Array(se),Z=[];for(let we=0;we<z;we++)Z.push(new Float64Array(se));if(K&&w>1e5){let we=0;for(let ce=0;ce<w&&we<se;ce+=X){const fe=Math.min(ce+X,w);let Ae=ce,Re=0;for(let Ue=ce;Ue<fe;Ue++){const m=n.get(Ue);if(m)for(let y=0;y<z;y++){const F=y<m.values.length?m.values[y]:0,k=Math.abs(F);k>Re&&(Re=k,Ae=Ue)}}const Me=n.get(Ae);if(Me){Q[we]=Ae;for(let Ue=0;Ue<z;Ue++){const m=Ue<Me.values.length?Me.values[Ue]:0,y=N[Ue]??1;Z[Ue][we]=m*y}we++}}if(we<se){const ce=[Q.slice(0,we),...Z.map(fe=>fe.slice(0,we))];return c=ce,f=l.value,ce}}else{let we=0;for(let ce=0;ce<w&&we<se;ce+=X){const fe=n.get(ce);if(fe){Q[we]=ce;for(let Ae=0;Ae<z;Ae++){const Re=Ae<fe.values.length?fe.values[Ae]:0,Me=N[Ae]??1;Z[Ae][we]=Re*Me}we++}}}const Ce=[Q,...Z];return c=Ce,f=l.value,Ce},te=(z,N,w,j=[])=>{const K=N-z+1;if(K<=0)return null;const X=Math.min(K,5e4),se=K>X?Math.ceil(K/X):1,Q=Math.ceil(K/se),Z=new Float64Array(Q),Ce=[];for(let ce=0;ce<w;ce++)Ce.push(new Float64Array(Q));let we=0;for(let ce=z;ce<=N&&we<Q;ce+=se){const fe=n.get(ce);if(fe){Z[we]=ce;for(let Ae=0;Ae<w;Ae++){const Re=Ae<fe.values.length?fe.values[Ae]:0,Me=j[Ae]??1;Ce[Ae][we]=Re*Me}we++}}return[Z.slice(0,we),...Ce.map(ce=>ce.slice(0,we))]},de=(z,N=[])=>{const w=n.size;if(d&&h===l.value)return d;if(w===0)return d=null,h=l.value,null;const j=w,K=new Float64Array(j),X=[];for(let Q=0;Q<z;Q++)X.push(new Float64Array(j));for(let Q=0;Q<w;Q++){const Z=n.get(Q);if(Z){K[Q]=Q;for(let Ce=0;Ce<z;Ce++){const we=Ce<Z.values.length?Z.values[Ce]:0,ce=N[Ce]??1;X[Ce][Q]=we*ce}}}const se=[K,...X];return d=se,h=l.value,se},he=()=>{n.clear(),o.clear(),c=null,f=-1,d=null,h=-1,s.value=[],l.value++,r.value=0,v=0,b=0};return{bufferSize:t,data:s,dataVersion:l,sampleRate:r,totalPoints:V,addFrame:$,addFrames:_,getChannelStats:P,getSelectionStats:S,getChartData:oe,getChartDataInRange:te,getFullChartData:de,getDataSize:()=>n.size,clear:he,setBufferSize:z=>{const N=Math.max(As,Math.min(Ps,z));t.value=N,n.resize(N),l.value++},importData:z=>{he();const N=z.slice(-t.value);for(const w of N)n.push(w);l.value++},exportData:()=>{const z=n.size;if(z===0)return[];const N=n.get(0);if(!N)return[];const w=N.values.length,j=[];for(let K=0;K<w;K++)j[K]=[];for(let K=0;K<z;K++){const X=n.get(K);if(X)for(let se=0;se<w;se++)j[se].push(se<X.values.length?X.values[se]:0)}return j},importChannels:(z,N,w)=>{if(console.log("[importChannels] "),console.log("[importChannels] :",N),console.log("[importChannels] :",t.value),console.log("[importChannels] :",z.length),he(),z.length===0){console.error("[importChannels] ");return}const j=z[0].length,K=Math.min(j,t.value);console.log("[importChannels] :",j,":",K);const X=[],se=performance.now();for(let Q=0;Q<K;Q++){const Z=[];for(let Ce=0;Ce<N;Ce++){const we=Ce<z.length?z[Ce][Q]??0:0;Z.push(we)}X.push({timestamp:se+Q/(w||1)*1e3,values:Z})}n.pushBatch(X),E(),w&&w>0&&(r.value=w),console.log("[importChannels] :",n.size,":",r.value)},setSampleRate:z=>{r.value=z}}}function Gm(){const e=ve([]),t=b=>({id:b,name:` ${b+1}`,unit:"",coefficient:1,visible:!0,color:In[b%In.length]}),n=b=>{if(b<=0)return;const C=e.value;if(C.length<b){const E=[...C];for(let V=C.length;V<b;V++)E.push(t(V));e.value=E}else C.length>b},l=(b,C)=>{const E=e.value.findIndex(V=>V.id===b);if(E!==-1){const V=[...e.value];V[E]={...V[E],...C},e.value=V}};return{channels:e,ensureChannels:n,updateChannel:l,toggleVisibility:b=>{var C;l(b,{visible:!((C=e.value.find(E=>E.id===b))!=null&&C.visible)})},setName:(b,C)=>{l(b,{name:C})},setUnit:(b,C)=>{l(b,{unit:C})},setCoefficient:(b,C)=>{l(b,{coefficient:C})},getVisibleChannels:()=>e.value.filter(b=>b.visible),getColors:()=>e.value.map(b=>b.color),getCoefficients:()=>e.value.map(b=>b.coefficient),resetChannels:()=>{e.value=e.value.map((b,C)=>t(C))},loadChannels:b=>{e.value=b.map((C,E)=>({...t(E),...C,id:E}))}}}const Mo="justfloat-oscilloscope-config";function Ym(){const e=()=>{try{const s=localStorage.getItem(Mo);if(s){const r=JSON.parse(s);return{...bo,...r,bufferSize:Math.max(1e3,r.bufferSize||bo.bufferSize)}}}catch(s){console.error(":",s)}return{...bo}},t=s=>{try{localStorage.setItem(Mo,JSON.stringify(s))}catch(r){console.error(":",r)}};return{loadConfig:e,saveConfig:t,clearConfig:()=>{try{localStorage.removeItem(Mo)}catch(s){console.error(":",s)}},createReactiveConfig:()=>{const s=ve(e());return ct(s,r=>{t(r)},{deep:!0}),s}}}const qm={class:"flex-1 flex overflow-hidden"},Jm={class:"flex-1 min-w-0 p-4"},Zm=Cl({__name:"App",setup(e){const{loadConfig:t,saveConfig:n}=Ym(),l=t(),s=Bm(),r=Nm(),o=Hm(),i=Wm(),c=Km(l.bufferSize),f=Gm();l.channels.length>0&&f.loadChannels(l.channels);const d=ve(l.isDark??!0);ui(()=>{h()});const h=()=>{d.value?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},v=()=>{d.value=!d.value,h()},b=ve(l.baudRate),C=ve(l.bufferSize),E=ve(l.protocol||"justfloat"),V=ve(l.connectionType||"serial"),$=ve(l.wsUrl||"ws://localhost:8080"),_=ve(l.btServiceUUID||"ffe0"),P=ve(l.btCharacteristicUUID||"ffe1"),S=ll(()=>{switch(V.value){case"websocket":return r;case"bluetooth":return o;default:return s}}),oe=ve(null),te=ve(null),de=ve(null);i.setProtocol(E.value);const he=async()=>{const ne=S.value;if(ne.status.value==="connected")await ne.disconnect(),i.reset();else if(V.value==="websocket"){const z=r.checkProtocolCompatibility($.value);if(!z.compatible){alert(z.reason||"WebSocket ");return}await r.connect($.value)}else V.value==="bluetooth"?await o.connect({serviceUUID:_.value,characteristicUUID:P.value}):await s.connect(b.value)},ge=ne=>{i.processData(ne)};s.onData(ge),r.onData(ge),o.onData(ge),i.onFramesBatch(ne=>{c.addFrames(ne)}),ct(()=>i.channelCount.value,ne=>{ne>0&&f.ensureChannels(ne)}),ct([()=>b.value,()=>C.value,()=>E.value,()=>V.value,()=>$.value,()=>_.value,()=>P.value,()=>f.channels.value],()=>{const ne={baudRate:b.value,bufferSize:C.value,protocol:E.value,connectionType:V.value,wsUrl:$.value,btServiceUUID:_.value,btCharacteristicUUID:P.value,channels:f.channels.value,isDark:d.value};n(ne)},{deep:!0}),ct(E,ne=>{i.setProtocol(ne)}),ct(C,ne=>{c.setBufferSize(ne)});const pe=()=>{c.clear(),i.fullReset(),oe.value=null,te.value=null},J=(ne,z)=>{oe.value=ne,te.value=z},ye=()=>{const ne={config:{baudRate:b.value,bufferSize:C.value,protocol:E.value,connectionType:V.value,wsUrl:$.value,btServiceUUID:_.value,btCharacteristicUUID:P.value,channels:f.channels.value},channels:c.exportData(),sampleRate:c.sampleRate.value,exportTime:new Date().toISOString()},z=`oscilloscope-${new Date().toISOString().slice(0,19).replace(/:/g,"-")}.json`;Lh(ne,z)},re=async()=>{const ne=document.createElement("input");ne.type="file",ne.accept=".json",ne.onchange=async z=>{var w,j;const N=(w=z.target.files)==null?void 0:w[0];if(N)try{console.log(":",N.name);const K=await Uh(N);if(console.log(":",K),K.config&&(console.log(":",K.config),b.value=K.config.baudRate,C.value=K.config.bufferSize,K.config.channels&&f.loadChannels(K.config.channels)),K.channels&&K.channels.length>0){console.log(":",K.channels.length),console.log(":",(j=K.channels[0])==null?void 0:j.length),console.log(":",K.sampleRate);const X=K.channels.length;i.setChannelCount(X),f.ensureChannels(X),c.importChannels(K.channels,X,K.sampleRate),console.log(":",c.totalPoints.value),alert(" "+c.totalPoints.value+" ")}else console.error(""),alert("")}catch(K){console.error(":",K),alert(": "+K.message)}},ne.click()};return bs("serial",s),bs("parser",i),bs("buffer",c),bs("channelConfig",f),Mr(()=>{s.disconnect(),r.disconnect(),o.disconnect()}),(ne,z)=>(xe(),ke("div",{class:Y(["h-screen flex flex-col",d.value?"bg-gray-900":"bg-white"])},[Wt(Rh,{status:S.value.status.value,"is-supported":V.value==="websocket"||(V.value==="bluetooth"?Se(o).isSupported():Se(s).isSupported()),"connection-type":V.value,"ws-url":$.value,"bt-service-u-u-i-d":_.value,"bt-characteristic-u-u-i-d":P.value,"baud-rate":b.value,"is-dark":d.value,onConnect:he,onClear:pe,onExport:ye,onImport:re,onToggleTheme:v,"onUpdate:connectionType":z[0]||(z[0]=N=>V.value=N),"onUpdate:wsUrl":z[1]||(z[1]=N=>$.value=N),"onUpdate:btServiceUUID":z[2]||(z[2]=N=>_.value=N),"onUpdate:btCharacteristicUUID":z[3]||(z[3]=N=>P.value=N),"onUpdate:baudRate":z[4]||(z[4]=N=>b.value=N)},null,8,["status","is-supported","connection-type","ws-url","bt-service-u-u-i-d","bt-characteristic-u-u-i-d","baud-rate","is-dark"]),M("div",qm,[Wt(Cg,{"buffer-size":C.value,"onUpdate:bufferSize":z[5]||(z[5]=N=>C.value=N),protocol:E.value,"onUpdate:protocol":z[6]||(z[6]=N=>E.value=N),channels:Se(f).channels.value,"channel-count":Se(i).channelCount.value,"cursor-values":oe.value,"cursor-index":te.value,"get-channel-stats":N=>{var w;return Se(c).getChannelStats(N,((w=Se(f).channels.value[N])==null?void 0:w.coefficient)??1)},"is-dark":d.value,onUpdateChannel:Se(f).updateChannel,onToggleVisibility:Se(f).toggleVisibility},null,8,["buffer-size","protocol","channels","channel-count","cursor-values","cursor-index","get-channel-stats","is-dark","onUpdateChannel","onToggleVisibility"]),M("div",Jm,[Wt(Dm,{channels:Se(f).channels.value,"channel-count":Se(i).channelCount.value,"sample-rate":Se(c).sampleRate.value,"total-points":Se(c).totalPoints.value,"chart-data":Se(c).getChartData(Se(i).channelCount.value,Se(f).getCoefficients()),"full-data":Se(c).getFullChartData(Se(i).channelCount.value,Se(f).getCoefficients()),"is-dark":d.value,onSelectionChange:z[7]||(z[7]=N=>de.value=N),onCursorValues:J},{"stats-panel":nu(({stats:N,resetZoom:w})=>[N?(xe(),Vs(Fm,{key:0,stats:N,channels:Se(f).channels.value,"is-dark":d.value,onClose:w},null,8,["stats","channels","is-dark","onClose"])):st("",!0)]),_:1},8,["channels","channel-count","sample-rate","total-points","chart-data","full-data","is-dark"])])]),Wt($m,{status:S.value.status.value,"error-message":S.value.errorMessage.value,"sample-rate":Se(c).sampleRate.value,"total-points":Se(c).totalPoints.value,"frame-count":Se(i).frameCount.value,"channel-count":Se(i).channelCount.value,"buffer-size":C.value,"is-dark":d.value},null,8,["status","error-message","sample-rate","total-points","frame-count","channel-count","buffer-size","is-dark"])],2))}});dh(Zm).mount("#app");
