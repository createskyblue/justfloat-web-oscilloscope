var jf=Object.defineProperty;var Wf=(e,t,n)=>t in e?jf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ol=(e,t,n)=>Wf(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();/**
* @vue/shared v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ki(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Be={},Hl=[],Dn=()=>{},Sc=()=>!1,br=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Gi=e=>e.startsWith("onUpdate:"),Pt=Object.assign,Yi=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Kf=Object.prototype.hasOwnProperty,ze=(e,t)=>Kf.call(e,t),Me=Array.isArray,jl=e=>yr(e)==="[object Map]",Cc=e=>yr(e)==="[object Set]",_e=e=>typeof e=="function",at=e=>typeof e=="string",tl=e=>typeof e=="symbol",et=e=>e!==null&&typeof e=="object",kc=e=>(et(e)||_e(e))&&_e(e.then)&&_e(e.catch),Dc=Object.prototype.toString,yr=e=>Dc.call(e),Gf=e=>yr(e).slice(8,-1),Tc=e=>yr(e)==="[object Object]",qi=e=>at(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ss=Ki(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),xr=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Yf=/-\w/g,Qn=xr(e=>e.replace(Yf,t=>t.slice(1).toUpperCase())),qf=/\B([A-Z])/g,nl=xr(e=>e.replace(qf,"-$1").toLowerCase()),Mc=xr(e=>e.charAt(0).toUpperCase()+e.slice(1)),ri=xr(e=>e?`on${Mc(e)}`:""),Zn=(e,t)=>!Object.is(e,t),nr=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Ec=(e,t,n,l=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:l,value:n})},Ji=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let na;const wr=()=>na||(na=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function xl(e){if(Me(e)){const t={};for(let n=0;n<e.length;n++){const l=e[n],s=at(l)?Xf(l):xl(l);if(s)for(const r in s)t[r]=s[r]}return t}else if(at(e)||et(e))return e}const Jf=/;(?![^(]*\))/g,Zf=/:([^]+)/,Qf=/\/\*[^]*?\*\//g;function Xf(e){const t={};return e.replace(Qf,"").split(Jf).forEach(n=>{if(n){const l=n.split(Zf);l.length>1&&(t[l[0].trim()]=l[1].trim())}}),t}function H(e){let t="";if(at(e))t=e;else if(Me(e))for(let n=0;n<e.length;n++){const l=H(e[n]);l&&(t+=l+" ")}else if(et(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const ed="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",td=Ki(ed);function _c(e){return!!e||e===""}const Ac=e=>!!(e&&e.__v_isRef===!0),Se=e=>at(e)?e:e==null?"":Me(e)||et(e)&&(e.toString===Dc||!_e(e.toString))?Ac(e)?Se(e.value):JSON.stringify(e,Pc,2):String(e),Pc=(e,t)=>Ac(t)?Pc(e,t.value):jl(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[l,s],r)=>(n[ii(l,r)+" =>"]=s,n),{})}:Cc(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>ii(n))}:tl(t)?ii(t):et(t)&&!Me(t)&&!Tc(t)?String(t):t,ii=(e,t="")=>{var n;return tl(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let $t;class nd{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=$t,!t&&$t&&(this.index=($t.scopes||($t.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=$t;try{return $t=this,t()}finally{$t=n}}}on(){++this._on===1&&(this.prevScope=$t,$t=this)}off(){this._on>0&&--this._on===0&&($t=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,l;for(n=0,l=this.effects.length;n<l;n++)this.effects[n].stop();for(this.effects.length=0,n=0,l=this.cleanups.length;n<l;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,l=this.scopes.length;n<l;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function ld(){return $t}let We;const oi=new WeakSet;class Rc{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,$t&&$t.active&&$t.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,oi.has(this)&&(oi.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ic(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,la(this),Uc(this);const t=We,n=gn;We=this,gn=!0;try{return this.fn()}finally{Lc(this),We=t,gn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Xi(t);this.deps=this.depsTail=void 0,la(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?oi.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Di(this)&&this.run()}get dirty(){return Di(this)}}let Fc=0,Cs,ks;function Ic(e,t=!1){if(e.flags|=8,t){e.next=ks,ks=e;return}e.next=Cs,Cs=e}function Zi(){Fc++}function Qi(){if(--Fc>0)return;if(ks){let t=ks;for(ks=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Cs;){let t=Cs;for(Cs=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(l){e||(e=l)}t=n}}if(e)throw e}function Uc(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Lc(e){let t,n=e.depsTail,l=n;for(;l;){const s=l.prevDep;l.version===-1?(l===n&&(n=s),Xi(l),sd(l)):t=l,l.dep.activeLink=l.prevActiveLink,l.prevActiveLink=void 0,l=s}e.deps=t,e.depsTail=n}function Di(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Oc(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Oc(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Fs)||(e.globalVersion=Fs,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Di(e))))return;e.flags|=2;const t=e.dep,n=We,l=gn;We=e,gn=!0;try{Uc(e);const s=e.fn(e._value);(t.version===0||Zn(s,e._value))&&(e.flags|=128,e._value=s,t.version++)}catch(s){throw t.version++,s}finally{We=n,gn=l,Lc(e),e.flags&=-3}}function Xi(e,t=!1){const{dep:n,prevSub:l,nextSub:s}=e;if(l&&(l.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=l,e.nextSub=void 0),n.subs===e&&(n.subs=l,!l&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)Xi(r,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function sd(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let gn=!0;const Vc=[];function Un(){Vc.push(gn),gn=!1}function Ln(){const e=Vc.pop();gn=e===void 0?!0:e}function la(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=We;We=void 0;try{t()}finally{We=n}}}let Fs=0;class rd{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class eo{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!We||!gn||We===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==We)n=this.activeLink=new rd(We,this),We.deps?(n.prevDep=We.depsTail,We.depsTail.nextDep=n,We.depsTail=n):We.deps=We.depsTail=n,zc(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const l=n.nextDep;l.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=l),n.prevDep=We.depsTail,n.nextDep=void 0,We.depsTail.nextDep=n,We.depsTail=n,We.deps===n&&(We.deps=l)}return n}trigger(t){this.version++,Fs++,this.notify(t)}notify(t){Zi();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Qi()}}}function zc(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let l=t.deps;l;l=l.nextDep)zc(l)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Ti=new WeakMap,vl=Symbol(""),Mi=Symbol(""),Is=Symbol("");function Et(e,t,n){if(gn&&We){let l=Ti.get(e);l||Ti.set(e,l=new Map);let s=l.get(n);s||(l.set(n,s=new eo),s.map=l,s.key=n),s.track()}}function Pn(e,t,n,l,s,r){const i=Ti.get(e);if(!i){Fs++;return}const a=c=>{c&&c.trigger()};if(Zi(),t==="clear")i.forEach(a);else{const c=Me(e),f=c&&qi(n);if(c&&n==="length"){const d=Number(l);i.forEach((g,v)=>{(v==="length"||v===Is||!tl(v)&&v>=d)&&a(g)})}else switch((n!==void 0||i.has(void 0))&&a(i.get(n)),f&&a(i.get(Is)),t){case"add":c?f&&a(i.get("length")):(a(i.get(vl)),jl(e)&&a(i.get(Mi)));break;case"delete":c||(a(i.get(vl)),jl(e)&&a(i.get(Mi)));break;case"set":jl(e)&&a(i.get(vl));break}}Qi()}function Vl(e){const t=Ve(e);return t===e?t:(Et(t,"iterate",Is),sn(e)?t:t.map(pn))}function Sr(e){return Et(e=Ve(e),"iterate",Is),e}function jn(e,t){return On(e)?bl(e)?Yl(pn(t)):Yl(t):pn(t)}const id={__proto__:null,[Symbol.iterator](){return ai(this,Symbol.iterator,e=>jn(this,e))},concat(...e){return Vl(this).concat(...e.map(t=>Me(t)?Vl(t):t))},entries(){return ai(this,"entries",e=>(e[1]=jn(this,e[1]),e))},every(e,t){return _n(this,"every",e,t,void 0,arguments)},filter(e,t){return _n(this,"filter",e,t,n=>n.map(l=>jn(this,l)),arguments)},find(e,t){return _n(this,"find",e,t,n=>jn(this,n),arguments)},findIndex(e,t){return _n(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return _n(this,"findLast",e,t,n=>jn(this,n),arguments)},findLastIndex(e,t){return _n(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return _n(this,"forEach",e,t,void 0,arguments)},includes(...e){return ci(this,"includes",e)},indexOf(...e){return ci(this,"indexOf",e)},join(e){return Vl(this).join(e)},lastIndexOf(...e){return ci(this,"lastIndexOf",e)},map(e,t){return _n(this,"map",e,t,void 0,arguments)},pop(){return hs(this,"pop")},push(...e){return hs(this,"push",e)},reduce(e,...t){return sa(this,"reduce",e,t)},reduceRight(e,...t){return sa(this,"reduceRight",e,t)},shift(){return hs(this,"shift")},some(e,t){return _n(this,"some",e,t,void 0,arguments)},splice(...e){return hs(this,"splice",e)},toReversed(){return Vl(this).toReversed()},toSorted(e){return Vl(this).toSorted(e)},toSpliced(...e){return Vl(this).toSpliced(...e)},unshift(...e){return hs(this,"unshift",e)},values(){return ai(this,"values",e=>jn(this,e))}};function ai(e,t,n){const l=Sr(e),s=l[t]();return l!==e&&!sn(e)&&(s._next=s.next,s.next=()=>{const r=s._next();return r.done||(r.value=n(r.value)),r}),s}const od=Array.prototype;function _n(e,t,n,l,s,r){const i=Sr(e),a=i!==e&&!sn(e),c=i[t];if(c!==od[t]){const g=c.apply(e,r);return a?pn(g):g}let f=n;i!==e&&(a?f=function(g,v){return n.call(this,jn(e,g),v,e)}:n.length>2&&(f=function(g,v){return n.call(this,g,v,e)}));const d=c.call(i,f,l);return a&&s?s(d):d}function sa(e,t,n,l){const s=Sr(e);let r=n;return s!==e&&(sn(e)?n.length>3&&(r=function(i,a,c){return n.call(this,i,a,c,e)}):r=function(i,a,c){return n.call(this,i,jn(e,a),c,e)}),s[t](r,...l)}function ci(e,t,n){const l=Ve(e);Et(l,"iterate",Is);const s=l[t](...n);return(s===-1||s===!1)&&so(n[0])?(n[0]=Ve(n[0]),l[t](...n)):s}function hs(e,t,n=[]){Un(),Zi();const l=Ve(e)[t].apply(e,n);return Qi(),Ln(),l}const ad=Ki("__proto__,__v_isRef,__isVue"),Nc=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(tl));function cd(e){tl(e)||(e=String(e));const t=Ve(this);return Et(t,"has",e),t.hasOwnProperty(e)}class $c{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,l){if(n==="__v_skip")return t.__v_skip;const s=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return r;if(n==="__v_raw")return l===(s?r?yd:Wc:r?jc:Hc).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(l)?t:void 0;const i=Me(t);if(!s){let c;if(i&&(c=id[n]))return c;if(n==="hasOwnProperty")return cd}const a=Reflect.get(t,n,_t(t)?t:l);if((tl(n)?Nc.has(n):ad(n))||(s||Et(t,"get",n),r))return a;if(_t(a)){const c=i&&qi(n)?a:a.value;return s&&et(c)?_i(c):c}return et(a)?s?_i(a):no(a):a}}class Bc extends $c{constructor(t=!1){super(!1,t)}set(t,n,l,s){let r=t[n];const i=Me(t)&&qi(n);if(!this._isShallow){const f=On(r);if(!sn(l)&&!On(l)&&(r=Ve(r),l=Ve(l)),!i&&_t(r)&&!_t(l))return f||(r.value=l),!0}const a=i?Number(n)<t.length:ze(t,n),c=Reflect.set(t,n,l,_t(t)?t:s);return t===Ve(s)&&(a?Zn(l,r)&&Pn(t,"set",n,l):Pn(t,"add",n,l)),c}deleteProperty(t,n){const l=ze(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&l&&Pn(t,"delete",n,void 0),s}has(t,n){const l=Reflect.has(t,n);return(!tl(n)||!Nc.has(n))&&Et(t,"has",n),l}ownKeys(t){return Et(t,"iterate",Me(t)?"length":vl),Reflect.ownKeys(t)}}class ud extends $c{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const fd=new Bc,dd=new ud,hd=new Bc(!0);const Ei=e=>e,qs=e=>Reflect.getPrototypeOf(e);function gd(e,t,n){return function(...l){const s=this.__v_raw,r=Ve(s),i=jl(r),a=e==="entries"||e===Symbol.iterator&&i,c=e==="keys"&&i,f=s[e](...l),d=n?Ei:t?Yl:pn;return!t&&Et(r,"iterate",c?Mi:vl),{next(){const{value:g,done:v}=f.next();return v?{value:g,done:v}:{value:a?[d(g[0]),d(g[1])]:d(g),done:v}},[Symbol.iterator](){return this}}}}function Js(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function pd(e,t){const n={get(s){const r=this.__v_raw,i=Ve(r),a=Ve(s);e||(Zn(s,a)&&Et(i,"get",s),Et(i,"get",a));const{has:c}=qs(i),f=t?Ei:e?Yl:pn;if(c.call(i,s))return f(r.get(s));if(c.call(i,a))return f(r.get(a));r!==i&&r.get(s)},get size(){const s=this.__v_raw;return!e&&Et(Ve(s),"iterate",vl),s.size},has(s){const r=this.__v_raw,i=Ve(r),a=Ve(s);return e||(Zn(s,a)&&Et(i,"has",s),Et(i,"has",a)),s===a?r.has(s):r.has(s)||r.has(a)},forEach(s,r){const i=this,a=i.__v_raw,c=Ve(a),f=t?Ei:e?Yl:pn;return!e&&Et(c,"iterate",vl),a.forEach((d,g)=>s.call(r,f(d),f(g),i))}};return Pt(n,e?{add:Js("add"),set:Js("set"),delete:Js("delete"),clear:Js("clear")}:{add(s){!t&&!sn(s)&&!On(s)&&(s=Ve(s));const r=Ve(this);return qs(r).has.call(r,s)||(r.add(s),Pn(r,"add",s,s)),this},set(s,r){!t&&!sn(r)&&!On(r)&&(r=Ve(r));const i=Ve(this),{has:a,get:c}=qs(i);let f=a.call(i,s);f||(s=Ve(s),f=a.call(i,s));const d=c.call(i,s);return i.set(s,r),f?Zn(r,d)&&Pn(i,"set",s,r):Pn(i,"add",s,r),this},delete(s){const r=Ve(this),{has:i,get:a}=qs(r);let c=i.call(r,s);c||(s=Ve(s),c=i.call(r,s)),a&&a.call(r,s);const f=r.delete(s);return c&&Pn(r,"delete",s,void 0),f},clear(){const s=Ve(this),r=s.size!==0,i=s.clear();return r&&Pn(s,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=gd(s,e,t)}),n}function to(e,t){const n=pd(e,t);return(l,s,r)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?l:Reflect.get(ze(n,s)&&s in l?n:l,s,r)}const md={get:to(!1,!1)},vd={get:to(!1,!0)},bd={get:to(!0,!1)};const Hc=new WeakMap,jc=new WeakMap,Wc=new WeakMap,yd=new WeakMap;function xd(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function wd(e){return e.__v_skip||!Object.isExtensible(e)?0:xd(Gf(e))}function no(e){return On(e)?e:lo(e,!1,fd,md,Hc)}function Sd(e){return lo(e,!1,hd,vd,jc)}function _i(e){return lo(e,!0,dd,bd,Wc)}function lo(e,t,n,l,s){if(!et(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=wd(e);if(r===0)return e;const i=s.get(e);if(i)return i;const a=new Proxy(e,r===2?l:n);return s.set(e,a),a}function bl(e){return On(e)?bl(e.__v_raw):!!(e&&e.__v_isReactive)}function On(e){return!!(e&&e.__v_isReadonly)}function sn(e){return!!(e&&e.__v_isShallow)}function so(e){return e?!!e.__v_raw:!1}function Ve(e){const t=e&&e.__v_raw;return t?Ve(t):e}function Cd(e){return!ze(e,"__v_skip")&&Object.isExtensible(e)&&Ec(e,"__v_skip",!0),e}const pn=e=>et(e)?no(e):e,Yl=e=>et(e)?_i(e):e;function _t(e){return e?e.__v_isRef===!0:!1}function Ce(e){return Kc(e,!1)}function ar(e){return Kc(e,!0)}function Kc(e,t){return _t(e)?e:new kd(e,t)}class kd{constructor(t,n){this.dep=new eo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Ve(t),this._value=n?t:pn(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,l=this.__v_isShallow||sn(t)||On(t);t=l?t:Ve(t),Zn(t,n)&&(this._rawValue=t,this._value=l?t:pn(t),this.dep.trigger())}}function he(e){return _t(e)?e.value:e}const Dd={get:(e,t,n)=>t==="__v_raw"?e:he(Reflect.get(e,t,n)),set:(e,t,n,l)=>{const s=e[t];return _t(s)&&!_t(n)?(s.value=n,!0):Reflect.set(e,t,n,l)}};function Gc(e){return bl(e)?e:new Proxy(e,Dd)}class Td{constructor(t,n,l){this.fn=t,this.setter=n,this._value=void 0,this.dep=new eo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Fs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=l}notify(){if(this.flags|=16,!(this.flags&8)&&We!==this)return Ic(this,!0),!0}get value(){const t=this.dep.track();return Oc(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Md(e,t,n=!1){let l,s;return _e(e)?l=e:(l=e.get,s=e.set),new Td(l,s,n)}const Zs={},cr=new WeakMap;let dl;function Ed(e,t=!1,n=dl){if(n){let l=cr.get(n);l||cr.set(n,l=[]),l.push(e)}}function _d(e,t,n=Be){const{immediate:l,deep:s,once:r,scheduler:i,augmentJob:a,call:c}=n,f=C=>s?C:sn(C)||s===!1||s===0?Rn(C,1):Rn(C);let d,g,v,b,w=!1,_=!1;if(_t(e)?(g=()=>e.value,w=sn(e)):bl(e)?(g=()=>f(e),w=!0):Me(e)?(_=!0,w=e.some(C=>bl(C)||sn(C)),g=()=>e.map(C=>{if(_t(C))return C.value;if(bl(C))return f(C);if(_e(C))return c?c(C,2):C()})):_e(e)?t?g=c?()=>c(e,2):e:g=()=>{if(v){Un();try{v()}finally{Ln()}}const C=dl;dl=d;try{return c?c(e,3,[b]):e(b)}finally{dl=C}}:g=Dn,t&&s){const C=g,ie=s===!0?1/0:s;g=()=>Rn(C(),ie)}const U=ld(),L=()=>{d.stop(),U&&U.active&&Yi(U.effects,d)};if(r&&t){const C=t;t=(...ie)=>{C(...ie),L()}}let M=_?new Array(e.length).fill(Zs):Zs;const A=C=>{if(!(!(d.flags&1)||!d.dirty&&!C))if(t){const ie=d.run();if(s||w||(_?ie.some((te,pe)=>Zn(te,M[pe])):Zn(ie,M))){v&&v();const te=dl;dl=d;try{const pe=[ie,M===Zs?void 0:_&&M[0]===Zs?[]:M,b];M=ie,c?c(t,3,pe):t(...pe)}finally{dl=te}}}else d.run()};return a&&a(A),d=new Rc(g),d.scheduler=i?()=>i(A,!1):A,b=C=>Ed(C,!1,d),v=d.onStop=()=>{const C=cr.get(d);if(C){if(c)c(C,4);else for(const ie of C)ie();cr.delete(d)}},t?l?A(!0):M=d.run():i?i(A.bind(null,!0),!0):d.run(),L.pause=d.pause.bind(d),L.resume=d.resume.bind(d),L.stop=L,L}function Rn(e,t=1/0,n){if(t<=0||!et(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,_t(e))Rn(e.value,t,n);else if(Me(e))for(let l=0;l<e.length;l++)Rn(e[l],t,n);else if(Cc(e)||jl(e))e.forEach(l=>{Rn(l,t,n)});else if(Tc(e)){for(const l in e)Rn(e[l],t,n);for(const l of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,l)&&Rn(e[l],t,n)}return e}/**
* @vue/runtime-core v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function zs(e,t,n,l){try{return l?e(...l):e()}catch(s){Cr(s,t,n)}}function Tn(e,t,n,l){if(_e(e)){const s=zs(e,t,n,l);return s&&kc(s)&&s.catch(r=>{Cr(r,t,n)}),s}if(Me(e)){const s=[];for(let r=0;r<e.length;r++)s.push(Tn(e[r],t,n,l));return s}}function Cr(e,t,n,l=!0){const s=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:i}=t&&t.appContext.config||Be;if(t){let a=t.parent;const c=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const d=a.ec;if(d){for(let g=0;g<d.length;g++)if(d[g](e,c,f)===!1)return}a=a.parent}if(r){Un(),zs(r,null,10,[e,c,f]),Ln();return}}Ad(e,n,s,l,i)}function Ad(e,t,n,l=!0,s=!1){if(s)throw e;console.error(e)}const Lt=[];let Cn=-1;const Wl=[];let Wn=null,Nl=0;const Yc=Promise.resolve();let ur=null;function Pd(e){const t=ur||Yc;return e?t.then(this?e.bind(this):e):t}function Rd(e){let t=Cn+1,n=Lt.length;for(;t<n;){const l=t+n>>>1,s=Lt[l],r=Us(s);r<e||r===e&&s.flags&2?t=l+1:n=l}return t}function ro(e){if(!(e.flags&1)){const t=Us(e),n=Lt[Lt.length-1];!n||!(e.flags&2)&&t>=Us(n)?Lt.push(e):Lt.splice(Rd(t),0,e),e.flags|=1,qc()}}function qc(){ur||(ur=Yc.then(Zc))}function Fd(e){Me(e)?Wl.push(...e):Wn&&e.id===-1?Wn.splice(Nl+1,0,e):e.flags&1||(Wl.push(e),e.flags|=1),qc()}function ra(e,t,n=Cn+1){for(;n<Lt.length;n++){const l=Lt[n];if(l&&l.flags&2){if(e&&l.id!==e.uid)continue;Lt.splice(n,1),n--,l.flags&4&&(l.flags&=-2),l(),l.flags&4||(l.flags&=-2)}}}function Jc(e){if(Wl.length){const t=[...new Set(Wl)].sort((n,l)=>Us(n)-Us(l));if(Wl.length=0,Wn){Wn.push(...t);return}for(Wn=t,Nl=0;Nl<Wn.length;Nl++){const n=Wn[Nl];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Wn=null,Nl=0}}const Us=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Zc(e){try{for(Cn=0;Cn<Lt.length;Cn++){const t=Lt[Cn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),zs(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Cn<Lt.length;Cn++){const t=Lt[Cn];t&&(t.flags&=-2)}Cn=-1,Lt.length=0,Jc(),ur=null,(Lt.length||Wl.length)&&Zc()}}let ln=null,Qc=null;function fr(e){const t=ln;return ln=e,Qc=e&&e.type.__scopeId||null,t}function Id(e,t=ln,n){if(!t||e._n)return e;const l=(...s)=>{l._d&&pa(-1);const r=fr(t);let i;try{i=e(...s)}finally{fr(r),l._d&&pa(1)}return i};return l._n=!0,l._c=!0,l._d=!0,l}function Yn(e,t){if(ln===null)return e;const n=Er(ln),l=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[r,i,a,c=Be]=t[s];r&&(_e(r)&&(r={mounted:r,updated:r}),r.deep&&Rn(i),l.push({dir:r,instance:n,value:i,oldValue:void 0,arg:a,modifiers:c}))}return e}function ul(e,t,n,l){const s=e.dirs,r=t&&t.dirs;for(let i=0;i<s.length;i++){const a=s[i];r&&(a.oldValue=r[i].value);let c=a.dir[l];c&&(Un(),Tn(c,n,8,[e.el,a,e,t]),Ln())}}function vs(e,t){if(Ot){let n=Ot.provides;const l=Ot.parent&&Ot.parent.provides;l===n&&(n=Ot.provides=Object.create(l)),n[e]=t}}function lr(e,t,n=!1){const l=R0();if(l||Kl){let s=Kl?Kl._context.provides:l?l.parent==null||l.ce?l.vnode.appContext&&l.vnode.appContext.provides:l.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&_e(t)?t.call(l&&l.proxy):t}}const Ud=Symbol.for("v-scx"),Ld=()=>lr(Ud);function dt(e,t,n){return Xc(e,t,n)}function Xc(e,t,n=Be){const{immediate:l,deep:s,flush:r,once:i}=n,a=Pt({},n),c=t&&l||!t&&r!=="post";let f;if(Os){if(r==="sync"){const b=Ld();f=b.__watcherHandles||(b.__watcherHandles=[])}else if(!c){const b=()=>{};return b.stop=Dn,b.resume=Dn,b.pause=Dn,b}}const d=Ot;a.call=(b,w,_)=>Tn(b,d,w,_);let g=!1;r==="post"?a.scheduler=b=>{Wt(b,d&&d.suspense)}:r!=="sync"&&(g=!0,a.scheduler=(b,w)=>{w?b():ro(b)}),a.augmentJob=b=>{t&&(b.flags|=4),g&&(b.flags|=2,d&&(b.id=d.uid,b.i=d))};const v=_d(e,t,a);return Os&&(f?f.push(v):c&&v()),v}function Od(e,t,n){const l=this.proxy,s=at(e)?e.includes(".")?eu(l,e):()=>l[e]:e.bind(l,l);let r;_e(t)?r=t:(r=t.handler,n=t);const i=Ns(this),a=Xc(s,r.bind(l),n);return i(),a}function eu(e,t){const n=t.split(".");return()=>{let l=e;for(let s=0;s<n.length&&l;s++)l=l[n[s]];return l}}const Vd=Symbol("_vte"),zd=e=>e.__isTeleport,Nd=Symbol("_leaveCb");function io(e,t){e.shapeFlag&6&&e.component?(e.transition=t,io(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ts(e,t){return _e(e)?Pt({name:e.name},t,{setup:e}):e}function tu(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const dr=new WeakMap;function Ds(e,t,n,l,s=!1){if(Me(e)){e.forEach((w,_)=>Ds(w,t&&(Me(t)?t[_]:t),n,l,s));return}if(Ts(l)&&!s){l.shapeFlag&512&&l.type.__asyncResolved&&l.component.subTree.component&&Ds(e,t,n,l.component.subTree);return}const r=l.shapeFlag&4?Er(l.component):l.el,i=s?null:r,{i:a,r:c}=e,f=t&&t.r,d=a.refs===Be?a.refs={}:a.refs,g=a.setupState,v=Ve(g),b=g===Be?Sc:w=>ze(v,w);if(f!=null&&f!==c){if(ia(t),at(f))d[f]=null,b(f)&&(g[f]=null);else if(_t(f)){f.value=null;const w=t;w.k&&(d[w.k]=null)}}if(_e(c))zs(c,a,12,[i,d]);else{const w=at(c),_=_t(c);if(w||_){const U=()=>{if(e.f){const L=w?b(c)?g[c]:d[c]:c.value;if(s)Me(L)&&Yi(L,r);else if(Me(L))L.includes(r)||L.push(r);else if(w)d[c]=[r],b(c)&&(g[c]=d[c]);else{const M=[r];c.value=M,e.k&&(d[e.k]=M)}}else w?(d[c]=i,b(c)&&(g[c]=i)):_&&(c.value=i,e.k&&(d[e.k]=i))};if(i){const L=()=>{U(),dr.delete(e)};L.id=-1,dr.set(e,L),Wt(L,n)}else ia(e),U()}}}function ia(e){const t=dr.get(e);t&&(t.flags|=8,dr.delete(e))}wr().requestIdleCallback;wr().cancelIdleCallback;const Ts=e=>!!e.type.__asyncLoader,nu=e=>e.type.__isKeepAlive;function $d(e,t){lu(e,"a",t)}function Bd(e,t){lu(e,"da",t)}function lu(e,t,n=Ot){const l=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(kr(t,l,n),n){let s=n.parent;for(;s&&s.parent;)nu(s.parent.vnode)&&Hd(l,t,n,s),s=s.parent}}function Hd(e,t,n,l){const s=kr(t,e,l,!0);Dr(()=>{Yi(l[t],s)},n)}function kr(e,t,n=Ot,l=!1){if(n){const s=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...i)=>{Un();const a=Ns(n),c=Tn(t,n,e,i);return a(),Ln(),c});return l?s.unshift(r):s.push(r),r}}const Vn=e=>(t,n=Ot)=>{(!Os||e==="sp")&&kr(e,(...l)=>t(...l),n)},jd=Vn("bm"),oo=Vn("m"),Wd=Vn("bu"),Kd=Vn("u"),Gd=Vn("bum"),Dr=Vn("um"),Yd=Vn("sp"),qd=Vn("rtg"),Jd=Vn("rtc");function Zd(e,t=Ot){kr("ec",e,t)}const Qd=Symbol.for("v-ndc");function ql(e,t,n,l){let s;const r=n,i=Me(e);if(i||at(e)){const a=i&&bl(e);let c=!1,f=!1;a&&(c=!sn(e),f=On(e),e=Sr(e)),s=new Array(e.length);for(let d=0,g=e.length;d<g;d++)s[d]=t(c?f?Yl(pn(e[d])):pn(e[d]):e[d],d,void 0,r)}else if(typeof e=="number"){s=new Array(e);for(let a=0;a<e;a++)s[a]=t(a+1,a,void 0,r)}else if(et(e))if(e[Symbol.iterator])s=Array.from(e,(a,c)=>t(a,c,void 0,r));else{const a=Object.keys(e);s=new Array(a.length);for(let c=0,f=a.length;c<f;c++){const d=a[c];s[c]=t(e[d],d,c,r)}}else s=[];return s}const Ai=e=>e?ku(e)?Er(e):Ai(e.parent):null,Ms=Pt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ai(e.parent),$root:e=>Ai(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>ru(e),$forceUpdate:e=>e.f||(e.f=()=>{ro(e.update)}),$nextTick:e=>e.n||(e.n=Pd.bind(e.proxy)),$watch:e=>Od.bind(e)}),ui=(e,t)=>e!==Be&&!e.__isScriptSetup&&ze(e,t),Xd={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:l,data:s,props:r,accessCache:i,type:a,appContext:c}=e;if(t[0]!=="$"){const v=i[t];if(v!==void 0)switch(v){case 1:return l[t];case 2:return s[t];case 4:return n[t];case 3:return r[t]}else{if(ui(l,t))return i[t]=1,l[t];if(s!==Be&&ze(s,t))return i[t]=2,s[t];if(ze(r,t))return i[t]=3,r[t];if(n!==Be&&ze(n,t))return i[t]=4,n[t];Pi&&(i[t]=0)}}const f=Ms[t];let d,g;if(f)return t==="$attrs"&&Et(e.attrs,"get",""),f(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(n!==Be&&ze(n,t))return i[t]=4,n[t];if(g=c.config.globalProperties,ze(g,t))return g[t]},set({_:e},t,n){const{data:l,setupState:s,ctx:r}=e;return ui(s,t)?(s[t]=n,!0):l!==Be&&ze(l,t)?(l[t]=n,!0):ze(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:l,appContext:s,props:r,type:i}},a){let c;return!!(n[a]||e!==Be&&a[0]!=="$"&&ze(e,a)||ui(t,a)||ze(r,a)||ze(l,a)||ze(Ms,a)||ze(s.config.globalProperties,a)||(c=i.__cssModules)&&c[a])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:ze(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function oa(e){return Me(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Pi=!0;function e0(e){const t=ru(e),n=e.proxy,l=e.ctx;Pi=!1,t.beforeCreate&&aa(t.beforeCreate,e,"bc");const{data:s,computed:r,methods:i,watch:a,provide:c,inject:f,created:d,beforeMount:g,mounted:v,beforeUpdate:b,updated:w,activated:_,deactivated:U,beforeDestroy:L,beforeUnmount:M,destroyed:A,unmounted:C,render:ie,renderTracked:te,renderTriggered:pe,errorCaptured:fe,serverPrefetch:ve,expose:j,inheritAttrs:F,components:Q,directives:I,filters:P}=t;if(f&&t0(f,l,null),i)for(const T in i){const V=i[T];_e(V)&&(l[T]=V.bind(n))}if(s){const T=s.call(n,n);et(T)&&(e.data=no(T))}if(Pi=!0,r)for(const T in r){const V=r[T],G=_e(V)?V.bind(n,n):_e(V.get)?V.get.bind(n,n):Dn,le=!_e(V)&&_e(V.set)?V.set.bind(n):Dn,X=ns({get:G,set:le});Object.defineProperty(l,T,{enumerable:!0,configurable:!0,get:()=>X.value,set:W=>X.value=W})}if(a)for(const T in a)su(a[T],l,n,T);if(c){const T=_e(c)?c.call(n):c;Reflect.ownKeys(T).forEach(V=>{vs(V,T[V])})}d&&aa(d,e,"c");function k(T,V){Me(V)?V.forEach(G=>T(G.bind(n))):V&&T(V.bind(n))}if(k(jd,g),k(oo,v),k(Wd,b),k(Kd,w),k($d,_),k(Bd,U),k(Zd,fe),k(Jd,te),k(qd,pe),k(Gd,M),k(Dr,C),k(Yd,ve),Me(j))if(j.length){const T=e.exposed||(e.exposed={});j.forEach(V=>{Object.defineProperty(T,V,{get:()=>n[V],set:G=>n[V]=G,enumerable:!0})})}else e.exposed||(e.exposed={});ie&&e.render===Dn&&(e.render=ie),F!=null&&(e.inheritAttrs=F),Q&&(e.components=Q),I&&(e.directives=I),ve&&tu(e)}function t0(e,t,n=Dn){Me(e)&&(e=Ri(e));for(const l in e){const s=e[l];let r;et(s)?"default"in s?r=lr(s.from||l,s.default,!0):r=lr(s.from||l):r=lr(s),_t(r)?Object.defineProperty(t,l,{enumerable:!0,configurable:!0,get:()=>r.value,set:i=>r.value=i}):t[l]=r}}function aa(e,t,n){Tn(Me(e)?e.map(l=>l.bind(t.proxy)):e.bind(t.proxy),t,n)}function su(e,t,n,l){let s=l.includes(".")?eu(n,l):()=>n[l];if(at(e)){const r=t[e];_e(r)&&dt(s,r)}else if(_e(e))dt(s,e.bind(n));else if(et(e))if(Me(e))e.forEach(r=>su(r,t,n,l));else{const r=_e(e.handler)?e.handler.bind(n):t[e.handler];_e(r)&&dt(s,r,e)}}function ru(e){const t=e.type,{mixins:n,extends:l}=t,{mixins:s,optionsCache:r,config:{optionMergeStrategies:i}}=e.appContext,a=r.get(t);let c;return a?c=a:!s.length&&!n&&!l?c=t:(c={},s.length&&s.forEach(f=>hr(c,f,i,!0)),hr(c,t,i)),et(t)&&r.set(t,c),c}function hr(e,t,n,l=!1){const{mixins:s,extends:r}=t;r&&hr(e,r,n,!0),s&&s.forEach(i=>hr(e,i,n,!0));for(const i in t)if(!(l&&i==="expose")){const a=n0[i]||n&&n[i];e[i]=a?a(e[i],t[i]):t[i]}return e}const n0={data:ca,props:ua,emits:ua,methods:bs,computed:bs,beforeCreate:Ut,created:Ut,beforeMount:Ut,mounted:Ut,beforeUpdate:Ut,updated:Ut,beforeDestroy:Ut,beforeUnmount:Ut,destroyed:Ut,unmounted:Ut,activated:Ut,deactivated:Ut,errorCaptured:Ut,serverPrefetch:Ut,components:bs,directives:bs,watch:s0,provide:ca,inject:l0};function ca(e,t){return t?e?function(){return Pt(_e(e)?e.call(this,this):e,_e(t)?t.call(this,this):t)}:t:e}function l0(e,t){return bs(Ri(e),Ri(t))}function Ri(e){if(Me(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ut(e,t){return e?[...new Set([].concat(e,t))]:t}function bs(e,t){return e?Pt(Object.create(null),e,t):t}function ua(e,t){return e?Me(e)&&Me(t)?[...new Set([...e,...t])]:Pt(Object.create(null),oa(e),oa(t??{})):t}function s0(e,t){if(!e)return t;if(!t)return e;const n=Pt(Object.create(null),e);for(const l in t)n[l]=Ut(e[l],t[l]);return n}function iu(){return{app:null,config:{isNativeTag:Sc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let r0=0;function i0(e,t){return function(l,s=null){_e(l)||(l=Pt({},l)),s!=null&&!et(s)&&(s=null);const r=iu(),i=new WeakSet,a=[];let c=!1;const f=r.app={_uid:r0++,_component:l,_props:s,_container:null,_context:r,_instance:null,version:V0,get config(){return r.config},set config(d){},use(d,...g){return i.has(d)||(d&&_e(d.install)?(i.add(d),d.install(f,...g)):_e(d)&&(i.add(d),d(f,...g))),f},mixin(d){return r.mixins.includes(d)||r.mixins.push(d),f},component(d,g){return g?(r.components[d]=g,f):r.components[d]},directive(d,g){return g?(r.directives[d]=g,f):r.directives[d]},mount(d,g,v){if(!c){const b=f._ceVNode||Yt(l,s);return b.appContext=r,v===!0?v="svg":v===!1&&(v=void 0),e(b,d,v),c=!0,f._container=d,d.__vue_app__=f,Er(b.component)}},onUnmount(d){a.push(d)},unmount(){c&&(Tn(a,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(d,g){return r.provides[d]=g,f},runWithContext(d){const g=Kl;Kl=f;try{return d()}finally{Kl=g}}};return f}}let Kl=null;const o0=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Qn(t)}Modifiers`]||e[`${nl(t)}Modifiers`];function a0(e,t,...n){if(e.isUnmounted)return;const l=e.vnode.props||Be;let s=n;const r=t.startsWith("update:"),i=r&&o0(l,t.slice(7));i&&(i.trim&&(s=n.map(d=>at(d)?d.trim():d)),i.number&&(s=n.map(Ji)));let a,c=l[a=ri(t)]||l[a=ri(Qn(t))];!c&&r&&(c=l[a=ri(nl(t))]),c&&Tn(c,e,6,s);const f=l[a+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Tn(f,e,6,s)}}const c0=new WeakMap;function ou(e,t,n=!1){const l=n?c0:t.emitsCache,s=l.get(e);if(s!==void 0)return s;const r=e.emits;let i={},a=!1;if(!_e(e)){const c=f=>{const d=ou(f,t,!0);d&&(a=!0,Pt(i,d))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!r&&!a?(et(e)&&l.set(e,null),null):(Me(r)?r.forEach(c=>i[c]=null):Pt(i,r),et(e)&&l.set(e,i),i)}function Tr(e,t){return!e||!br(t)?!1:(t=t.slice(2).replace(/Once$/,""),ze(e,t[0].toLowerCase()+t.slice(1))||ze(e,nl(t))||ze(e,t))}function fa(e){const{type:t,vnode:n,proxy:l,withProxy:s,propsOptions:[r],slots:i,attrs:a,emit:c,render:f,renderCache:d,props:g,data:v,setupState:b,ctx:w,inheritAttrs:_}=e,U=fr(e);let L,M;try{if(n.shapeFlag&4){const C=s||l,ie=C;L=kn(f.call(ie,C,d,g,b,v,w)),M=a}else{const C=t;L=kn(C.length>1?C(g,{attrs:a,slots:i,emit:c}):C(g,null)),M=t.props?a:u0(a)}}catch(C){Es.length=0,Cr(C,e,1),L=Yt(Xn)}let A=L;if(M&&_!==!1){const C=Object.keys(M),{shapeFlag:ie}=A;C.length&&ie&7&&(r&&C.some(Gi)&&(M=f0(M,r)),A=Jl(A,M,!1,!0))}return n.dirs&&(A=Jl(A,null,!1,!0),A.dirs=A.dirs?A.dirs.concat(n.dirs):n.dirs),n.transition&&io(A,n.transition),L=A,fr(U),L}const u0=e=>{let t;for(const n in e)(n==="class"||n==="style"||br(n))&&((t||(t={}))[n]=e[n]);return t},f0=(e,t)=>{const n={};for(const l in e)(!Gi(l)||!(l.slice(9)in t))&&(n[l]=e[l]);return n};function d0(e,t,n){const{props:l,children:s,component:r}=e,{props:i,children:a,patchFlag:c}=t,f=r.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return l?da(l,i,f):!!i;if(c&8){const d=t.dynamicProps;for(let g=0;g<d.length;g++){const v=d[g];if(i[v]!==l[v]&&!Tr(f,v))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:l===i?!1:l?i?da(l,i,f):!0:!!i;return!1}function da(e,t,n){const l=Object.keys(t);if(l.length!==Object.keys(e).length)return!0;for(let s=0;s<l.length;s++){const r=l[s];if(t[r]!==e[r]&&!Tr(n,r))return!0}return!1}function h0({vnode:e,parent:t},n){for(;t;){const l=t.subTree;if(l.suspense&&l.suspense.activeBranch===e&&(l.el=e.el),l===e)(e=t.vnode).el=n,t=t.parent;else break}}const au={},cu=()=>Object.create(au),uu=e=>Object.getPrototypeOf(e)===au;function g0(e,t,n,l=!1){const s={},r=cu();e.propsDefaults=Object.create(null),fu(e,t,s,r);for(const i in e.propsOptions[0])i in s||(s[i]=void 0);n?e.props=l?s:Sd(s):e.type.props?e.props=s:e.props=r,e.attrs=r}function p0(e,t,n,l){const{props:s,attrs:r,vnode:{patchFlag:i}}=e,a=Ve(s),[c]=e.propsOptions;let f=!1;if((l||i>0)&&!(i&16)){if(i&8){const d=e.vnode.dynamicProps;for(let g=0;g<d.length;g++){let v=d[g];if(Tr(e.emitsOptions,v))continue;const b=t[v];if(c)if(ze(r,v))b!==r[v]&&(r[v]=b,f=!0);else{const w=Qn(v);s[w]=Fi(c,a,w,b,e,!1)}else b!==r[v]&&(r[v]=b,f=!0)}}}else{fu(e,t,s,r)&&(f=!0);let d;for(const g in a)(!t||!ze(t,g)&&((d=nl(g))===g||!ze(t,d)))&&(c?n&&(n[g]!==void 0||n[d]!==void 0)&&(s[g]=Fi(c,a,g,void 0,e,!0)):delete s[g]);if(r!==a)for(const g in r)(!t||!ze(t,g))&&(delete r[g],f=!0)}f&&Pn(e.attrs,"set","")}function fu(e,t,n,l){const[s,r]=e.propsOptions;let i=!1,a;if(t)for(let c in t){if(Ss(c))continue;const f=t[c];let d;s&&ze(s,d=Qn(c))?!r||!r.includes(d)?n[d]=f:(a||(a={}))[d]=f:Tr(e.emitsOptions,c)||(!(c in l)||f!==l[c])&&(l[c]=f,i=!0)}if(r){const c=Ve(n),f=a||Be;for(let d=0;d<r.length;d++){const g=r[d];n[g]=Fi(s,c,g,f[g],e,!ze(f,g))}}return i}function Fi(e,t,n,l,s,r){const i=e[n];if(i!=null){const a=ze(i,"default");if(a&&l===void 0){const c=i.default;if(i.type!==Function&&!i.skipFactory&&_e(c)){const{propsDefaults:f}=s;if(n in f)l=f[n];else{const d=Ns(s);l=f[n]=c.call(null,t),d()}}else l=c;s.ce&&s.ce._setProp(n,l)}i[0]&&(r&&!a?l=!1:i[1]&&(l===""||l===nl(n))&&(l=!0))}return l}const m0=new WeakMap;function du(e,t,n=!1){const l=n?m0:t.propsCache,s=l.get(e);if(s)return s;const r=e.props,i={},a=[];let c=!1;if(!_e(e)){const d=g=>{c=!0;const[v,b]=du(g,t,!0);Pt(i,v),b&&a.push(...b)};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!r&&!c)return et(e)&&l.set(e,Hl),Hl;if(Me(r))for(let d=0;d<r.length;d++){const g=Qn(r[d]);ha(g)&&(i[g]=Be)}else if(r)for(const d in r){const g=Qn(d);if(ha(g)){const v=r[d],b=i[g]=Me(v)||_e(v)?{type:v}:Pt({},v),w=b.type;let _=!1,U=!0;if(Me(w))for(let L=0;L<w.length;++L){const M=w[L],A=_e(M)&&M.name;if(A==="Boolean"){_=!0;break}else A==="String"&&(U=!1)}else _=_e(w)&&w.name==="Boolean";b[0]=_,b[1]=U,(_||ze(b,"default"))&&a.push(g)}}const f=[i,a];return et(e)&&l.set(e,f),f}function ha(e){return e[0]!=="$"&&!Ss(e)}const ao=e=>e==="_"||e==="_ctx"||e==="$stable",co=e=>Me(e)?e.map(kn):[kn(e)],v0=(e,t,n)=>{if(t._n)return t;const l=Id((...s)=>co(t(...s)),n);return l._c=!1,l},hu=(e,t,n)=>{const l=e._ctx;for(const s in e){if(ao(s))continue;const r=e[s];if(_e(r))t[s]=v0(s,r,l);else if(r!=null){const i=co(r);t[s]=()=>i}}},gu=(e,t)=>{const n=co(t);e.slots.default=()=>n},pu=(e,t,n)=>{for(const l in t)(n||!ao(l))&&(e[l]=t[l])},b0=(e,t,n)=>{const l=e.slots=cu();if(e.vnode.shapeFlag&32){const s=t._;s?(pu(l,t,n),n&&Ec(l,"_",s,!0)):hu(t,l)}else t&&gu(e,t)},y0=(e,t,n)=>{const{vnode:l,slots:s}=e;let r=!0,i=Be;if(l.shapeFlag&32){const a=t._;a?n&&a===1?r=!1:pu(s,t,n):(r=!t.$stable,hu(t,s)),i=t}else t&&(gu(e,t),i={default:1});if(r)for(const a in s)!ao(a)&&i[a]==null&&delete s[a]},Wt=k0;function x0(e){return w0(e)}function w0(e,t){const n=wr();n.__VUE__=!0;const{insert:l,remove:s,patchProp:r,createElement:i,createText:a,createComment:c,setText:f,setElementText:d,parentNode:g,nextSibling:v,setScopeId:b=Dn,insertStaticContent:w}=e,_=(m,x,R,K=null,N=null,$=null,se=void 0,ne=null,q=!!x.dynamicChildren)=>{if(m===x)return;m&&!gs(m,x)&&(K=me(m),W(m,N,$,!0),m=null),x.patchFlag===-2&&(q=!1,x.dynamicChildren=null);const{type:B,ref:de,shapeFlag:re}=x;switch(B){case Mr:U(m,x,R,K);break;case Xn:L(m,x,R,K);break;case di:m==null&&M(x,R,K,se);break;case Dt:Q(m,x,R,K,N,$,se,ne,q);break;default:re&1?ie(m,x,R,K,N,$,se,ne,q):re&6?I(m,x,R,K,N,$,se,ne,q):(re&64||re&128)&&B.process(m,x,R,K,N,$,se,ne,q,Ne)}de!=null&&N?Ds(de,m&&m.ref,$,x||m,!x):de==null&&m&&m.ref!=null&&Ds(m.ref,null,$,m,!0)},U=(m,x,R,K)=>{if(m==null)l(x.el=a(x.children),R,K);else{const N=x.el=m.el;x.children!==m.children&&f(N,x.children)}},L=(m,x,R,K)=>{m==null?l(x.el=c(x.children||""),R,K):x.el=m.el},M=(m,x,R,K)=>{[m.el,m.anchor]=w(m.children,x,R,K,m.el,m.anchor)},A=({el:m,anchor:x},R,K)=>{let N;for(;m&&m!==x;)N=v(m),l(m,R,K),m=N;l(x,R,K)},C=({el:m,anchor:x})=>{let R;for(;m&&m!==x;)R=v(m),s(m),m=R;s(x)},ie=(m,x,R,K,N,$,se,ne,q)=>{if(x.type==="svg"?se="svg":x.type==="math"&&(se="mathml"),m==null)te(x,R,K,N,$,se,ne,q);else{const B=m.el&&m.el._isVueCE?m.el:null;try{B&&B._beginPatch(),ve(m,x,N,$,se,ne,q)}finally{B&&B._endPatch()}}},te=(m,x,R,K,N,$,se,ne)=>{let q,B;const{props:de,shapeFlag:re,transition:J,dirs:z}=m;if(q=m.el=i(m.type,$,de&&de.is,de),re&8?d(q,m.children):re&16&&fe(m.children,q,null,K,N,fi(m,$),se,ne),z&&ul(m,null,K,"created"),pe(q,m,m.scopeId,se,K),de){for(const ke in de)ke!=="value"&&!Ss(ke)&&r(q,ke,null,de[ke],$,K);"value"in de&&r(q,"value",null,de.value,$),(B=de.onVnodeBeforeMount)&&wn(B,K,m)}z&&ul(m,null,K,"beforeMount");const ue=S0(N,J);ue&&J.beforeEnter(q),l(q,x,R),((B=de&&de.onVnodeMounted)||ue||z)&&Wt(()=>{B&&wn(B,K,m),ue&&J.enter(q),z&&ul(m,null,K,"mounted")},N)},pe=(m,x,R,K,N)=>{if(R&&b(m,R),K)for(let $=0;$<K.length;$++)b(m,K[$]);if(N){let $=N.subTree;if(x===$||yu($.type)&&($.ssContent===x||$.ssFallback===x)){const se=N.vnode;pe(m,se,se.scopeId,se.slotScopeIds,N.parent)}}},fe=(m,x,R,K,N,$,se,ne,q=0)=>{for(let B=q;B<m.length;B++){const de=m[B]=ne?Kn(m[B]):kn(m[B]);_(null,de,x,R,K,N,$,se,ne)}},ve=(m,x,R,K,N,$,se)=>{const ne=x.el=m.el;let{patchFlag:q,dynamicChildren:B,dirs:de}=x;q|=m.patchFlag&16;const re=m.props||Be,J=x.props||Be;let z;if(R&&fl(R,!1),(z=J.onVnodeBeforeUpdate)&&wn(z,R,x,m),de&&ul(x,m,R,"beforeUpdate"),R&&fl(R,!0),(re.innerHTML&&J.innerHTML==null||re.textContent&&J.textContent==null)&&d(ne,""),B?j(m.dynamicChildren,B,ne,R,K,fi(x,N),$):se||V(m,x,ne,null,R,K,fi(x,N),$,!1),q>0){if(q&16)F(ne,re,J,R,N);else if(q&2&&re.class!==J.class&&r(ne,"class",null,J.class,N),q&4&&r(ne,"style",re.style,J.style,N),q&8){const ue=x.dynamicProps;for(let ke=0;ke<ue.length;ke++){const Pe=ue[ke],tt=re[Pe],Ke=J[Pe];(Ke!==tt||Pe==="value")&&r(ne,Pe,tt,Ke,N,R)}}q&1&&m.children!==x.children&&d(ne,x.children)}else!se&&B==null&&F(ne,re,J,R,N);((z=J.onVnodeUpdated)||de)&&Wt(()=>{z&&wn(z,R,x,m),de&&ul(x,m,R,"updated")},K)},j=(m,x,R,K,N,$,se)=>{for(let ne=0;ne<x.length;ne++){const q=m[ne],B=x[ne],de=q.el&&(q.type===Dt||!gs(q,B)||q.shapeFlag&198)?g(q.el):R;_(q,B,de,null,K,N,$,se,!0)}},F=(m,x,R,K,N)=>{if(x!==R){if(x!==Be)for(const $ in x)!Ss($)&&!($ in R)&&r(m,$,x[$],null,N,K);for(const $ in R){if(Ss($))continue;const se=R[$],ne=x[$];se!==ne&&$!=="value"&&r(m,$,ne,se,N,K)}"value"in R&&r(m,"value",x.value,R.value,N)}},Q=(m,x,R,K,N,$,se,ne,q)=>{const B=x.el=m?m.el:a(""),de=x.anchor=m?m.anchor:a("");let{patchFlag:re,dynamicChildren:J,slotScopeIds:z}=x;z&&(ne=ne?ne.concat(z):z),m==null?(l(B,R,K),l(de,R,K),fe(x.children||[],R,de,N,$,se,ne,q)):re>0&&re&64&&J&&m.dynamicChildren&&m.dynamicChildren.length===J.length?(j(m.dynamicChildren,J,R,N,$,se,ne),(x.key!=null||N&&x===N.subTree)&&mu(m,x,!0)):V(m,x,R,de,N,$,se,ne,q)},I=(m,x,R,K,N,$,se,ne,q)=>{x.slotScopeIds=ne,m==null?x.shapeFlag&512?N.ctx.activate(x,R,K,se,q):P(x,R,K,N,$,se,q):E(m,x,q)},P=(m,x,R,K,N,$,se)=>{const ne=m.component=P0(m,K,N);if(nu(m)&&(ne.ctx.renderer=Ne),F0(ne,!1,se),ne.asyncDep){if(N&&N.registerDep(ne,k,se),!m.el){const q=ne.subTree=Yt(Xn);L(null,q,x,R),m.placeholder=q.el}}else k(ne,m,x,R,N,$,se)},E=(m,x,R)=>{const K=x.component=m.component;if(d0(m,x,R))if(K.asyncDep&&!K.asyncResolved){T(K,x,R);return}else K.next=x,K.update();else x.el=m.el,K.vnode=x},k=(m,x,R,K,N,$,se)=>{const ne=()=>{if(m.isMounted){let{next:re,bu:J,u:z,parent:ue,vnode:ke}=m;{const Qe=vu(m);if(Qe){re&&(re.el=ke.el,T(m,re,se)),Qe.asyncDep.then(()=>{m.isUnmounted||ne()});return}}let Pe=re,tt;fl(m,!1),re?(re.el=ke.el,T(m,re,se)):re=ke,J&&nr(J),(tt=re.props&&re.props.onVnodeBeforeUpdate)&&wn(tt,ue,re,ke),fl(m,!0);const Ke=fa(m),gt=m.subTree;m.subTree=Ke,_(gt,Ke,g(gt.el),me(gt),m,N,$),re.el=Ke.el,Pe===null&&h0(m,Ke.el),z&&Wt(z,N),(tt=re.props&&re.props.onVnodeUpdated)&&Wt(()=>wn(tt,ue,re,ke),N)}else{let re;const{el:J,props:z}=x,{bm:ue,m:ke,parent:Pe,root:tt,type:Ke}=m,gt=Ts(x);fl(m,!1),ue&&nr(ue),!gt&&(re=z&&z.onVnodeBeforeMount)&&wn(re,Pe,x),fl(m,!0);{tt.ce&&tt.ce._def.shadowRoot!==!1&&tt.ce._injectChildStyle(Ke);const Qe=m.subTree=fa(m);_(null,Qe,R,K,m,N,$),x.el=Qe.el}if(ke&&Wt(ke,N),!gt&&(re=z&&z.onVnodeMounted)){const Qe=x;Wt(()=>wn(re,Pe,Qe),N)}(x.shapeFlag&256||Pe&&Ts(Pe.vnode)&&Pe.vnode.shapeFlag&256)&&m.a&&Wt(m.a,N),m.isMounted=!0,x=R=K=null}};m.scope.on();const q=m.effect=new Rc(ne);m.scope.off();const B=m.update=q.run.bind(q),de=m.job=q.runIfDirty.bind(q);de.i=m,de.id=m.uid,q.scheduler=()=>ro(de),fl(m,!0),B()},T=(m,x,R)=>{x.component=m;const K=m.vnode.props;m.vnode=x,m.next=null,p0(m,x.props,K,R),y0(m,x.children,R),Un(),ra(m),Ln()},V=(m,x,R,K,N,$,se,ne,q=!1)=>{const B=m&&m.children,de=m?m.shapeFlag:0,re=x.children,{patchFlag:J,shapeFlag:z}=x;if(J>0){if(J&128){le(B,re,R,K,N,$,se,ne,q);return}else if(J&256){G(B,re,R,K,N,$,se,ne,q);return}}z&8?(de&16&&Te(B,N,$),re!==B&&d(R,re)):de&16?z&16?le(B,re,R,K,N,$,se,ne,q):Te(B,N,$,!0):(de&8&&d(R,""),z&16&&fe(re,R,K,N,$,se,ne,q))},G=(m,x,R,K,N,$,se,ne,q)=>{m=m||Hl,x=x||Hl;const B=m.length,de=x.length,re=Math.min(B,de);let J;for(J=0;J<re;J++){const z=x[J]=q?Kn(x[J]):kn(x[J]);_(m[J],z,R,null,N,$,se,ne,q)}B>de?Te(m,N,$,!0,!1,re):fe(x,R,K,N,$,se,ne,q,re)},le=(m,x,R,K,N,$,se,ne,q)=>{let B=0;const de=x.length;let re=m.length-1,J=de-1;for(;B<=re&&B<=J;){const z=m[B],ue=x[B]=q?Kn(x[B]):kn(x[B]);if(gs(z,ue))_(z,ue,R,null,N,$,se,ne,q);else break;B++}for(;B<=re&&B<=J;){const z=m[re],ue=x[J]=q?Kn(x[J]):kn(x[J]);if(gs(z,ue))_(z,ue,R,null,N,$,se,ne,q);else break;re--,J--}if(B>re){if(B<=J){const z=J+1,ue=z<de?x[z].el:K;for(;B<=J;)_(null,x[B]=q?Kn(x[B]):kn(x[B]),R,ue,N,$,se,ne,q),B++}}else if(B>J)for(;B<=re;)W(m[B],N,$,!0),B++;else{const z=B,ue=B,ke=new Map;for(B=ue;B<=J;B++){const Ge=x[B]=q?Kn(x[B]):kn(x[B]);Ge.key!=null&&ke.set(Ge.key,B)}let Pe,tt=0;const Ke=J-ue+1;let gt=!1,Qe=0;const pt=new Array(Ke);for(B=0;B<Ke;B++)pt[B]=0;for(B=z;B<=re;B++){const Ge=m[B];if(tt>=Ke){W(Ge,N,$,!0);continue}let zt;if(Ge.key!=null)zt=ke.get(Ge.key);else for(Pe=ue;Pe<=J;Pe++)if(pt[Pe-ue]===0&&gs(Ge,x[Pe])){zt=Pe;break}zt===void 0?W(Ge,N,$,!0):(pt[zt-ue]=B+1,zt>=Qe?Qe=zt:gt=!0,_(Ge,x[zt],R,null,N,$,se,ne,q),tt++)}const St=gt?C0(pt):Hl;for(Pe=St.length-1,B=Ke-1;B>=0;B--){const Ge=ue+B,zt=x[Ge],ll=x[Ge+1],Mn=Ge+1<de?ll.el||bu(ll):K;pt[B]===0?_(null,zt,R,Mn,N,$,se,ne,q):gt&&(Pe<0||B!==St[Pe]?X(zt,R,Mn,2):Pe--)}}},X=(m,x,R,K,N=null)=>{const{el:$,type:se,transition:ne,children:q,shapeFlag:B}=m;if(B&6){X(m.component.subTree,x,R,K);return}if(B&128){m.suspense.move(x,R,K);return}if(B&64){se.move(m,x,R,Ne);return}if(se===Dt){l($,x,R);for(let re=0;re<q.length;re++)X(q[re],x,R,K);l(m.anchor,x,R);return}if(se===di){A(m,x,R);return}if(K!==2&&B&1&&ne)if(K===0)ne.beforeEnter($),l($,x,R),Wt(()=>ne.enter($),N);else{const{leave:re,delayLeave:J,afterLeave:z}=ne,ue=()=>{m.ctx.isUnmounted?s($):l($,x,R)},ke=()=>{$._isLeaving&&$[Nd](!0),re($,()=>{ue(),z&&z()})};J?J($,ue,ke):ke()}else l($,x,R)},W=(m,x,R,K=!1,N=!1)=>{const{type:$,props:se,ref:ne,children:q,dynamicChildren:B,shapeFlag:de,patchFlag:re,dirs:J,cacheIndex:z}=m;if(re===-2&&(N=!1),ne!=null&&(Un(),Ds(ne,null,R,m,!0),Ln()),z!=null&&(x.renderCache[z]=void 0),de&256){x.ctx.deactivate(m);return}const ue=de&1&&J,ke=!Ts(m);let Pe;if(ke&&(Pe=se&&se.onVnodeBeforeUnmount)&&wn(Pe,x,m),de&6)Ee(m.component,R,K);else{if(de&128){m.suspense.unmount(R,K);return}ue&&ul(m,null,x,"beforeUnmount"),de&64?m.type.remove(m,x,R,Ne,K):B&&!B.hasOnce&&($!==Dt||re>0&&re&64)?Te(B,x,R,!1,!0):($===Dt&&re&384||!N&&de&16)&&Te(q,x,R),K&&Z(m)}(ke&&(Pe=se&&se.onVnodeUnmounted)||ue)&&Wt(()=>{Pe&&wn(Pe,x,m),ue&&ul(m,null,x,"unmounted")},R)},Z=m=>{const{type:x,el:R,anchor:K,transition:N}=m;if(x===Dt){we(R,K);return}if(x===di){C(m);return}const $=()=>{s(R),N&&!N.persisted&&N.afterLeave&&N.afterLeave()};if(m.shapeFlag&1&&N&&!N.persisted){const{leave:se,delayLeave:ne}=N,q=()=>se(R,$);ne?ne(m.el,$,q):q()}else $()},we=(m,x)=>{let R;for(;m!==x;)R=v(m),s(m),m=R;s(x)},Ee=(m,x,R)=>{const{bum:K,scope:N,job:$,subTree:se,um:ne,m:q,a:B}=m;ga(q),ga(B),K&&nr(K),N.stop(),$&&($.flags|=8,W(se,m,x,R)),ne&&Wt(ne,x),Wt(()=>{m.isUnmounted=!0},x)},Te=(m,x,R,K=!1,N=!1,$=0)=>{for(let se=$;se<m.length;se++)W(m[se],x,R,K,N)},me=m=>{if(m.shapeFlag&6)return me(m.component.subTree);if(m.shapeFlag&128)return m.suspense.next();const x=v(m.anchor||m.el),R=x&&x[Vd];return R?v(R):x};let rt=!1;const ct=(m,x,R)=>{let K;m==null?x._vnode&&(W(x._vnode,null,null,!0),K=x._vnode.component):_(x._vnode||null,m,x,null,null,null,R),x._vnode=m,rt||(rt=!0,ra(K),Jc(),rt=!1)},Ne={p:_,um:W,m:X,r:Z,mt:P,mc:fe,pc:V,pbc:j,n:me,o:e};return{render:ct,hydrate:void 0,createApp:i0(ct)}}function fi({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function fl({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function S0(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function mu(e,t,n=!1){const l=e.children,s=t.children;if(Me(l)&&Me(s))for(let r=0;r<l.length;r++){const i=l[r];let a=s[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[r]=Kn(s[r]),a.el=i.el),!n&&a.patchFlag!==-2&&mu(i,a)),a.type===Mr&&(a.patchFlag!==-1?a.el=i.el:a.__elIndex=r+(e.type===Dt?1:0)),a.type===Xn&&!a.el&&(a.el=i.el)}}function C0(e){const t=e.slice(),n=[0];let l,s,r,i,a;const c=e.length;for(l=0;l<c;l++){const f=e[l];if(f!==0){if(s=n[n.length-1],e[s]<f){t[l]=s,n.push(l);continue}for(r=0,i=n.length-1;r<i;)a=r+i>>1,e[n[a]]<f?r=a+1:i=a;f<e[n[r]]&&(r>0&&(t[l]=n[r-1]),n[r]=l)}}for(r=n.length,i=n[r-1];r-- >0;)n[r]=i,i=t[i];return n}function vu(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:vu(t)}function ga(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function bu(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?bu(t.subTree):null}const yu=e=>e.__isSuspense;function k0(e,t){t&&t.pendingBranch?Me(e)?t.effects.push(...e):t.effects.push(e):Fd(e)}const Dt=Symbol.for("v-fgt"),Mr=Symbol.for("v-txt"),Xn=Symbol.for("v-cmt"),di=Symbol.for("v-stc"),Es=[];let Gt=null;function be(e=!1){Es.push(Gt=e?null:[])}function D0(){Es.pop(),Gt=Es[Es.length-1]||null}let Ls=1;function pa(e,t=!1){Ls+=e,e<0&&Gt&&t&&(Gt.hasOnce=!0)}function xu(e){return e.dynamicChildren=Ls>0?Gt||Hl:null,D0(),Ls>0&&Gt&&Gt.push(e),e}function xe(e,t,n,l,s,r){return xu(S(e,t,n,l,s,r,!0))}function wu(e,t,n,l,s){return xu(Yt(e,t,n,l,s,!0))}function Su(e){return e?e.__v_isVNode===!0:!1}function gs(e,t){return e.type===t.type&&e.key===t.key}const Cu=({key:e})=>e??null,sr=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?at(e)||_t(e)||_e(e)?{i:ln,r:e,k:t,f:!!n}:e:null);function S(e,t=null,n=null,l=0,s=null,r=e===Dt?0:1,i=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Cu(t),ref:t&&sr(t),scopeId:Qc,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:l,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:ln};return a?(uo(c,n),r&128&&e.normalize(c)):n&&(c.shapeFlag|=at(n)?8:16),Ls>0&&!i&&Gt&&(c.patchFlag>0||r&6)&&c.patchFlag!==32&&Gt.push(c),c}const Yt=T0;function T0(e,t=null,n=null,l=0,s=null,r=!1){if((!e||e===Qd)&&(e=Xn),Su(e)){const a=Jl(e,t,!0);return n&&uo(a,n),Ls>0&&!r&&Gt&&(a.shapeFlag&6?Gt[Gt.indexOf(e)]=a:Gt.push(a)),a.patchFlag=-2,a}if(O0(e)&&(e=e.__vccOpts),t){t=M0(t);let{class:a,style:c}=t;a&&!at(a)&&(t.class=H(a)),et(c)&&(so(c)&&!Me(c)&&(c=Pt({},c)),t.style=xl(c))}const i=at(e)?1:yu(e)?128:zd(e)?64:et(e)?4:_e(e)?2:0;return S(e,t,n,l,s,i,r,!0)}function M0(e){return e?so(e)||uu(e)?Pt({},e):e:null}function Jl(e,t,n=!1,l=!1){const{props:s,ref:r,patchFlag:i,children:a,transition:c}=e,f=t?E0(s||{},t):s,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&Cu(f),ref:t&&t.ref?n&&r?Me(r)?r.concat(sr(t)):[r,sr(t)]:sr(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Dt?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Jl(e.ssContent),ssFallback:e.ssFallback&&Jl(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&l&&io(d,c.clone(d)),d}function dn(e=" ",t=0){return Yt(Mr,null,e,t)}function st(e="",t=!1){return t?(be(),wu(Xn,null,e)):Yt(Xn,null,e)}function kn(e){return e==null||typeof e=="boolean"?Yt(Xn):Me(e)?Yt(Dt,null,e.slice()):Su(e)?Kn(e):Yt(Mr,null,String(e))}function Kn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Jl(e)}function uo(e,t){let n=0;const{shapeFlag:l}=e;if(t==null)t=null;else if(Me(t))n=16;else if(typeof t=="object")if(l&65){const s=t.default;s&&(s._c&&(s._d=!1),uo(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!uu(t)?t._ctx=ln:s===3&&ln&&(ln.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else _e(t)?(t={default:t,_ctx:ln},n=32):(t=String(t),l&64?(n=16,t=[dn(t)]):n=8);e.children=t,e.shapeFlag|=n}function E0(...e){const t={};for(let n=0;n<e.length;n++){const l=e[n];for(const s in l)if(s==="class")t.class!==l.class&&(t.class=H([t.class,l.class]));else if(s==="style")t.style=xl([t.style,l.style]);else if(br(s)){const r=t[s],i=l[s];i&&r!==i&&!(Me(r)&&r.includes(i))&&(t[s]=r?[].concat(r,i):i)}else s!==""&&(t[s]=l[s])}return t}function wn(e,t,n,l=null){Tn(e,t,7,[n,l])}const _0=iu();let A0=0;function P0(e,t,n){const l=e.type,s=(t?t.appContext:e.appContext)||_0,r={uid:A0++,vnode:e,type:l,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new nd(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:du(l,s),emitsOptions:ou(l,s),emit:null,emitted:null,propsDefaults:Be,inheritAttrs:l.inheritAttrs,ctx:Be,data:Be,props:Be,attrs:Be,slots:Be,refs:Be,setupState:Be,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=a0.bind(null,r),e.ce&&e.ce(r),r}let Ot=null;const R0=()=>Ot||ln;let gr,Ii;{const e=wr(),t=(n,l)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(l),r=>{s.length>1?s.forEach(i=>i(r)):s[0](r)}};gr=t("__VUE_INSTANCE_SETTERS__",n=>Ot=n),Ii=t("__VUE_SSR_SETTERS__",n=>Os=n)}const Ns=e=>{const t=Ot;return gr(e),e.scope.on(),()=>{e.scope.off(),gr(t)}},ma=()=>{Ot&&Ot.scope.off(),gr(null)};function ku(e){return e.vnode.shapeFlag&4}let Os=!1;function F0(e,t=!1,n=!1){t&&Ii(t);const{props:l,children:s}=e.vnode,r=ku(e);g0(e,l,r,t),b0(e,s,n||t);const i=r?I0(e,t):void 0;return t&&Ii(!1),i}function I0(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Xd);const{setup:l}=n;if(l){Un();const s=e.setupContext=l.length>1?L0(e):null,r=Ns(e),i=zs(l,e,0,[e.props,s]),a=kc(i);if(Ln(),r(),(a||e.sp)&&!Ts(e)&&tu(e),a){if(i.then(ma,ma),t)return i.then(c=>{va(e,c)}).catch(c=>{Cr(c,e,0)});e.asyncDep=i}else va(e,i)}else Du(e)}function va(e,t,n){_e(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:et(t)&&(e.setupState=Gc(t)),Du(e)}function Du(e,t,n){const l=e.type;e.render||(e.render=l.render||Dn);{const s=Ns(e);Un();try{e0(e)}finally{Ln(),s()}}}const U0={get(e,t){return Et(e,"get",""),e[t]}};function L0(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,U0),slots:e.slots,emit:e.emit,expose:t}}function Er(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Gc(Cd(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Ms)return Ms[n](e)},has(t,n){return n in t||n in Ms}})):e.proxy}function O0(e){return _e(e)&&"__vccOpts"in e}const ns=(e,t)=>Md(e,t,Os),V0="3.5.26";/**
* @vue/runtime-dom v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ui;const ba=typeof window<"u"&&window.trustedTypes;if(ba)try{Ui=ba.createPolicy("vue",{createHTML:e=>e})}catch{}const Tu=Ui?e=>Ui.createHTML(e):e=>e,z0="http://www.w3.org/2000/svg",N0="http://www.w3.org/1998/Math/MathML",An=typeof document<"u"?document:null,ya=An&&An.createElement("template"),$0={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,l)=>{const s=t==="svg"?An.createElementNS(z0,e):t==="mathml"?An.createElementNS(N0,e):n?An.createElement(e,{is:n}):An.createElement(e);return e==="select"&&l&&l.multiple!=null&&s.setAttribute("multiple",l.multiple),s},createText:e=>An.createTextNode(e),createComment:e=>An.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>An.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,l,s,r){const i=n?n.previousSibling:t.lastChild;if(s&&(s===r||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===r||!(s=s.nextSibling)););else{ya.innerHTML=Tu(l==="svg"?`<svg>${e}</svg>`:l==="mathml"?`<math>${e}</math>`:e);const a=ya.content;if(l==="svg"||l==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}t.insertBefore(a,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},B0=Symbol("_vtc");function H0(e,t,n){const l=e[B0];l&&(t=(t?[t,...l]:[...l]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const xa=Symbol("_vod"),j0=Symbol("_vsh"),W0=Symbol(""),K0=/(?:^|;)\s*display\s*:/;function G0(e,t,n){const l=e.style,s=at(n);let r=!1;if(n&&!s){if(t)if(at(t))for(const i of t.split(";")){const a=i.slice(0,i.indexOf(":")).trim();n[a]==null&&rr(l,a,"")}else for(const i in t)n[i]==null&&rr(l,i,"");for(const i in n)i==="display"&&(r=!0),rr(l,i,n[i])}else if(s){if(t!==n){const i=l[W0];i&&(n+=";"+i),l.cssText=n,r=K0.test(n)}}else t&&e.removeAttribute("style");xa in e&&(e[xa]=r?l.display:"",e[j0]&&(l.display="none"))}const wa=/\s*!important$/;function rr(e,t,n){if(Me(n))n.forEach(l=>rr(e,t,l));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const l=Y0(e,t);wa.test(n)?e.setProperty(nl(l),n.replace(wa,""),"important"):e[l]=n}}const Sa=["Webkit","Moz","ms"],hi={};function Y0(e,t){const n=hi[t];if(n)return n;let l=Qn(t);if(l!=="filter"&&l in e)return hi[t]=l;l=Mc(l);for(let s=0;s<Sa.length;s++){const r=Sa[s]+l;if(r in e)return hi[t]=r}return t}const Ca="http://www.w3.org/1999/xlink";function ka(e,t,n,l,s,r=td(t)){l&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Ca,t.slice(6,t.length)):e.setAttributeNS(Ca,t,n):n==null||r&&!_c(n)?e.removeAttribute(t):e.setAttribute(t,r?"":tl(n)?String(n):n)}function Da(e,t,n,l,s){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Tu(n):n);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?e.getAttribute("value")||"":e.value,c=n==null?e.type==="checkbox"?"on":"":String(n);(a!==c||!("_value"in e))&&(e.value=c),n==null&&e.removeAttribute(t),e._value=n;return}let i=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=_c(n):n==null&&a==="string"?(n="",i=!0):a==="number"&&(n=0,i=!0)}try{e[t]=n}catch{}i&&e.removeAttribute(s||t)}function $l(e,t,n,l){e.addEventListener(t,n,l)}function q0(e,t,n,l){e.removeEventListener(t,n,l)}const Ta=Symbol("_vei");function J0(e,t,n,l,s=null){const r=e[Ta]||(e[Ta]={}),i=r[t];if(l&&i)i.value=l;else{const[a,c]=Z0(t);if(l){const f=r[t]=eh(l,s);$l(e,a,f,c)}else i&&(q0(e,a,i,c),r[t]=void 0)}}const Ma=/(?:Once|Passive|Capture)$/;function Z0(e){let t;if(Ma.test(e)){t={};let l;for(;l=e.match(Ma);)e=e.slice(0,e.length-l[0].length),t[l[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):nl(e.slice(2)),t]}let gi=0;const Q0=Promise.resolve(),X0=()=>gi||(Q0.then(()=>gi=0),gi=Date.now());function eh(e,t){const n=l=>{if(!l._vts)l._vts=Date.now();else if(l._vts<=n.attached)return;Tn(th(l,n.value),t,5,[l])};return n.value=e,n.attached=X0(),n}function th(e,t){if(Me(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(l=>s=>!s._stopped&&l&&l(s))}else return t}const Ea=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,nh=(e,t,n,l,s,r)=>{const i=s==="svg";t==="class"?H0(e,l,i):t==="style"?G0(e,n,l):br(t)?Gi(t)||J0(e,t,n,l,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):lh(e,t,l,i))?(Da(e,t,l),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&ka(e,t,l,i,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!at(l))?Da(e,Qn(t),l,r,t):(t==="true-value"?e._trueValue=l:t==="false-value"&&(e._falseValue=l),ka(e,t,l,i))};function lh(e,t,n,l){if(l)return!!(t==="innerHTML"||t==="textContent"||t in e&&Ea(t)&&_e(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Ea(t)&&at(n)?!1:t in e}const _a=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Me(t)?n=>nr(t,n):t};function sh(e){e.target.composing=!0}function Aa(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const pi=Symbol("_assign");function Pa(e,t,n){return t&&(e=e.trim()),n&&(e=Ji(e)),e}const qn={created(e,{modifiers:{lazy:t,trim:n,number:l}},s){e[pi]=_a(s);const r=l||s.props&&s.props.type==="number";$l(e,t?"change":"input",i=>{i.target.composing||e[pi](Pa(e.value,n,r))}),(n||r)&&$l(e,"change",()=>{e.value=Pa(e.value,n,r)}),t||($l(e,"compositionstart",sh),$l(e,"compositionend",Aa),$l(e,"change",Aa))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:l,trim:s,number:r}},i){if(e[pi]=_a(i),e.composing)return;const a=(r||e.type==="number")&&!/^0\d/.test(e.value)?Ji(e.value):e.value,c=t??"";a!==c&&(document.activeElement===e&&e.type!=="range"&&(l&&t===n||s&&e.value.trim()===c)||(e.value=c))}},rh=["ctrl","shift","alt","meta"],ih={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>rh.some(n=>e[`${n}Key`]&&!t.includes(n))},ir=(e,t)=>{const n=e._withMods||(e._withMods={}),l=t.join(".");return n[l]||(n[l]=(s,...r)=>{for(let i=0;i<t.length;i++){const a=ih[t[i]];if(a&&a(s,t))return}return e(s,...r)})},oh={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Jn=(e,t)=>{const n=e._withKeys||(e._withKeys={}),l=t.join(".");return n[l]||(n[l]=s=>{if(!("key"in s))return;const r=nl(s.key);if(t.some(i=>i===r||oh[i]===r))return e(s)})},ah=Pt({patchProp:nh},$0);let Ra;function ch(){return Ra||(Ra=x0(ah))}const uh=(...e)=>{const t=ch().createApp(...e),{mount:n}=t;return t.mount=l=>{const s=dh(l);if(!s)return;const r=t._component;!_e(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const i=n(s,!1,fh(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),i},t};function fh(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function dh(e){return at(e)?document.querySelector(e):e}const hh=[{value:"serial",label:"",description:"Web Serial API"},{value:"websocket",label:"WebSocket",description:"WebSocket "},{value:"bluetooth",label:"",description:"Web Bluetooth API"}],Fa=[{value:"justfloat",label:"JustFloat",description:""},{value:"firewater",label:"FireWater",description:" (ch0,ch1,...\\n)"}],ml=["#2196F3","#4CAF50","#FF9800","#E91E63","#9C27B0","#00BCD4","#FFEB3B","#795548"],mi={baudRate:115200,bufferSize:1e4,channels:[],protocol:"justfloat",connectionType:"serial",wsUrl:"ws://localhost:8080",btServiceUUID:"ffe0",btCharacteristicUUID:"ffe1",isDark:!0},gh=[9600,19200,38400,57600,115200,230400,460800,921600],_s=1e3,As=1e6,Qs=new Uint8Array([0,0,128,127]),ph={class:"flex items-center gap-3"},mh={class:"flex items-center gap-2"},vh={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},bh={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},yh=["value","disabled"],xh=["value"],wh={key:0,class:"flex items-center gap-1"},Sh=["disabled"],Ch={id:"baudRateList"},kh=["value"],Dh=["disabled"],Th=["disabled"],Mh=["disabled"],Eh={class:"flex items-center gap-2"},_h=["disabled"],Ah=ts({__name:"HeaderBar",props:{status:{},isSupported:{type:Boolean},connectionType:{},wsUrl:{},btServiceUUID:{},btCharacteristicUUID:{},baudRate:{},isDark:{type:Boolean}},emits:["connect","clear","export","import","toggleTheme","update:connectionType","update:wsUrl","update:btServiceUUID","update:btCharacteristicUUID","update:baudRate"],setup(e,{emit:t}){const n=e,l=t,s=Ce(n.wsUrl),r=Ce(n.btServiceUUID),i=Ce(n.btCharacteristicUUID),a=Ce(n.baudRate);dt(()=>n.wsUrl,_=>{s.value=_}),dt(()=>n.btServiceUUID,_=>{r.value=_}),dt(()=>n.btCharacteristicUUID,_=>{i.value=_}),dt(()=>n.baudRate,_=>{a.value=_});const c=()=>{l("update:wsUrl",s.value)},f=()=>{l("update:btServiceUUID",r.value)},d=()=>{l("update:btCharacteristicUUID",i.value)},g=()=>{const _=Math.max(300,a.value||115200);a.value=_,l("update:baudRate",_)},v=_=>{const U=_.target;l("update:connectionType",U.value)},b={disconnected:"",connecting:"...",connected:"",error:""},w={disconnected:"bg-gray-500",connecting:"bg-yellow-500",connected:"bg-green-500",error:"bg-red-500"};return(_,U)=>(be(),xe("header",{class:H(["border-b px-4 py-3 flex items-center justify-between",e.isDark?"bg-gray-800 border-gray-700":"bg-gray-100 border-gray-300"])},[S("div",ph,[S("h1",{class:H(["text-xl font-semibold",e.isDark?"text-white":"text-gray-900"])},"JustFloat ",2),S("span",{class:H(["text-xs",e.isDark?"text-gray-500":"text-gray-400"])},"Web Serial Protocol Analyzer",2)]),S("div",mh,[S("button",{class:H(["px-3 py-1.5 text-sm rounded",e.isDark?"bg-gray-700 hover:bg-gray-600 text-gray-300":"bg-white hover:bg-gray-200 text-gray-700"]),onClick:U[0]||(U[0]=L=>l("import"))},"  ",2),S("button",{class:H(["px-3 py-1.5 text-sm rounded",e.isDark?"bg-gray-700 hover:bg-gray-600 text-gray-300":"bg-white hover:bg-gray-200 text-gray-700"]),onClick:U[1]||(U[1]=L=>l("export"))},"  ",2),S("button",{class:H(["px-3 py-1.5 text-sm rounded",e.isDark?"bg-gray-700 hover:bg-gray-600 text-gray-300":"bg-white hover:bg-gray-200 text-gray-700"]),onClick:U[2]||(U[2]=L=>l("clear"))},"  ",2),S("button",{class:H(["p-1.5 rounded",e.isDark?"bg-gray-700 hover:bg-gray-600 text-gray-300":"bg-white hover:bg-gray-200 text-gray-700"]),onClick:U[3]||(U[3]=L=>l("toggleTheme")),title:""},[e.isDark?(be(),xe("svg",bh,[...U[10]||(U[10]=[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1)])])):(be(),xe("svg",vh,[...U[9]||(U[9]=[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1)])]))],2),S("div",{class:H(["w-px h-6 mx-2",e.isDark?"bg-gray-600":"bg-gray-400"])},null,2),S("select",{value:e.connectionType,class:H(["px-2 py-1.5 text-sm rounded border focus:outline-none focus:border-blue-500",e.isDark?"bg-gray-700 text-gray-300 border-gray-600":"bg-white text-gray-700 border-gray-300"]),disabled:e.status==="connected"||e.status==="connecting",onChange:v},[(be(!0),xe(Dt,null,ql(he(hh),L=>(be(),xe("option",{key:L.value,value:L.value},Se(L.label),9,xh))),128))],42,yh),e.connectionType==="serial"?(be(),xe("div",wh,[Yn(S("input",{"onUpdate:modelValue":U[4]||(U[4]=L=>a.value=L),type:"number",list:"baudRateList",min:"300",max:"4000000",placeholder:"115200",class:H(["px-2 py-1.5 text-sm rounded border focus:outline-none focus:border-blue-500 w-28",e.isDark?"bg-gray-700 text-gray-300 border-gray-600":"bg-white text-gray-700 border-gray-300"]),disabled:e.status==="connected"||e.status==="connecting",onBlur:g,onKeyup:Jn(g,["enter"])},null,42,Sh),[[qn,a.value,void 0,{number:!0}]]),S("datalist",Ch,[(be(!0),xe(Dt,null,ql(he(gh),L=>(be(),xe("option",{key:L,value:L},null,8,kh))),128))]),S("span",{class:H(["text-xs",e.isDark?"text-gray-500":"text-gray-400"])},"bps",2)])):st("",!0),e.connectionType==="websocket"?Yn((be(),xe("input",{key:1,"onUpdate:modelValue":U[5]||(U[5]=L=>s.value=L),type:"text",placeholder:"ws://localhost:8080",class:H(["px-2 py-1.5 text-sm rounded border focus:outline-none focus:border-blue-500 w-48",e.isDark?"bg-gray-700 text-gray-300 border-gray-600":"bg-white text-gray-700 border-gray-300"]),disabled:e.status==="connected"||e.status==="connecting",onBlur:c,onKeyup:Jn(c,["enter"])},null,42,Dh)),[[qn,s.value]]):st("",!0),e.connectionType==="bluetooth"?(be(),xe(Dt,{key:2},[Yn(S("input",{"onUpdate:modelValue":U[6]||(U[6]=L=>r.value=L),type:"text",placeholder:" UUID ( ffe0)",class:H(["px-2 py-1.5 text-sm rounded border focus:outline-none focus:border-blue-500 w-36",e.isDark?"bg-gray-700 text-gray-300 border-gray-600":"bg-white text-gray-700 border-gray-300"]),disabled:e.status==="connected"||e.status==="connecting",onBlur:f,onKeyup:Jn(f,["enter"])},null,42,Th),[[qn,r.value]]),Yn(S("input",{"onUpdate:modelValue":U[7]||(U[7]=L=>i.value=L),type:"text",placeholder:" UUID ( ffe1)",class:H(["px-2 py-1.5 text-sm rounded border focus:outline-none focus:border-blue-500 w-36",e.isDark?"bg-gray-700 text-gray-300 border-gray-600":"bg-white text-gray-700 border-gray-300"]),disabled:e.status==="connected"||e.status==="connecting",onBlur:d,onKeyup:Jn(d,["enter"])},null,42,Mh),[[qn,i.value]])],64)):st("",!0),S("div",{class:H(["w-px h-6 mx-2",e.isDark?"bg-gray-600":"bg-gray-400"])},null,2),S("div",Eh,[S("span",{class:H(["w-2 h-2 rounded-full",w[e.status]])},null,2),S("span",{class:H(["text-sm",e.isDark?"text-gray-400":"text-gray-600"])},Se(b[e.status]),3)]),e.isSupported?(be(),xe("button",{key:3,class:H(["px-4 py-1.5 text-sm rounded",e.status==="connected"?"bg-red-600 hover:bg-red-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white"]),disabled:e.status==="connecting",onClick:U[8]||(U[8]=L=>l("connect"))},Se(e.status==="connected"?"":e.status==="connecting"?"...":""),11,_h)):(be(),xe("span",{key:4,class:H(["text-sm",e.isDark?"text-red-400":"text-red-600"])},"  Web Serial API ",2))])],2))}});function Mt(e,t=6){return isFinite(e)?e.toFixed(t):"-"}function Ia(e){return e>=1e6?(e/1e6).toFixed(2)+"M":e>=1e3?(e/1e3).toFixed(2)+"K":e.toString()}function Ph(e){if(e<1)return(e*1e3).toFixed(0)+" s";if(e<1e3)return e.toFixed(1)+" ms";if(e<6e4)return e.toFixed(2)+" s";const t=Math.floor(e/6e4),n=e%6e4/1e3;return`${t}:${n.toFixed(0).padStart(2,"0")} min`}function Rh(e){return e>=1e6?(e/1e6).toFixed(2)+" MHz":e>=1e3?(e/1e3).toFixed(2)+" kHz":e.toFixed(0)+" Hz"}function Fh(e,t){const n=JSON.stringify(e,null,2),l=new Blob([n],{type:"application/json"}),s=URL.createObjectURL(l),r=document.createElement("a");r.href=s,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(s)}function Ih(e){return new Promise((t,n)=>{const l=new FileReader;l.onload=s=>{var r;try{const i=JSON.parse((r=s.target)==null?void 0:r.result);t(i)}catch{n(new Error(" JSON "))}},l.onerror=()=>n(new Error("")),l.readAsText(e)})}const Uh={class:"relative"},Lh={class:"grid grid-cols-4 gap-1.5"},Oh=["onClick"],Vh=["title"],zh={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Nh={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},$h={key:0,class:"px-3 pb-2"},Bh={class:"text-yellow-500 text-xs"},Hh={class:"text-yellow-600 font-mono tabular-nums text-base font-semibold"},jh={key:0,class:"text-sm ml-1"},Wh={class:"grid grid-cols-4 gap-1 text-xs"},Kh={class:"text-center"},Gh={class:"text-green-500 font-mono tabular-nums"},Yh={class:"text-center"},qh={class:"text-red-500 font-mono tabular-nums"},Jh={class:"text-center"},Zh={class:"text-blue-500 font-mono tabular-nums"},Qh={class:"text-center"},Xh={class:"text-purple-500 font-mono tabular-nums"},eg={class:"grid grid-cols-2 gap-2"},tg={class:"text-yellow-500 text-xs"},ng={class:"text-yellow-600 font-mono tabular-nums text-base font-semibold"},lg={key:0,class:"text-sm ml-1"},sg={class:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs"},rg={class:"flex justify-between"},ig={class:"text-green-500 font-mono tabular-nums"},og={class:"flex justify-between"},ag={class:"text-red-500 font-mono tabular-nums"},cg={class:"flex justify-between"},ug={class:"text-blue-500 font-mono tabular-nums"},fg={class:"flex justify-between"},dg={class:"text-purple-500 font-mono tabular-nums"},hg={class:"flex gap-2 pt-2"},gg=ts({__name:"ChannelItem",props:{channel:{},stats:{},cursorValue:{},cursorIndex:{},isDark:{type:Boolean}},emits:["update","toggleVisibility"],setup(e,{emit:t}){const n=e,l=t,s=Ce(!1),r=Ce(!1),i=Ce(n.channel.name),a=Ce(n.channel.unit),c=Ce(String(n.channel.coefficient)),f=Ce(!1),d=Ce(!1),g=Ce(!1);dt(()=>n.channel.name,M=>{f.value||(i.value=M)}),dt(()=>n.channel.unit,M=>{d.value||(a.value=M)}),dt(()=>n.channel.coefficient,M=>{g.value||(c.value=String(M))});const v=()=>{f.value=!1;const M=i.value||` ${n.channel.id+1}`;M!==n.channel.name&&l("update",{name:M})},b=()=>{d.value=!1,a.value!==n.channel.unit&&l("update",{unit:a.value})},w=()=>{g.value=!1;const M=parseFloat(c.value),A=!c.value||isNaN(M)||M===0?1:M;c.value=String(A),A!==n.channel.coefficient&&l("update",{coefficient:A})},_=ns(()=>n.stats?n.stats.max-n.stats.min:0),U=ml,L=M=>{l("update",{color:M}),r.value=!1};return(M,A)=>(be(),xe("div",{class:H(["rounded-lg border",e.channel.visible?e.isDark?"border-gray-600 bg-gray-700/50":"border-gray-300 bg-gray-50 shadow-sm":e.isDark?"border-gray-700 bg-gray-800/50 opacity-50":"border-gray-300 bg-gray-100 opacity-60"])},[S("div",{class:H(["flex items-center gap-2 px-3 py-2 cursor-pointer rounded-t-lg",e.isDark?"hover:bg-gray-700/50":"hover:bg-gray-200"]),onClick:A[3]||(A[3]=C=>s.value=!s.value)},[S("div",Uh,[S("button",{class:"w-3 h-3 rounded-full flex-shrink-0 ring-2 ring-transparent hover:ring-white/30",style:xl({backgroundColor:e.channel.color}),onClick:A[0]||(A[0]=ir(C=>r.value=!r.value,["stop"])),title:""},null,4),r.value?(be(),xe("div",{key:0,class:H(["absolute left-0 top-5 border rounded-lg p-2 z-20 shadow-xl",e.isDark?"bg-gray-800 border-gray-600":"bg-white border-gray-400 shadow-lg"]),onClick:A[1]||(A[1]=ir(()=>{},["stop"]))},[S("div",Lh,[(be(!0),xe(Dt,null,ql(he(U),C=>(be(),xe("button",{key:C,class:H(["w-5 h-5 rounded-full hover:scale-110",{"ring-2 ring-white":e.channel.color===C}]),style:xl({backgroundColor:C}),onClick:ie=>L(C)},null,14,Oh))),128))])],2)):st("",!0)]),S("span",{class:H(["flex-1 text-sm truncate",e.isDark?"text-white":"text-gray-900"])},[dn(Se(e.channel.name)+" ",1),e.channel.unit?(be(),xe("span",{key:0,class:H(["text-xs ml-1",e.isDark?"text-gray-400":"text-gray-600"])},"("+Se(e.channel.unit)+")",3)):st("",!0)],2),e.stats?(be(),xe("span",{key:0,class:H(["text-sm font-mono tabular-nums",e.isDark?"text-gray-200":"text-gray-800"])},[dn(Se(he(Mt)(e.stats.current,3))+" ",1),e.channel.unit?(be(),xe("span",{key:0,class:H(["text-xs",e.isDark?"text-gray-500":"text-gray-600"])},Se(e.channel.unit),3)):st("",!0)],2)):st("",!0),S("button",{class:H(["p-1 rounded",[e.channel.visible?"text-blue-400":"text-gray-500",e.isDark?"hover:bg-gray-600":"hover:bg-gray-300"]]),onClick:A[2]||(A[2]=ir(C=>l("toggleVisibility"),["stop"])),title:e.channel.visible?"":""},[e.channel.visible?(be(),xe("svg",zh,[...A[15]||(A[15]=[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])])):(be(),xe("svg",Nh,[...A[16]||(A[16]=[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},null,-1)])]))],10,Vh),(be(),xe("svg",{class:H(["w-4 h-4",(e.isDark,"text-gray-500"),{"rotate-180":s.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...A[17]||(A[17]=[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))],2),e.stats&&!s.value?(be(),xe("div",$h,[e.cursorValue!=null?(be(),xe("div",{key:0,class:H(["mb-2 flex items-center justify-between rounded px-2 py-1.5",e.isDark?"bg-gray-800/50":"bg-yellow-50 border border-yellow-200"])},[S("span",Bh,[A[18]||(A[18]=S("svg",{class:"w-3 h-3 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 15l-2 5L9 9l11 4-5 2z"})],-1)),dn("  ["+Se(e.cursorIndex)+"] ",1)]),S("span",Hh,[dn(Se(he(Mt)(e.cursorValue))+" ",1),e.channel.unit?(be(),xe("span",jh,Se(e.channel.unit),1)):st("",!0)])],2)):st("",!0),S("div",Wh,[S("div",Kh,[S("div",{class:H(e.isDark?"text-gray-500":"text-gray-600")},"",2),S("div",Gh,Se(he(Mt)(e.stats.min,3)),1)]),S("div",Yh,[S("div",{class:H(e.isDark?"text-gray-500":"text-gray-600")},"",2),S("div",qh,Se(he(Mt)(e.stats.max,3)),1)]),S("div",Jh,[S("div",{class:H(e.isDark?"text-gray-500":"text-gray-600")},"",2),S("div",Zh,Se(he(Mt)(e.stats.avg,3)),1)]),S("div",Qh,[S("div",{class:H(e.isDark?"text-gray-500":"text-gray-600")},"",2),S("div",Xh,Se(he(Mt)(_.value,3)),1)])])])):st("",!0),s.value?(be(),xe("div",{key:1,class:H(["px-3 pb-3 pt-1 space-y-3 border-t",e.isDark?"border-gray-700":"border-gray-300"])},[S("div",null,[S("label",{class:H(["block text-xs mb-1",e.isDark?"text-gray-500":"text-gray-600"])},"",2),Yn(S("input",{type:"text","onUpdate:modelValue":A[4]||(A[4]=C=>i.value=C),class:H(["w-full rounded px-2 py-1.5 text-sm focus:outline-none focus:border-blue-500",e.isDark?"bg-gray-700 border border-gray-600 text-white":"bg-white border border-gray-400 text-gray-900"]),placeholder:"",onFocus:A[5]||(A[5]=C=>f.value=!0),onBlur:v,onKeyup:A[6]||(A[6]=Jn(C=>C.target.blur(),["enter"]))},null,34),[[qn,i.value]])]),S("div",eg,[S("div",null,[S("label",{class:H(["block text-xs mb-1",e.isDark?"text-gray-500":"text-gray-600"])},"",2),Yn(S("input",{type:"text","onUpdate:modelValue":A[7]||(A[7]=C=>a.value=C),placeholder:"V, A, C...",class:H(["w-full rounded px-2 py-1.5 text-sm focus:outline-none focus:border-blue-500",e.isDark?"bg-gray-700 border border-gray-600 text-white":"bg-white border border-gray-400 text-gray-900"]),onFocus:A[8]||(A[8]=C=>d.value=!0),onBlur:b,onKeyup:A[9]||(A[9]=Jn(C=>C.target.blur(),["enter"]))},null,34),[[qn,a.value]])]),S("div",null,[S("label",{class:H(["block text-xs mb-1",e.isDark?"text-gray-500":"text-gray-600"])},"",2),Yn(S("input",{type:"text","onUpdate:modelValue":A[10]||(A[10]=C=>c.value=C),placeholder:"1.0",class:H(["w-full rounded px-2 py-1.5 text-sm focus:outline-none focus:border-blue-500",e.isDark?"bg-gray-700 border border-gray-600 text-white":"bg-white border border-gray-400 text-gray-900"]),onFocus:A[11]||(A[11]=C=>g.value=!0),onBlur:w,onKeyup:A[12]||(A[12]=Jn(C=>C.target.blur(),["enter"]))},null,34),[[qn,c.value]])])]),e.stats?(be(),xe("div",{key:0,class:H(["pt-2 border-t",e.isDark?"border-gray-700":"border-gray-300"])},[S("div",{class:H(["text-xs mb-2",e.isDark?"text-gray-500":"text-gray-600"])},"",2),e.cursorValue!=null?(be(),xe("div",{key:0,class:H(["mb-2 flex items-center justify-between rounded px-2 py-1.5 border",e.isDark?"bg-yellow-900/30 border-yellow-700/30":"bg-yellow-50 border-yellow-300"])},[S("span",tg,[A[19]||(A[19]=S("svg",{class:"w-3 h-3 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 15l-2 5L9 9l11 4-5 2z"})],-1)),dn("  ["+Se(e.cursorIndex)+"]: ",1)]),S("span",ng,[dn(Se(he(Mt)(e.cursorValue))+" ",1),e.channel.unit?(be(),xe("span",lg,Se(e.channel.unit),1)):st("",!0)])],2)):st("",!0),S("div",sg,[S("div",rg,[S("span",{class:H(e.isDark?"text-gray-500":"text-gray-600")},":",2),S("span",ig,Se(he(Mt)(e.stats.min)),1)]),S("div",og,[S("span",{class:H(e.isDark?"text-gray-500":"text-gray-600")},":",2),S("span",ag,Se(he(Mt)(e.stats.max)),1)]),S("div",cg,[S("span",{class:H(e.isDark?"text-gray-500":"text-gray-600")},":",2),S("span",ug,Se(he(Mt)(e.stats.avg)),1)]),S("div",fg,[S("span",{class:H(e.isDark?"text-gray-500":"text-gray-600")},":",2),S("span",{class:H(["font-mono tabular-nums",e.isDark?"text-white":"text-gray-900"])},Se(he(Mt)(e.stats.current)),3)]),S("div",{class:H(["flex justify-between col-span-2 pt-1 border-t mt-1",e.isDark?"border-gray-700":"border-gray-300"])},[S("span",{class:H(e.isDark?"text-gray-500":"text-gray-600")},":",2),S("span",dg,Se(he(Mt)(_.value)),1)],2)])],2)):st("",!0),S("div",hg,[S("button",{class:H(["flex-1 px-2 py-1 text-xs rounded text-white",e.channel.visible?e.isDark?"bg-gray-600 hover:bg-gray-500":"bg-gray-500 hover:bg-gray-600":"bg-blue-600 hover:bg-blue-500"]),onClick:A[13]||(A[13]=C=>l("toggleVisibility"))},Se(e.channel.visible?"":""),3),S("button",{class:H(["px-2 py-1 text-xs text-white rounded",e.isDark?"bg-gray-600 hover:bg-gray-500":"bg-gray-500 hover:bg-gray-600"]),onClick:A[14]||(A[14]=C=>l("update",{name:` ${e.channel.id+1}`,unit:"",coefficient:1})),title:""},"  ",2)])],2)):st("",!0)],2))}}),pg={class:"mb-3"},mg=["value"],vg=["value"],bg=["min","max"],yg={class:"flex-1 overflow-y-auto p-4"},xg={key:1,class:"space-y-2"},wg=ts({__name:"SidePanel",props:{bufferSize:{},protocol:{},channels:{},channelCount:{},cursorValues:{},cursorIndex:{},getChannelStats:{type:Function},isDark:{type:Boolean}},emits:["update:bufferSize","update:protocol","updateChannel","toggleVisibility"],setup(e,{emit:t}){const n=e,l=t,s=Ce(n.bufferSize),r=Ce(!1);dt(()=>n.bufferSize,f=>{r.value||(s.value=f)});const i=()=>{r.value=!1;const f=Math.max(_s,Math.min(As,s.value));s.value=f,l("update:bufferSize",f)},a=ns(()=>n.channels.slice(0,n.channelCount)),c=f=>!n.cursorValues||f>=n.cursorValues.length?null:n.cursorValues[f];return(f,d)=>{var g;return be(),xe("aside",{class:H(["w-72 flex-shrink-0 border-r flex flex-col overflow-hidden",e.isDark?"bg-gray-800 border-gray-700":"bg-white border-gray-300"])},[S("div",{class:H(["p-4 border-b",e.isDark?"border-gray-700":"border-gray-300"])},[S("h2",{class:H(["text-sm font-semibold mb-3",e.isDark?"text-gray-400":"text-gray-700"])},"",2),S("div",pg,[S("label",{class:H(["block text-xs mb-1",e.isDark?"text-gray-500":"text-gray-600"])},"",2),S("select",{value:e.protocol,class:H(["w-full rounded px-3 py-1.5 text-sm focus:outline-none focus:border-blue-500",e.isDark?"bg-gray-700 border border-gray-600 text-white":"bg-white border border-gray-400 text-gray-900"]),onChange:d[0]||(d[0]=v=>l("update:protocol",v.target.value))},[(be(!0),xe(Dt,null,ql(he(Fa),v=>(be(),xe("option",{key:v.value,value:v.value},Se(v.label),9,vg))),128))],42,mg),S("div",{class:H(["text-xs mt-1",e.isDark?"text-gray-600":"text-gray-500"])},Se((g=he(Fa).find(v=>v.value===e.protocol))==null?void 0:g.description),3)]),S("div",null,[S("label",{class:H(["block text-xs mb-1",e.isDark?"text-gray-500":"text-gray-600"])},"  ("+Se(he(_s).toLocaleString())+" - "+Se(he(As).toLocaleString())+") ",3),Yn(S("input",{type:"number","onUpdate:modelValue":d[1]||(d[1]=v=>s.value=v),min:he(_s),max:he(As),step:"1000",class:H(["w-full rounded px-3 py-1.5 text-sm focus:outline-none focus:border-blue-500",e.isDark?"bg-gray-700 border border-gray-600 text-white":"bg-white border border-gray-400 text-gray-900"]),onFocus:d[2]||(d[2]=v=>r.value=!0),onBlur:i,onKeydown:d[3]||(d[3]=Jn(v=>v.target.blur(),["enter"]))},null,42,bg),[[qn,s.value,void 0,{number:!0}]])])],2),S("div",yg,[S("h2",{class:H(["text-sm font-semibold mb-3",e.isDark?"text-gray-400":"text-gray-700"])},"  ("+Se(e.channelCount)+") ",3),e.channelCount===0?(be(),xe("div",{key:0,class:H(["text-sm text-center py-4",(e.isDark,"text-gray-500")])}," ... ",2)):(be(),xe("div",xg,[(be(!0),xe(Dt,null,ql(a.value,v=>(be(),wu(gg,{key:v.id,channel:v,stats:e.getChannelStats(v.id),"cursor-value":c(v.id),"cursor-index":e.cursorIndex,"is-dark":e.isDark,onUpdate:b=>l("updateChannel",v.id,b),onToggleVisibility:b=>l("toggleVisibility",v.id)},null,8,["channel","stats","cursor-value","cursor-index","is-dark","onUpdate","onToggleVisibility"]))),128))]))])],2)}}}),Sg=!0,ht="u-",Cg="uplot",kg=ht+"hz",Dg=ht+"vt",Tg=ht+"title",Mg=ht+"wrap",Eg=ht+"under",_g=ht+"over",Ag=ht+"axis",pl=ht+"off",Pg=ht+"select",Rg=ht+"cursor-x",Fg=ht+"cursor-y",Ig=ht+"cursor-pt",Ug=ht+"legend",Lg=ht+"live",Og=ht+"inline",Vg=ht+"series",zg=ht+"marker",Ua=ht+"label",Ng=ht+"value",ys="width",xs="height",ps="top",La="bottom",zl="left",vi="right",fo="#000",Oa=fo+"0",bi="mousemove",Va="mousedown",yi="mouseup",za="mouseenter",Na="mouseleave",$a="dblclick",$g="resize",Bg="scroll",Ba="change",pr="dppxchange",ho="--",ls=typeof window<"u",Li=ls?document:null,Gl=ls?window:null,Hg=ls?navigator:null;let Le,Xs;function Oi(){let e=devicePixelRatio;Le!=e&&(Le=e,Xs&&zi(Ba,Xs,Oi),Xs=matchMedia(`(min-resolution: ${Le-.001}dppx) and (max-resolution: ${Le+.001}dppx)`),yl(Ba,Xs,Oi),Gl.dispatchEvent(new CustomEvent(pr)))}function Kt(e,t){if(t!=null){let n=e.classList;!n.contains(t)&&n.add(t)}}function Vi(e,t){let n=e.classList;n.contains(t)&&n.remove(t)}function Ze(e,t,n){e.style[t]=n+"px"}function un(e,t,n,l){let s=Li.createElement(e);return t!=null&&Kt(s,t),n!=null&&n.insertBefore(s,l),s}function tn(e,t){return un("div",e,t)}const Ha=new WeakMap;function Sn(e,t,n,l,s){let r="translate("+t+"px,"+n+"px)",i=Ha.get(e);r!=i&&(e.style.transform=r,Ha.set(e,r),t<0||n<0||t>l||n>s?Kt(e,pl):Vi(e,pl))}const ja=new WeakMap;function Wa(e,t,n){let l=t+n,s=ja.get(e);l!=s&&(ja.set(e,l),e.style.background=t,e.style.borderColor=n)}const Ka=new WeakMap;function Ga(e,t,n,l){let s=t+""+n,r=Ka.get(e);s!=r&&(Ka.set(e,s),e.style.height=n+"px",e.style.width=t+"px",e.style.marginLeft=l?-t/2+"px":0,e.style.marginTop=l?-n/2+"px":0)}const go={passive:!0},jg={...go,capture:!0};function yl(e,t,n,l){t.addEventListener(e,n,l?jg:go)}function zi(e,t,n,l){t.removeEventListener(e,n,go)}ls&&Oi();function fn(e,t,n,l){let s;n=n||0,l=l||t.length-1;let r=l<=2147483647;for(;l-n>1;)s=r?n+l>>1:qt((n+l)/2),t[s]<e?n=s:l=s;return e-t[n]<=t[l]-e?n:l}function Mu(e){return(n,l,s)=>{let r=-1,i=-1;for(let a=l;a<=s;a++)if(e(n[a])){r=a;break}for(let a=s;a>=l;a--)if(e(n[a])){i=a;break}return[r,i]}}const Eu=e=>e!=null,_u=e=>e!=null&&e>0,_r=Mu(Eu),Wg=Mu(_u);function Kg(e,t,n,l=0,s=!1){let r=s?Wg:_r,i=s?_u:Eu;[t,n]=r(e,t,n);let a=e[t],c=e[t];if(t>-1)if(l==1)a=e[t],c=e[n];else if(l==-1)a=e[n],c=e[t];else for(let f=t;f<=n;f++){let d=e[f];i(d)&&(d<a?a=d:d>c&&(c=d))}return[a??He,c??-He]}function Ar(e,t,n,l){let s=Ja(e),r=Ja(t);e==t&&(s==-1?(e*=n,t/=n):(e/=n,t*=n));let i=n==10?Fn:Au,a=s==1?qt:nn,c=r==1?nn:qt,f=a(i(ft(e))),d=c(i(ft(t))),g=Zl(n,f),v=Zl(n,d);return n==10&&(f<0&&(g=je(g,-f)),d<0&&(v=je(v,-d))),l||n==2?(e=g*s,t=v*r):(e=Iu(e,g),t=Pr(t,v)),[e,t]}function po(e,t,n,l){let s=Ar(e,t,n,l);return e==0&&(s[0]=0),t==0&&(s[1]=0),s}const mo=.1,Ya={mode:3,pad:mo},Ps={pad:0,soft:null,mode:0},Gg={min:Ps,max:Ps};function mr(e,t,n,l){return Rr(n)?qa(e,t,n):(Ps.pad=n,Ps.soft=l?0:null,Ps.mode=l?3:0,qa(e,t,Gg))}function Ie(e,t){return e??t}function Yg(e,t,n){for(t=Ie(t,0),n=Ie(n,e.length-1);t<=n;){if(e[t]!=null)return!0;t++}return!1}function qa(e,t,n){let l=n.min,s=n.max,r=Ie(l.pad,0),i=Ie(s.pad,0),a=Ie(l.hard,-He),c=Ie(s.hard,He),f=Ie(l.soft,He),d=Ie(s.soft,-He),g=Ie(l.mode,0),v=Ie(s.mode,0),b=t-e,w=Fn(b),_=Vt(ft(e),ft(t)),U=Fn(_),L=ft(U-w);(b<1e-24||L>10)&&(b=0,(e==0||t==0)&&(b=1e-24,g==2&&f!=He&&(r=0),v==2&&d!=-He&&(i=0)));let M=b||_||1e3,A=Fn(M),C=Zl(10,qt(A)),ie=M*(b==0?e==0?.1:1:r),te=je(Iu(e-ie,C/10),24),pe=e>=f&&(g==1||g==3&&te<=f||g==2&&te>=f)?f:He,fe=Vt(a,te<pe&&e>=pe?pe:hn(pe,te)),ve=M*(b==0?t==0?.1:1:i),j=je(Pr(t+ve,C/10),24),F=t<=d&&(v==1||v==3&&j>=d||v==2&&j<=d)?d:-He,Q=hn(c,j>F&&t<=F?F:Vt(F,j));return fe==Q&&fe==0&&(Q=100),[fe,Q]}const qg=new Intl.NumberFormat(ls?Hg.language:"en-US"),vo=e=>qg.format(e),Jt=Math,or=Jt.PI,ft=Jt.abs,qt=Jt.floor,ut=Jt.round,nn=Jt.ceil,hn=Jt.min,Vt=Jt.max,Zl=Jt.pow,Ja=Jt.sign,Fn=Jt.log10,Au=Jt.log2,Jg=(e,t=1)=>Jt.sinh(e)*t,xi=(e,t=1)=>Jt.asinh(e/t),He=1/0;function Za(e){return(Fn((e^e>>31)-(e>>31))|0)+1}function Ni(e,t,n){return hn(Vt(e,t),n)}function Pu(e){return typeof e=="function"}function Re(e){return Pu(e)?e:()=>e}const Zg=()=>{},Ru=e=>e,Fu=(e,t)=>t,Qg=e=>null,Qa=e=>!0,Xa=(e,t)=>e==t,Xg=/\.\d*?(?=9{6,}|0{6,})/gm,wl=e=>{if(Lu(e)||el.has(e))return e;const t=`${e}`,n=t.match(Xg);if(n==null)return e;let l=n[0].length-1;if(t.indexOf("e-")!=-1){let[s,r]=t.split("e");return+`${wl(s)}e${r}`}return je(e,l)};function hl(e,t){return wl(je(wl(e/t))*t)}function Pr(e,t){return wl(nn(wl(e/t))*t)}function Iu(e,t){return wl(qt(wl(e/t))*t)}function je(e,t=0){if(Lu(e))return e;let n=10**t,l=e*n*(1+Number.EPSILON);return ut(l)/n}const el=new Map;function Uu(e){return((""+e).split(".")[1]||"").length}function Vs(e,t,n,l){let s=[],r=l.map(Uu);for(let i=t;i<n;i++){let a=ft(i),c=je(Zl(e,i),a);for(let f=0;f<l.length;f++){let d=e==10?+`${l[f]}e${i}`:l[f]*c,g=(i>=0?0:a)+(i>=r[f]?0:r[f]),v=e==10?d:je(d,g);s.push(v),el.set(v,g)}}return s}const Rs={},bo=[],Ql=[null,null],Gn=Array.isArray,Lu=Number.isInteger,ep=e=>e===void 0;function ec(e){return typeof e=="string"}function Rr(e){let t=!1;if(e!=null){let n=e.constructor;t=n==null||n==Object}return t}function tp(e){return e!=null&&typeof e=="object"}const np=Object.getPrototypeOf(Uint8Array),Ou="__proto__";function Xl(e,t=Rr){let n;if(Gn(e)){let l=e.find(s=>s!=null);if(Gn(l)||t(l)){n=Array(e.length);for(let s=0;s<e.length;s++)n[s]=Xl(e[s],t)}else n=e.slice()}else if(e instanceof np)n=e.slice();else if(t(e)){n={};for(let l in e)l!=Ou&&(n[l]=Xl(e[l],t))}else n=e;return n}function ot(e){let t=arguments;for(let n=1;n<t.length;n++){let l=t[n];for(let s in l)s!=Ou&&(Rr(e[s])?ot(e[s],Xl(l[s])):e[s]=Xl(l[s]))}return e}const lp=0,sp=1,rp=2;function ip(e,t,n){for(let l=0,s,r=-1;l<t.length;l++){let i=t[l];if(i>r){for(s=i-1;s>=0&&e[s]==null;)e[s--]=null;for(s=i+1;s<n&&e[s]==null;)e[r=s++]=null}}}function op(e,t){if(up(e)){let i=e[0].slice();for(let a=1;a<e.length;a++)i.push(...e[a].slice(1));return fp(i[0])||(i=cp(i)),i}let n=new Set;for(let i=0;i<e.length;i++){let c=e[i][0],f=c.length;for(let d=0;d<f;d++)n.add(c[d])}let l=[Array.from(n).sort((i,a)=>i-a)],s=l[0].length,r=new Map;for(let i=0;i<s;i++)r.set(l[0][i],i);for(let i=0;i<e.length;i++){let a=e[i],c=a[0];for(let f=1;f<a.length;f++){let d=a[f],g=Array(s).fill(void 0),v=t?t[i][f]:sp,b=[];for(let w=0;w<d.length;w++){let _=d[w],U=r.get(c[w]);_===null?v!=lp&&(g[U]=_,v==rp&&b.push(U)):g[U]=_}ip(g,b,s),l.push(g)}}return l}const ap=typeof queueMicrotask>"u"?e=>Promise.resolve().then(e):queueMicrotask;function cp(e){let t=e[0],n=t.length,l=Array(n);for(let r=0;r<l.length;r++)l[r]=r;l.sort((r,i)=>t[r]-t[i]);let s=[];for(let r=0;r<e.length;r++){let i=e[r],a=Array(n);for(let c=0;c<n;c++)a[c]=i[l[c]];s.push(a)}return s}function up(e){let t=e[0][0],n=t.length;for(let l=1;l<e.length;l++){let s=e[l][0];if(s.length!=n)return!1;if(s!=t){for(let r=0;r<n;r++)if(s[r]!=t[r])return!1}}return!0}function fp(e,t=100){const n=e.length;if(n<=1)return!0;let l=0,s=n-1;for(;l<=s&&e[l]==null;)l++;for(;s>=l&&e[s]==null;)s--;if(s<=l)return!0;const r=Vt(1,qt((s-l+1)/t));for(let i=e[l],a=l+r;a<=s;a+=r){const c=e[a];if(c!=null){if(c<=i)return!1;i=c}}return!0}const Vu=["January","February","March","April","May","June","July","August","September","October","November","December"],zu=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function Nu(e){return e.slice(0,3)}const dp=zu.map(Nu),hp=Vu.map(Nu),gp={MMMM:Vu,MMM:hp,WWWW:zu,WWW:dp};function ms(e){return(e<10?"0":"")+e}function pp(e){return(e<10?"00":e<100?"0":"")+e}const mp={YYYY:e=>e.getFullYear(),YY:e=>(e.getFullYear()+"").slice(2),MMMM:(e,t)=>t.MMMM[e.getMonth()],MMM:(e,t)=>t.MMM[e.getMonth()],MM:e=>ms(e.getMonth()+1),M:e=>e.getMonth()+1,DD:e=>ms(e.getDate()),D:e=>e.getDate(),WWWW:(e,t)=>t.WWWW[e.getDay()],WWW:(e,t)=>t.WWW[e.getDay()],HH:e=>ms(e.getHours()),H:e=>e.getHours(),h:e=>{let t=e.getHours();return t==0?12:t>12?t-12:t},AA:e=>e.getHours()>=12?"PM":"AM",aa:e=>e.getHours()>=12?"pm":"am",a:e=>e.getHours()>=12?"p":"a",mm:e=>ms(e.getMinutes()),m:e=>e.getMinutes(),ss:e=>ms(e.getSeconds()),s:e=>e.getSeconds(),fff:e=>pp(e.getMilliseconds())};function yo(e,t){t=t||gp;let n=[],l=/\{([a-z]+)\}|[^{]+/gi,s;for(;s=l.exec(e);)n.push(s[0][0]=="{"?mp[s[1]]:s[0]);return r=>{let i="";for(let a=0;a<n.length;a++)i+=typeof n[a]=="string"?n[a]:n[a](r,t);return i}}const vp=new Intl.DateTimeFormat().resolvedOptions().timeZone;function bp(e,t){let n;return t=="UTC"||t=="Etc/UTC"?n=new Date(+e+e.getTimezoneOffset()*6e4):t==vp?n=e:(n=new Date(e.toLocaleString("en-US",{timeZone:t})),n.setMilliseconds(e.getMilliseconds())),n}const $u=e=>e%1==0,vr=[1,2,2.5,5],yp=Vs(10,-32,0,vr),Bu=Vs(10,0,32,vr),xp=Bu.filter($u),gl=yp.concat(Bu),xo=`
`,Hu="{YYYY}",tc=xo+Hu,ju="{M}/{D}",ws=xo+ju,er=ws+"/{YY}",Wu="{aa}",wp="{h}:{mm}",Bl=wp+Wu,nc=xo+Bl,lc=":{ss}",Oe=null;function Ku(e){let t=e*1e3,n=t*60,l=n*60,s=l*24,r=s*30,i=s*365,c=(e==1?Vs(10,0,3,vr).filter($u):Vs(10,-3,0,vr)).concat([t,t*5,t*10,t*15,t*30,n,n*5,n*10,n*15,n*30,l,l*2,l*3,l*4,l*6,l*8,l*12,s,s*2,s*3,s*4,s*5,s*6,s*7,s*8,s*9,s*10,s*15,r,r*2,r*3,r*4,r*6,i,i*2,i*5,i*10,i*25,i*50,i*100]);const f=[[i,Hu,Oe,Oe,Oe,Oe,Oe,Oe,1],[s*28,"{MMM}",tc,Oe,Oe,Oe,Oe,Oe,1],[s,ju,tc,Oe,Oe,Oe,Oe,Oe,1],[l,"{h}"+Wu,er,Oe,ws,Oe,Oe,Oe,1],[n,Bl,er,Oe,ws,Oe,Oe,Oe,1],[t,lc,er+" "+Bl,Oe,ws+" "+Bl,Oe,nc,Oe,1],[e,lc+".{fff}",er+" "+Bl,Oe,ws+" "+Bl,Oe,nc,Oe,1]];function d(g){return(v,b,w,_,U,L)=>{let M=[],A=U>=i,C=U>=r&&U<i,ie=g(w),te=je(ie*e,3),pe=wi(ie.getFullYear(),A?0:ie.getMonth(),C||A?1:ie.getDate()),fe=je(pe*e,3);if(C||A){let ve=C?U/r:0,j=A?U/i:0,F=te==fe?te:je(wi(pe.getFullYear()+j,pe.getMonth()+ve,1)*e,3),Q=new Date(ut(F/e)),I=Q.getFullYear(),P=Q.getMonth();for(let E=0;F<=_;E++){let k=wi(I+j*E,P+ve*E,1),T=k-g(je(k*e,3));F=je((+k+T)*e,3),F<=_&&M.push(F)}}else{let ve=U>=s?s:U,j=qt(w)-qt(te),F=fe+j+Pr(te-fe,ve);M.push(F);let Q=g(F),I=Q.getHours()+Q.getMinutes()/n+Q.getSeconds()/l,P=U/l,E=v.axes[b]._space,k=L/E;for(;F=je(F+U,e==1?0:3),!(F>_);)if(P>1){let T=qt(je(I+P,6))%24,le=g(F).getHours()-T;le>1&&(le=-1),F-=le*l,I=(I+P)%24;let X=M[M.length-1];je((F-X)/U,3)*k>=.7&&M.push(F)}else M.push(F)}return M}}return[c,f,d]}const[Sp,Cp,kp]=Ku(1),[Dp,Tp,Mp]=Ku(.001);Vs(2,-53,53,[1]);function sc(e,t){return e.map(n=>n.map((l,s)=>s==0||s==8||l==null?l:t(s==1||n[8]==0?l:n[1]+l)))}function rc(e,t){return(n,l,s,r,i)=>{let a=t.find(w=>i>=w[0])||t[t.length-1],c,f,d,g,v,b;return l.map(w=>{let _=e(w),U=_.getFullYear(),L=_.getMonth(),M=_.getDate(),A=_.getHours(),C=_.getMinutes(),ie=_.getSeconds(),te=U!=c&&a[2]||L!=f&&a[3]||M!=d&&a[4]||A!=g&&a[5]||C!=v&&a[6]||ie!=b&&a[7]||a[1];return c=U,f=L,d=M,g=A,v=C,b=ie,te(_)})}}function Ep(e,t){let n=yo(t);return(l,s,r,i,a)=>s.map(c=>n(e(c)))}function wi(e,t,n){return new Date(e,t,n)}function ic(e,t){return t(e)}const _p="{YYYY}-{MM}-{DD} {h}:{mm}{aa}";function oc(e,t){return(n,l,s,r)=>r==null?ho:t(e(l))}function Ap(e,t){let n=e.series[t];return n.width?n.stroke(e,t):n.points.width?n.points.stroke(e,t):null}function Pp(e,t){return e.series[t].fill(e,t)}const Rp={show:!0,live:!0,isolate:!1,mount:Zg,markers:{show:!0,width:2,stroke:Ap,fill:Pp,dash:"solid"},idx:null,idxs:null,values:[]};function Fp(e,t){let n=e.cursor.points,l=tn(),s=n.size(e,t);Ze(l,ys,s),Ze(l,xs,s);let r=s/-2;Ze(l,"marginLeft",r),Ze(l,"marginTop",r);let i=n.width(e,t,s);return i&&Ze(l,"borderWidth",i),l}function Ip(e,t){let n=e.series[t].points;return n._fill||n._stroke}function Up(e,t){let n=e.series[t].points;return n._stroke||n._fill}function Lp(e,t){return e.series[t].points.size}const Si=[0,0];function Op(e,t,n){return Si[0]=t,Si[1]=n,Si}function tr(e,t,n,l=!0){return s=>{s.button==0&&(!l||s.target==t)&&n(s)}}function Ci(e,t,n,l=!0){return s=>{(!l||s.target==t)&&n(s)}}const Vp={show:!0,x:!0,y:!0,lock:!1,move:Op,points:{one:!1,show:Fp,size:Lp,width:0,stroke:Up,fill:Ip},bind:{mousedown:tr,mouseup:tr,click:tr,dblclick:tr,mousemove:Ci,mouseleave:Ci,mouseenter:Ci},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,click:(e,t)=>{t.stopPropagation(),t.stopImmediatePropagation()},_x:!1,_y:!1},focus:{dist:(e,t,n,l,s)=>l-s,prox:-1,bias:0},hover:{skip:[void 0],prox:null,bias:0},left:-10,top:-10,idx:null,dataIdx:null,idxs:null,event:null},Gu={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},wo=ot({},Gu,{filter:Fu}),Yu=ot({},wo,{size:10}),qu=ot({},Gu,{show:!1}),So='12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',Ju="bold "+So,Zu=1.5,ac={show:!0,scale:"x",stroke:fo,space:50,gap:5,alignTo:1,size:50,labelGap:0,labelSize:30,labelFont:Ju,side:2,grid:wo,ticks:Yu,border:qu,font:So,lineGap:Zu,rotate:0},zp="Value",Np="Time",cc={show:!0,scale:"x",auto:!1,sorted:1,min:He,max:-He,idxs:[]};function $p(e,t,n,l,s){return t.map(r=>r==null?"":vo(r))}function Bp(e,t,n,l,s,r,i){let a=[],c=el.get(s)||0;n=i?n:je(Pr(n,s),c);for(let f=n;f<=l;f=je(f+s,c))a.push(Object.is(f,-0)?0:f);return a}function $i(e,t,n,l,s,r,i){const a=[],c=e.scales[e.axes[t].scale].log,f=c==10?Fn:Au,d=qt(f(n));s=Zl(c,d),c==10&&(s=gl[fn(s,gl)]);let g=n,v=s*c;c==10&&(v=gl[fn(v,gl)]);do a.push(g),g=g+s,c==10&&!el.has(g)&&(g=je(g,el.get(s))),g>=v&&(s=g,v=s*c,c==10&&(v=gl[fn(v,gl)]));while(g<=l);return a}function Hp(e,t,n,l,s,r,i){let c=e.scales[e.axes[t].scale].asinh,f=l>c?$i(e,t,Vt(c,n),l,s):[c],d=l>=0&&n<=0?[0]:[];return(n<-c?$i(e,t,Vt(c,-l),-n,s):[c]).reverse().map(v=>-v).concat(d,f)}const Qu=/./,jp=/[12357]/,Wp=/[125]/,uc=/1/,Bi=(e,t,n,l)=>e.map((s,r)=>t==4&&s==0||r%l==0&&n.test(s.toExponential()[s<0?1:0])?s:null);function Kp(e,t,n,l,s){let r=e.axes[n],i=r.scale,a=e.scales[i],c=e.valToPos,f=r._space,d=c(10,i),g=c(9,i)-d>=f?Qu:c(7,i)-d>=f?jp:c(5,i)-d>=f?Wp:uc;if(g==uc){let v=ft(c(1,i)-d);if(v<f)return Bi(t.slice().reverse(),a.distr,g,nn(f/v)).reverse()}return Bi(t,a.distr,g,1)}function Gp(e,t,n,l,s){let r=e.axes[n],i=r.scale,a=r._space,c=e.valToPos,f=ft(c(1,i)-c(2,i));return f<a?Bi(t.slice().reverse(),3,Qu,nn(a/f)).reverse():t}function Yp(e,t,n,l){return l==null?ho:t==null?"":vo(t)}const fc={show:!0,scale:"y",stroke:fo,space:30,gap:5,alignTo:1,size:50,labelGap:0,labelSize:30,labelFont:Ju,side:3,grid:wo,ticks:Yu,border:qu,font:So,lineGap:Zu,rotate:0};function qp(e,t){let n=3+(e||1)*2;return je(n*t,3)}function Jp(e,t){let{scale:n,idxs:l}=e.series[0],s=e._data[0],r=e.valToPos(s[l[0]],n,!0),i=e.valToPos(s[l[1]],n,!0),a=ft(i-r),c=e.series[t],f=a/(c.points.space*Le);return l[1]-l[0]<=f}const dc={scale:null,auto:!0,sorted:0,min:He,max:-He},Xu=(e,t,n,l,s)=>s,hc={show:!0,auto:!0,sorted:0,gaps:Xu,alpha:1,facets:[ot({},dc,{scale:"x"}),ot({},dc,{scale:"y"})]},gc={scale:"y",auto:!0,sorted:0,show:!0,spanGaps:!1,gaps:Xu,alpha:1,points:{show:Jp,filter:null},values:null,min:He,max:-He,idxs:[],path:null,clip:null};function Zp(e,t,n,l,s){return n/10}const ef={time:Sg,auto:!0,distr:1,log:10,asinh:1,min:null,max:null,dir:1,ori:0},Qp=ot({},ef,{time:!1,ori:1}),pc={};function tf(e,t){let n=pc[e];return n||(n={key:e,plots:[],sub(l){n.plots.push(l)},unsub(l){n.plots=n.plots.filter(s=>s!=l)},pub(l,s,r,i,a,c,f){for(let d=0;d<n.plots.length;d++)n.plots[d]!=s&&n.plots[d].pub(l,s,r,i,a,c,f)}},e!=null&&(pc[e]=n)),n}const es=1,Hi=2;function Sl(e,t,n){const l=e.mode,s=e.series[t],r=l==2?e._data[t]:e._data,i=e.scales,a=e.bbox;let c=r[0],f=l==2?r[1]:r[t],d=l==2?i[s.facets[0].scale]:i[e.series[0].scale],g=l==2?i[s.facets[1].scale]:i[s.scale],v=a.left,b=a.top,w=a.width,_=a.height,U=e.valToPosH,L=e.valToPosV;return d.ori==0?n(s,c,f,d,g,U,L,v,b,w,_,Ir,ss,Lr,lf,rf):n(s,c,f,d,g,L,U,b,v,_,w,Ur,rs,Do,sf,of)}function Co(e,t){let n=0,l=0,s=Ie(e.bands,bo);for(let r=0;r<s.length;r++){let i=s[r];i.series[0]==t?n=i.dir:i.series[1]==t&&(i.dir==1?l|=1:l|=2)}return[n,l==1?-1:l==2?1:l==3?2:0]}function Xp(e,t,n,l,s){let r=e.mode,i=e.series[t],a=r==2?i.facets[1].scale:i.scale,c=e.scales[a];return s==-1?c.min:s==1?c.max:c.distr==3?c.dir==1?c.min:c.max:0}function In(e,t,n,l,s,r){return Sl(e,t,(i,a,c,f,d,g,v,b,w,_,U)=>{let L=i.pxRound;const M=f.dir*(f.ori==0?1:-1),A=f.ori==0?ss:rs;let C,ie;M==1?(C=n,ie=l):(C=l,ie=n);let te=L(g(a[C],f,_,b)),pe=L(v(c[C],d,U,w)),fe=L(g(a[ie],f,_,b)),ve=L(v(r==1?d.max:d.min,d,U,w)),j=new Path2D(s);return A(j,fe,ve),A(j,te,ve),A(j,te,pe),j})}function Fr(e,t,n,l,s,r){let i=null;if(e.length>0){i=new Path2D;const a=t==0?Lr:Do;let c=n;for(let g=0;g<e.length;g++){let v=e[g];if(v[1]>v[0]){let b=v[0]-c;b>0&&a(i,c,l,b,l+r),c=v[1]}}let f=n+s-c,d=10;f>0&&a(i,c,l-d/2,f,l+r+d)}return i}function em(e,t,n){let l=e[e.length-1];l&&l[0]==t?l[1]=n:e.push([t,n])}function ko(e,t,n,l,s,r,i){let a=[],c=e.length;for(let f=s==1?n:l;f>=n&&f<=l;f+=s)if(t[f]===null){let g=f,v=f;if(s==1)for(;++f<=l&&t[f]===null;)v=f;else for(;--f>=n&&t[f]===null;)v=f;let b=r(e[g]),w=v==g?b:r(e[v]),_=g-s;b=i<=0&&_>=0&&_<c?r(e[_]):b;let L=v+s;w=i>=0&&L>=0&&L<c?r(e[L]):w,w>=b&&a.push([b,w])}return a}function mc(e){return e==0?Ru:e==1?ut:t=>hl(t,e)}function nf(e){let t=e==0?Ir:Ur,n=e==0?(s,r,i,a,c,f)=>{s.arcTo(r,i,a,c,f)}:(s,r,i,a,c,f)=>{s.arcTo(i,r,c,a,f)},l=e==0?(s,r,i,a,c)=>{s.rect(r,i,a,c)}:(s,r,i,a,c)=>{s.rect(i,r,c,a)};return(s,r,i,a,c,f=0,d=0)=>{f==0&&d==0?l(s,r,i,a,c):(f=hn(f,a/2,c/2),d=hn(d,a/2,c/2),t(s,r+f,i),n(s,r+a,i,r+a,i+c,f),n(s,r+a,i+c,r,i+c,d),n(s,r,i+c,r,i,d),n(s,r,i,r+a,i,f),s.closePath())}}const Ir=(e,t,n)=>{e.moveTo(t,n)},Ur=(e,t,n)=>{e.moveTo(n,t)},ss=(e,t,n)=>{e.lineTo(t,n)},rs=(e,t,n)=>{e.lineTo(n,t)},Lr=nf(0),Do=nf(1),lf=(e,t,n,l,s,r)=>{e.arc(t,n,l,s,r)},sf=(e,t,n,l,s,r)=>{e.arc(n,t,l,s,r)},rf=(e,t,n,l,s,r,i)=>{e.bezierCurveTo(t,n,l,s,r,i)},of=(e,t,n,l,s,r,i)=>{e.bezierCurveTo(n,t,s,l,i,r)};function af(e){return(t,n,l,s,r)=>Sl(t,n,(i,a,c,f,d,g,v,b,w,_,U)=>{let{pxRound:L,points:M}=i,A,C;f.ori==0?(A=Ir,C=lf):(A=Ur,C=sf);const ie=je(M.width*Le,3);let te=(M.size-M.width)/2*Le,pe=je(te*2,3),fe=new Path2D,ve=new Path2D,{left:j,top:F,width:Q,height:I}=t.bbox;Lr(ve,j-pe,F-pe,Q+pe*2,I+pe*2);const P=E=>{if(c[E]!=null){let k=L(g(a[E],f,_,b)),T=L(v(c[E],d,U,w));A(fe,k+te,T),C(fe,k,T,te,0,or*2)}};if(r)r.forEach(P);else for(let E=l;E<=s;E++)P(E);return{stroke:ie>0?fe:null,fill:fe,clip:ve,flags:es|Hi}})}function cf(e){return(t,n,l,s,r,i)=>{l!=s&&(r!=l&&i!=l&&e(t,n,l),r!=s&&i!=s&&e(t,n,s),e(t,n,i))}}const tm=cf(ss),nm=cf(rs);function uf(e){const t=Ie(e==null?void 0:e.alignGaps,0);return(n,l,s,r)=>Sl(n,l,(i,a,c,f,d,g,v,b,w,_,U)=>{[s,r]=_r(c,s,r);let L=i.pxRound,M=I=>L(g(I,f,_,b)),A=I=>L(v(I,d,U,w)),C,ie;f.ori==0?(C=ss,ie=tm):(C=rs,ie=nm);const te=f.dir*(f.ori==0?1:-1),pe={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:es},fe=pe.stroke;let ve=!1;if(r-s>=_*4){let I=Z=>n.posToVal(Z,f.key,!0),P=null,E=null,k,T,V,G=M(a[te==1?s:r]),le=M(a[s]),X=M(a[r]),W=I(te==1?le+1:X-1);for(let Z=te==1?s:r;Z>=s&&Z<=r;Z+=te){let we=a[Z],Te=(te==1?we<W:we>W)?G:M(we),me=c[Z];Te==G?me!=null?(T=me,P==null?(C(fe,Te,A(T)),k=P=E=T):T<P?P=T:T>E&&(E=T)):me===null&&(ve=!0):(P!=null&&ie(fe,G,A(P),A(E),A(k),A(T)),me!=null?(T=me,C(fe,Te,A(T)),P=E=k=T):(P=E=null,me===null&&(ve=!0)),G=Te,W=I(G+te))}P!=null&&P!=E&&V!=G&&ie(fe,G,A(P),A(E),A(k),A(T))}else for(let I=te==1?s:r;I>=s&&I<=r;I+=te){let P=c[I];P===null?ve=!0:P!=null&&C(fe,M(a[I]),A(P))}let[F,Q]=Co(n,l);if(i.fill!=null||F!=0){let I=pe.fill=new Path2D(fe),P=i.fillTo(n,l,i.min,i.max,F),E=A(P),k=M(a[s]),T=M(a[r]);te==-1&&([T,k]=[k,T]),C(I,T,E),C(I,k,E)}if(!i.spanGaps){let I=[];ve&&I.push(...ko(a,c,s,r,te,M,t)),pe.gaps=I=i.gaps(n,l,s,r,I),pe.clip=Fr(I,f.ori,b,w,_,U)}return Q!=0&&(pe.band=Q==2?[In(n,l,s,r,fe,-1),In(n,l,s,r,fe,1)]:In(n,l,s,r,fe,Q)),pe})}function lm(e){const t=Ie(e.align,1),n=Ie(e.ascDesc,!1),l=Ie(e.alignGaps,0),s=Ie(e.extend,!1);return(r,i,a,c)=>Sl(r,i,(f,d,g,v,b,w,_,U,L,M,A)=>{[a,c]=_r(g,a,c);let C=f.pxRound,{left:ie,width:te}=r.bbox,pe=le=>C(w(le,v,M,U)),fe=le=>C(_(le,b,A,L)),ve=v.ori==0?ss:rs;const j={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:es},F=j.stroke,Q=v.dir*(v.ori==0?1:-1);let I=fe(g[Q==1?a:c]),P=pe(d[Q==1?a:c]),E=P,k=P;s&&t==-1&&(k=ie,ve(F,k,I)),ve(F,P,I);for(let le=Q==1?a:c;le>=a&&le<=c;le+=Q){let X=g[le];if(X==null)continue;let W=pe(d[le]),Z=fe(X);t==1?ve(F,W,I):ve(F,E,Z),ve(F,W,Z),I=Z,E=W}let T=E;s&&t==1&&(T=ie+te,ve(F,T,I));let[V,G]=Co(r,i);if(f.fill!=null||V!=0){let le=j.fill=new Path2D(F),X=f.fillTo(r,i,f.min,f.max,V),W=fe(X);ve(le,T,W),ve(le,k,W)}if(!f.spanGaps){let le=[];le.push(...ko(d,g,a,c,Q,pe,l));let X=f.width*Le/2,W=n||t==1?X:-X,Z=n||t==-1?-X:X;le.forEach(we=>{we[0]+=W,we[1]+=Z}),j.gaps=le=f.gaps(r,i,a,c,le),j.clip=Fr(le,v.ori,U,L,M,A)}return G!=0&&(j.band=G==2?[In(r,i,a,c,F,-1),In(r,i,a,c,F,1)]:In(r,i,a,c,F,G)),j})}function vc(e,t,n,l,s,r,i=He){if(e.length>1){let a=null;for(let c=0,f=1/0;c<e.length;c++)if(t[c]!==void 0){if(a!=null){let d=ft(e[c]-e[a]);d<f&&(f=d,i=ft(n(e[c],l,s,r)-n(e[a],l,s,r)))}a=c}}return i}function sm(e){e=e||Rs;const t=Ie(e.size,[.6,He,1]),n=e.align||0,l=e.gap||0;let s=e.radius;s=s==null?[0,0]:typeof s=="number"?[s,0]:s;const r=Re(s),i=1-t[0],a=Ie(t[1],He),c=Ie(t[2],1),f=Ie(e.disp,Rs),d=Ie(e.each,b=>{}),{fill:g,stroke:v}=f;return(b,w,_,U)=>Sl(b,w,(L,M,A,C,ie,te,pe,fe,ve,j,F)=>{let Q=L.pxRound,I=n,P=l*Le,E=a*Le,k=c*Le,T,V;C.ori==0?[T,V]=r(b,w):[V,T]=r(b,w);const G=C.dir*(C.ori==0?1:-1);let le=C.ori==0?Lr:Do,X=C.ori==0?d:(z,ue,ke,Pe,tt,Ke,gt)=>{d(z,ue,ke,tt,Pe,gt,Ke)},W=Ie(b.bands,bo).find(z=>z.series[0]==w),Z=W!=null?W.dir:0,we=L.fillTo(b,w,L.min,L.max,Z),Ee=Q(pe(we,ie,F,ve)),Te,me,rt,ct=j,Ne=Q(L.width*Le),rn=!1,m=null,x=null,R=null,K=null;g!=null&&(Ne==0||v!=null)&&(rn=!0,m=g.values(b,w,_,U),x=new Map,new Set(m).forEach(z=>{z!=null&&x.set(z,new Path2D)}),Ne>0&&(R=v.values(b,w,_,U),K=new Map,new Set(R).forEach(z=>{z!=null&&K.set(z,new Path2D)})));let{x0:N,size:$}=f;if(N!=null&&$!=null){I=1,M=N.values(b,w,_,U),N.unit==2&&(M=M.map(ke=>b.posToVal(fe+ke*j,C.key,!0)));let z=$.values(b,w,_,U);$.unit==2?me=z[0]*j:me=te(z[0],C,j,fe)-te(0,C,j,fe),ct=vc(M,A,te,C,j,fe,ct),rt=ct-me+P}else ct=vc(M,A,te,C,j,fe,ct),rt=ct*i+P,me=ct-rt;rt<1&&(rt=0),Ne>=me/2&&(Ne=0),rt<5&&(Q=Ru);let se=rt>0,ne=ct-rt-(se?Ne:0);me=Q(Ni(ne,k,E)),Te=(I==0?me/2:I==G?0:me)-I*G*((I==0?P/2:0)+(se?Ne/2:0));const q={stroke:null,fill:null,clip:null,band:null,gaps:null,flags:0},B=rn?null:new Path2D;let de=null;if(W!=null)de=b.data[W.series[1]];else{let{y0:z,y1:ue}=f;z!=null&&ue!=null&&(A=ue.values(b,w,_,U),de=z.values(b,w,_,U))}let re=T*me,J=V*me;for(let z=G==1?_:U;z>=_&&z<=U;z+=G){let ue=A[z];if(ue==null)continue;if(de!=null){let St=de[z]??0;if(ue-St==0)continue;Ee=pe(St,ie,F,ve)}let ke=C.distr!=2||f!=null?M[z]:z,Pe=te(ke,C,j,fe),tt=pe(Ie(ue,we),ie,F,ve),Ke=Q(Pe-Te),gt=Q(Vt(tt,Ee)),Qe=Q(hn(tt,Ee)),pt=gt-Qe;if(ue!=null){let St=ue<0?J:re,Ge=ue<0?re:J;rn?(Ne>0&&R[z]!=null&&le(K.get(R[z]),Ke,Qe+qt(Ne/2),me,Vt(0,pt-Ne),St,Ge),m[z]!=null&&le(x.get(m[z]),Ke,Qe+qt(Ne/2),me,Vt(0,pt-Ne),St,Ge)):le(B,Ke,Qe+qt(Ne/2),me,Vt(0,pt-Ne),St,Ge),X(b,w,z,Ke-Ne/2,Qe,me+Ne,pt)}}return Ne>0?q.stroke=rn?K:B:rn||(q._fill=L.width==0?L._fill:L._stroke??L._fill,q.width=0),q.fill=rn?x:B,q})}function rm(e,t){const n=Ie(t==null?void 0:t.alignGaps,0);return(l,s,r,i)=>Sl(l,s,(a,c,f,d,g,v,b,w,_,U,L)=>{[r,i]=_r(f,r,i);let M=a.pxRound,A=T=>M(v(T,d,U,w)),C=T=>M(b(T,g,L,_)),ie,te,pe;d.ori==0?(ie=Ir,pe=ss,te=rf):(ie=Ur,pe=rs,te=of);const fe=d.dir*(d.ori==0?1:-1);let ve=A(c[fe==1?r:i]),j=ve,F=[],Q=[];for(let T=fe==1?r:i;T>=r&&T<=i;T+=fe)if(f[T]!=null){let G=c[T],le=A(G);F.push(j=le),Q.push(C(f[T]))}const I={stroke:e(F,Q,ie,pe,te,M),fill:null,clip:null,band:null,gaps:null,flags:es},P=I.stroke;let[E,k]=Co(l,s);if(a.fill!=null||E!=0){let T=I.fill=new Path2D(P),V=a.fillTo(l,s,a.min,a.max,E),G=C(V);pe(T,j,G),pe(T,ve,G)}if(!a.spanGaps){let T=[];T.push(...ko(c,f,r,i,fe,A,n)),I.gaps=T=a.gaps(l,s,r,i,T),I.clip=Fr(T,d.ori,w,_,U,L)}return k!=0&&(I.band=k==2?[In(l,s,r,i,P,-1),In(l,s,r,i,P,1)]:In(l,s,r,i,P,k)),I})}function im(e){return rm(om,e)}function om(e,t,n,l,s,r){const i=e.length;if(i<2)return null;const a=new Path2D;if(n(a,e[0],t[0]),i==2)l(a,e[1],t[1]);else{let c=Array(i),f=Array(i-1),d=Array(i-1),g=Array(i-1);for(let v=0;v<i-1;v++)d[v]=t[v+1]-t[v],g[v]=e[v+1]-e[v],f[v]=d[v]/g[v];c[0]=f[0];for(let v=1;v<i-1;v++)f[v]===0||f[v-1]===0||f[v-1]>0!=f[v]>0?c[v]=0:(c[v]=3*(g[v-1]+g[v])/((2*g[v]+g[v-1])/f[v-1]+(g[v]+2*g[v-1])/f[v]),isFinite(c[v])||(c[v]=0));c[i-1]=f[i-2];for(let v=0;v<i-1;v++)s(a,e[v]+g[v]/3,t[v]+c[v]*g[v]/3,e[v+1]-g[v]/3,t[v+1]-c[v+1]*g[v]/3,e[v+1],t[v+1])}return a}const ji=new Set;function bc(){for(let e of ji)e.syncRect(!0)}ls&&(yl($g,Gl,bc),yl(Bg,Gl,bc,!0),yl(pr,Gl,()=>{At.pxRatio=Le}));const am=uf(),cm=af();function yc(e,t,n,l){return(l?[e[0],e[1]].concat(e.slice(2)):[e[0]].concat(e.slice(1))).map((r,i)=>Wi(r,i,t,n))}function um(e,t){return e.map((n,l)=>l==0?{}:ot({},t,n))}function Wi(e,t,n,l){return ot({},t==0?n:l,e)}function ff(e,t,n){return t==null?Ql:[t,n]}const fm=ff;function dm(e,t,n){return t==null?Ql:mr(t,n,mo,!0)}function df(e,t,n,l){return t==null?Ql:Ar(t,n,e.scales[l].log,!1)}const hm=df;function hf(e,t,n,l){return t==null?Ql:po(t,n,e.scales[l].log,!1)}const gm=hf;function pm(e,t,n,l,s){let r=Vt(Za(e),Za(t)),i=t-e,a=fn(s/l*i,n);do{let c=n[a],f=l*c/i;if(f>=s&&r+(c<5?el.get(c):0)<=17)return[c,f]}while(++a<n.length);return[0,0]}function xc(e){let t,n;return e=e.replace(/(\d+)px/,(l,s)=>(t=ut((n=+s)*Le))+"px"),[e,t,n]}function mm(e){e.show&&[e.font,e.labelFont].forEach(t=>{let n=je(t[2]*Le,1);t[0]=t[0].replace(/[0-9.]+px/,n+"px"),t[1]=n})}function At(e,t,n){const l={mode:Ie(e.mode,1)},s=l.mode;function r(o,u,h,p){let y=u.valToPct(o);return p+h*(u.dir==-1?1-y:y)}function i(o,u,h,p){let y=u.valToPct(o);return p+h*(u.dir==-1?y:1-y)}function a(o,u,h,p){return u.ori==0?r(o,u,h,p):i(o,u,h,p)}l.valToPosH=r,l.valToPosV=i;let c=!1;l.status=0;const f=l.root=tn(Cg);if(e.id!=null&&(f.id=e.id),Kt(f,e.class),e.title){let o=tn(Tg,f);o.textContent=e.title}const d=un("canvas"),g=l.ctx=d.getContext("2d"),v=tn(Mg,f);yl("click",v,o=>{o.target===w&&(Ye!=Rl||Xe!=Fl)&&kt.click(l,o)},!0);const b=l.under=tn(Eg,v);v.appendChild(d);const w=l.over=tn(_g,v);e=Xl(e);const _=+Ie(e.pxAlign,1),U=mc(_);(e.plugins||[]).forEach(o=>{o.opts&&(e=o.opts(l,e)||e)});const L=e.ms||.001,M=l.series=s==1?yc(e.series||[],cc,gc,!1):um(e.series||[null],hc),A=l.axes=yc(e.axes||[],ac,fc,!0),C=l.scales={},ie=l.bands=e.bands||[];ie.forEach(o=>{o.fill=Re(o.fill||null),o.dir=Ie(o.dir,-1)});const te=s==2?M[1].facets[0].scale:M[0].scale,pe={axes:_f,series:kf},fe=(e.drawOrder||["axes","series"]).map(o=>pe[o]);function ve(o){const u=o.distr==3?h=>Fn(h>0?h:o.clamp(l,h,o.min,o.max,o.key)):o.distr==4?h=>xi(h,o.asinh):o.distr==100?h=>o.fwd(h):h=>h;return h=>{let p=u(h),{_min:y,_max:D}=o,O=D-y;return(p-y)/O}}function j(o){let u=C[o];if(u==null){let h=(e.scales||Rs)[o]||Rs;if(h.from!=null){j(h.from);let p=ot({},C[h.from],h,{key:o});p.valToPct=ve(p),C[o]=p}else{u=C[o]=ot({},o==te?ef:Qp,h),u.key=o;let p=u.time,y=u.range,D=Gn(y);if((o!=te||s==2&&!p)&&(D&&(y[0]==null||y[1]==null)&&(y={min:y[0]==null?Ya:{mode:1,hard:y[0],soft:y[0]},max:y[1]==null?Ya:{mode:1,hard:y[1],soft:y[1]}},D=!1),!D&&Rr(y))){let O=y;y=(Y,ee,oe)=>ee==null?Ql:mr(ee,oe,O)}u.range=Re(y||(p?fm:o==te?u.distr==3?hm:u.distr==4?gm:ff:u.distr==3?df:u.distr==4?hf:dm)),u.auto=Re(D?!1:u.auto),u.clamp=Re(u.clamp||Zp),u._min=u._max=null,u.valToPct=ve(u)}}}j("x"),j("y"),s==1&&M.forEach(o=>{j(o.scale)}),A.forEach(o=>{j(o.scale)});for(let o in e.scales)j(o);const F=C[te],Q=F.distr;let I,P;F.ori==0?(Kt(f,kg),I=r,P=i):(Kt(f,Dg),I=i,P=r);const E={};for(let o in C){let u=C[o];(u.min!=null||u.max!=null)&&(E[o]={min:u.min,max:u.max},u.min=u.max=null)}const k=e.tzDate||(o=>new Date(ut(o/L))),T=e.fmtDate||yo,V=L==1?kp(k):Mp(k),G=rc(k,sc(L==1?Cp:Tp,T)),le=oc(k,ic(_p,T)),X=[],W=l.legend=ot({},Rp,e.legend),Z=l.cursor=ot({},Vp,{drag:{y:s==2}},e.cursor),we=W.show,Ee=Z.show,Te=W.markers;W.idxs=X,Te.width=Re(Te.width),Te.dash=Re(Te.dash),Te.stroke=Re(Te.stroke),Te.fill=Re(Te.fill);let me,rt,ct,Ne=[],rn=[],m,x=!1,R={};if(W.live){const o=M[1]?M[1].values:null;x=o!=null,m=x?o(l,1,0):{_:0};for(let u in m)R[u]=ho}if(we)if(me=un("table",Ug,f),ct=un("tbody",null,me),W.mount(l,me),x){rt=un("thead",null,me,ct);let o=un("tr",null,rt);un("th",null,o);for(var K in m)un("th",Ua,o).textContent=K}else Kt(me,Og),W.live&&Kt(me,Lg);const N={show:!0},$={show:!1};function se(o,u){if(u==0&&(x||!W.live||s==2))return Ql;let h=[],p=un("tr",Vg,ct,ct.childNodes[u]);Kt(p,o.class),o.show||Kt(p,pl);let y=un("th",null,p);if(Te.show){let Y=tn(zg,y);if(u>0){let ee=Te.width(l,u);ee&&(Y.style.border=ee+"px "+Te.dash(l,u)+" "+Te.stroke(l,u)),Y.style.background=Te.fill(l,u)}}let D=tn(Ua,y);o.label instanceof HTMLElement?D.appendChild(o.label):D.textContent=o.label,u>0&&(Te.show||(D.style.color=o.width>0?Te.stroke(l,u):Te.fill(l,u)),q("click",y,Y=>{if(Z._lock)return;rl(Y);let ee=M.indexOf(o);if((Y.ctrlKey||Y.metaKey)!=W.isolate){let oe=M.some((ae,ce)=>ce>0&&ce!=ee&&ae.show);M.forEach((ae,ce)=>{ce>0&&vn(ce,oe?ce==ee?N:$:N,!0,it.setSeries)})}else vn(ee,{show:!o.show},!0,it.setSeries)},!1),Cl&&q(za,y,Y=>{Z._lock||(rl(Y),vn(M.indexOf(o),Ul,!0,it.setSeries))},!1));for(var O in m){let Y=un("td",Ng,p);Y.textContent="--",h.push(Y)}return[p,h]}const ne=new Map;function q(o,u,h,p=!0){const y=ne.get(u)||{},D=Z.bind[o](l,u,h,p);D&&(yl(o,u,y[o]=D),ne.set(u,y))}function B(o,u,h){const p=ne.get(u)||{};for(let y in p)(o==null||y==o)&&(zi(y,u,p[y]),delete p[y]);o==null&&ne.delete(u)}let de=0,re=0,J=0,z=0,ue=0,ke=0,Pe=ue,tt=ke,Ke=J,gt=z,Qe=0,pt=0,St=0,Ge=0;l.bbox={};let zt=!1,ll=!1,Mn=!1,sl=!1,$s=!1,Zt=!1;function Or(o,u,h){(h||o!=l.width||u!=l.height)&&To(o,u),El(!1),Mn=!0,ll=!0,_l()}function To(o,u){l.width=de=J=o,l.height=re=z=u,ue=ke=0,vf(),bf();let h=l.bbox;Qe=h.left=hl(ue*Le,.5),pt=h.top=hl(ke*Le,.5),St=h.width=hl(J*Le,.5),Ge=h.height=hl(z*Le,.5)}const gf=3;function pf(){let o=!1,u=0;for(;!o;){u++;let h=Mf(u),p=Ef(u);o=u==gf||h&&p,o||(To(l.width,l.height),ll=!0)}}function mf({width:o,height:u}){Or(o,u)}l.setSize=mf;function vf(){let o=!1,u=!1,h=!1,p=!1;A.forEach((y,D)=>{if(y.show&&y._show){let{side:O,_size:Y}=y,ee=O%2,oe=y.label!=null?y.labelSize:0,ae=Y+oe;ae>0&&(ee?(J-=ae,O==3?(ue+=ae,p=!0):h=!0):(z-=ae,O==0?(ke+=ae,o=!0):u=!0))}}),il[0]=o,il[1]=h,il[2]=u,il[3]=p,J-=zn[1]+zn[3],ue+=zn[3],z-=zn[2]+zn[0],ke+=zn[0]}function bf(){let o=ue+J,u=ke+z,h=ue,p=ke;function y(D,O){switch(D){case 1:return o+=O,o-O;case 2:return u+=O,u-O;case 3:return h-=O,h+O;case 0:return p-=O,p+O}}A.forEach((D,O)=>{if(D.show&&D._show){let Y=D.side;D._pos=y(Y,D._size),D.label!=null&&(D._lpos=y(Y,D.labelSize))}})}if(Z.dataIdx==null){let o=Z.hover,u=o.skip=new Set(o.skip??[]);u.add(void 0);let h=o.prox=Re(o.prox),p=o.bias??(o.bias=0);Z.dataIdx=(y,D,O,Y)=>{if(D==0)return O;let ee=O,oe=h(y,D,O,Y)??He,ae=oe>=0&&oe<He,ce=F.ori==0?J:z,De=Z.left,Ue=t[0],Fe=t[D];if(u.has(Fe[O])){ee=null;let Ae=null,ye=null,ge;if(p==0||p==-1)for(ge=O;Ae==null&&ge-- >0;)u.has(Fe[ge])||(Ae=ge);if(p==0||p==1)for(ge=O;ye==null&&ge++<Fe.length;)u.has(Fe[ge])||(ye=ge);if(Ae!=null||ye!=null)if(ae){let Je=Ae==null?-1/0:I(Ue[Ae],F,ce,0),nt=ye==null?1/0:I(Ue[ye],F,ce,0),wt=De-Je,$e=nt-De;wt<=$e?wt<=oe&&(ee=Ae):$e<=oe&&(ee=ye)}else ee=ye==null?Ae:Ae==null?ye:O-Ae<=ye-O?Ae:ye}else ae&&ft(De-I(Ue[O],F,ce,0))>oe&&(ee=null);return ee}}const rl=o=>{Z.event=o};Z.idxs=X,Z._lock=!1;let Tt=Z.points;Tt.show=Re(Tt.show),Tt.size=Re(Tt.size),Tt.stroke=Re(Tt.stroke),Tt.width=Re(Tt.width),Tt.fill=Re(Tt.fill);const mn=l.focus=ot({},e.focus||{alpha:.3},Z.focus),Cl=mn.prox>=0,kl=Cl&&Tt.one;let Qt=[],Dl=[],Tl=[];function Mo(o,u){let h=Tt.show(l,u);if(h instanceof HTMLElement)return Kt(h,Ig),Kt(h,o.class),Sn(h,-10,-10,J,z),w.insertBefore(h,Qt[u]),h}function Eo(o,u){if(s==1||u>0){let h=s==1&&C[o.scale].time,p=o.value;o.value=h?ec(p)?oc(k,ic(p,T)):p||le:p||Yp,o.label=o.label||(h?Np:zp)}if(kl||u>0){o.width=o.width==null?1:o.width,o.paths=o.paths||am||Qg,o.fillTo=Re(o.fillTo||Xp),o.pxAlign=+Ie(o.pxAlign,_),o.pxRound=mc(o.pxAlign),o.stroke=Re(o.stroke||null),o.fill=Re(o.fill||null),o._stroke=o._fill=o._paths=o._focus=null;let h=qp(Vt(1,o.width),1),p=o.points=ot({},{size:h,width:Vt(1,h*.2),stroke:o.stroke,space:h*2,paths:cm,_stroke:null,_fill:null},o.points);p.show=Re(p.show),p.filter=Re(p.filter),p.fill=Re(p.fill),p.stroke=Re(p.stroke),p.paths=Re(p.paths),p.pxAlign=o.pxAlign}if(we){let h=se(o,u);Ne.splice(u,0,h[0]),rn.splice(u,0,h[1]),W.values.push(null)}if(Ee){X.splice(u,0,null);let h=null;kl?u==0&&(h=Mo(o,u)):u>0&&(h=Mo(o,u)),Qt.splice(u,0,h),Dl.splice(u,0,0),Tl.splice(u,0,0)}xt("addSeries",u)}function yf(o,u){u=u??M.length,o=s==1?Wi(o,u,cc,gc):Wi(o,u,{},hc),M.splice(u,0,o),Eo(M[u],u)}l.addSeries=yf;function xf(o){if(M.splice(o,1),we){W.values.splice(o,1),rn.splice(o,1);let u=Ne.splice(o,1)[0];B(null,u.firstChild),u.remove()}Ee&&(X.splice(o,1),Qt.splice(o,1)[0].remove(),Dl.splice(o,1),Tl.splice(o,1)),xt("delSeries",o)}l.delSeries=xf;const il=[!1,!1,!1,!1];function wf(o,u){if(o._show=o.show,o.show){let h=o.side%2,p=C[o.scale];p==null&&(o.scale=h?M[1].scale:te,p=C[o.scale]);let y=p.time;o.size=Re(o.size),o.space=Re(o.space),o.rotate=Re(o.rotate),Gn(o.incrs)&&o.incrs.forEach(O=>{!el.has(O)&&el.set(O,Uu(O))}),o.incrs=Re(o.incrs||(p.distr==2?xp:y?L==1?Sp:Dp:gl)),o.splits=Re(o.splits||(y&&p.distr==1?V:p.distr==3?$i:p.distr==4?Hp:Bp)),o.stroke=Re(o.stroke),o.grid.stroke=Re(o.grid.stroke),o.ticks.stroke=Re(o.ticks.stroke),o.border.stroke=Re(o.border.stroke);let D=o.values;o.values=Gn(D)&&!Gn(D[0])?Re(D):y?Gn(D)?rc(k,sc(D,T)):ec(D)?Ep(k,D):D||G:D||$p,o.filter=Re(o.filter||(p.distr>=3&&p.log==10?Kp:p.distr==3&&p.log==2?Gp:Fu)),o.font=xc(o.font),o.labelFont=xc(o.labelFont),o._size=o.size(l,null,u,0),o._space=o._rotate=o._incrs=o._found=o._splits=o._values=null,o._size>0&&(il[u]=!0,o._el=tn(Ag,v))}}function is(o,u,h,p){let[y,D,O,Y]=h,ee=u%2,oe=0;return ee==0&&(Y||D)&&(oe=u==0&&!y||u==2&&!O?ut(ac.size/3):0),ee==1&&(y||O)&&(oe=u==1&&!D||u==3&&!Y?ut(fc.size/2):0),oe}const _o=l.padding=(e.padding||[is,is,is,is]).map(o=>Re(Ie(o,is))),zn=l._padding=_o.map((o,u)=>o(l,u,il,0));let Ct,mt=null,vt=null;const Bs=s==1?M[0].idxs:null;let on=null,os=!1;function Ao(o,u){if(t=o??[],l.data=l._data=t,s==2){Ct=0;for(let h=1;h<M.length;h++)Ct+=t[h][0].length}else{t.length==0&&(l.data=l._data=t=[[]]),on=t[0],Ct=on.length;let h=t;if(Q==2){h=t.slice();let p=h[0]=Array(Ct);for(let y=0;y<Ct;y++)p[y]=y}l._data=t=h}if(El(!0),xt("setData"),Q==2&&(Mn=!0),u!==!1){let h=F;h.auto(l,os)?Vr():$n(te,h.min,h.max),sl=sl||Z.left>=0,Zt=!0,_l()}}l.setData=Ao;function Vr(){os=!0;let o,u;s==1&&(Ct>0?(mt=Bs[0]=0,vt=Bs[1]=Ct-1,o=t[0][mt],u=t[0][vt],Q==2?(o=mt,u=vt):o==u&&(Q==3?[o,u]=Ar(o,o,F.log,!1):Q==4?[o,u]=po(o,o,F.log,!1):F.time?u=o+ut(86400/L):[o,u]=mr(o,u,mo,!0))):(mt=Bs[0]=o=null,vt=Bs[1]=u=null)),$n(te,o,u)}let Hs,Ml,zr,Nr,$r,Br,Hr,jr,Wr,Nt;function Po(o,u,h,p,y,D){o??(o=Oa),h??(h=bo),p??(p="butt"),y??(y=Oa),D??(D="round"),o!=Hs&&(g.strokeStyle=Hs=o),y!=Ml&&(g.fillStyle=Ml=y),u!=zr&&(g.lineWidth=zr=u),D!=$r&&(g.lineJoin=$r=D),p!=Br&&(g.lineCap=Br=p),h!=Nr&&g.setLineDash(Nr=h)}function Ro(o,u,h,p){u!=Ml&&(g.fillStyle=Ml=u),o!=Hr&&(g.font=Hr=o),h!=jr&&(g.textAlign=jr=h),p!=Wr&&(g.textBaseline=Wr=p)}function Kr(o,u,h,p,y=0){if(p.length>0&&o.auto(l,os)&&(u==null||u.min==null)){let D=Ie(mt,0),O=Ie(vt,p.length-1),Y=h.min==null?Kg(p,D,O,y,o.distr==3):[h.min,h.max];o.min=hn(o.min,h.min=Y[0]),o.max=Vt(o.max,h.max=Y[1])}}const Fo={min:null,max:null};function Sf(){for(let p in C){let y=C[p];E[p]==null&&(y.min==null||E[te]!=null&&y.auto(l,os))&&(E[p]=Fo)}for(let p in C){let y=C[p];E[p]==null&&y.from!=null&&E[y.from]!=null&&(E[p]=Fo)}E[te]!=null&&El(!0);let o={};for(let p in E){let y=E[p];if(y!=null){let D=o[p]=Xl(C[p],tp);if(y.min!=null)ot(D,y);else if(p!=te||s==2)if(Ct==0&&D.from==null){let O=D.range(l,null,null,p);D.min=O[0],D.max=O[1]}else D.min=He,D.max=-He}}if(Ct>0){M.forEach((p,y)=>{if(s==1){let D=p.scale,O=E[D];if(O==null)return;let Y=o[D];if(y==0){let ee=Y.range(l,Y.min,Y.max,D);Y.min=ee[0],Y.max=ee[1],mt=fn(Y.min,t[0]),vt=fn(Y.max,t[0]),vt-mt>1&&(t[0][mt]<Y.min&&mt++,t[0][vt]>Y.max&&vt--),p.min=on[mt],p.max=on[vt]}else p.show&&p.auto&&Kr(Y,O,p,t[y],p.sorted);p.idxs[0]=mt,p.idxs[1]=vt}else if(y>0&&p.show&&p.auto){let[D,O]=p.facets,Y=D.scale,ee=O.scale,[oe,ae]=t[y],ce=o[Y],De=o[ee];ce!=null&&Kr(ce,E[Y],D,oe,D.sorted),De!=null&&Kr(De,E[ee],O,ae,O.sorted),p.min=O.min,p.max=O.max}});for(let p in o){let y=o[p],D=E[p];if(y.from==null&&(D==null||D.min==null)){let O=y.range(l,y.min==He?null:y.min,y.max==-He?null:y.max,p);y.min=O[0],y.max=O[1]}}}for(let p in o){let y=o[p];if(y.from!=null){let D=o[y.from];if(D.min==null)y.min=y.max=null;else{let O=y.range(l,D.min,D.max,p);y.min=O[0],y.max=O[1]}}}let u={},h=!1;for(let p in o){let y=o[p],D=C[p];if(D.min!=y.min||D.max!=y.max){D.min=y.min,D.max=y.max;let O=D.distr;D._min=O==3?Fn(D.min):O==4?xi(D.min,D.asinh):O==100?D.fwd(D.min):D.min,D._max=O==3?Fn(D.max):O==4?xi(D.max,D.asinh):O==100?D.fwd(D.max):D.max,u[p]=h=!0}}if(h){M.forEach((p,y)=>{s==2?y>0&&u.y&&(p._paths=null):u[p.scale]&&(p._paths=null)});for(let p in u)Mn=!0,xt("setScale",p);Ee&&Z.left>=0&&(sl=Zt=!0)}for(let p in E)E[p]=null}function Cf(o){let u=Ni(mt-1,0,Ct-1),h=Ni(vt+1,0,Ct-1);for(;o[u]==null&&u>0;)u--;for(;o[h]==null&&h<Ct-1;)h++;return[u,h]}function kf(){if(Ct>0){let o=M.some(u=>u._focus)&&Nt!=mn.alpha;o&&(g.globalAlpha=Nt=mn.alpha),M.forEach((u,h)=>{if(h>0&&u.show&&(Io(h,!1),Io(h,!0),u._paths==null)){let p=Nt;Nt!=u.alpha&&(g.globalAlpha=Nt=u.alpha);let y=s==2?[0,t[h][0].length-1]:Cf(t[h]);u._paths=u.paths(l,h,y[0],y[1]),Nt!=p&&(g.globalAlpha=Nt=p)}}),M.forEach((u,h)=>{if(h>0&&u.show){let p=Nt;Nt!=u.alpha&&(g.globalAlpha=Nt=u.alpha),u._paths!=null&&Uo(h,!1);{let y=u._paths!=null?u._paths.gaps:null,D=u.points.show(l,h,mt,vt,y),O=u.points.filter(l,h,D,y);(D||O)&&(u.points._paths=u.points.paths(l,h,mt,vt,O),Uo(h,!0))}Nt!=p&&(g.globalAlpha=Nt=p),xt("drawSeries",h)}}),o&&(g.globalAlpha=Nt=1)}}function Io(o,u){let h=u?M[o].points:M[o];h._stroke=h.stroke(l,o),h._fill=h.fill(l,o)}function Uo(o,u){let h=u?M[o].points:M[o],{stroke:p,fill:y,clip:D,flags:O,_stroke:Y=h._stroke,_fill:ee=h._fill,_width:oe=h.width}=h._paths;oe=je(oe*Le,3);let ae=null,ce=oe%2/2;u&&ee==null&&(ee=oe>0?"#fff":Y);let De=h.pxAlign==1&&ce>0;if(De&&g.translate(ce,ce),!u){let Ue=Qe-oe/2,Fe=pt-oe/2,Ae=St+oe,ye=Ge+oe;ae=new Path2D,ae.rect(Ue,Fe,Ae,ye)}u?Gr(Y,oe,h.dash,h.cap,ee,p,y,O,D):Df(o,Y,oe,h.dash,h.cap,ee,p,y,O,ae,D),De&&g.translate(-ce,-ce)}function Df(o,u,h,p,y,D,O,Y,ee,oe,ae){let ce=!1;ee!=0&&ie.forEach((De,Ue)=>{if(De.series[0]==o){let Fe=M[De.series[1]],Ae=t[De.series[1]],ye=(Fe._paths||Rs).band;Gn(ye)&&(ye=De.dir==1?ye[0]:ye[1]);let ge,Je=null;Fe.show&&ye&&Yg(Ae,mt,vt)?(Je=De.fill(l,Ue)||D,ge=Fe._paths.clip):ye=null,Gr(u,h,p,y,Je,O,Y,ee,oe,ae,ge,ye),ce=!0}}),ce||Gr(u,h,p,y,D,O,Y,ee,oe,ae)}const Lo=es|Hi;function Gr(o,u,h,p,y,D,O,Y,ee,oe,ae,ce){Po(o,u,h,p,y),(ee||oe||ce)&&(g.save(),ee&&g.clip(ee),oe&&g.clip(oe)),ce?(Y&Lo)==Lo?(g.clip(ce),ae&&g.clip(ae),Ws(y,O),js(o,D,u)):Y&Hi?(Ws(y,O),g.clip(ce),js(o,D,u)):Y&es&&(g.save(),g.clip(ce),ae&&g.clip(ae),Ws(y,O),g.restore(),js(o,D,u)):(Ws(y,O),js(o,D,u)),(ee||oe||ce)&&g.restore()}function js(o,u,h){h>0&&(u instanceof Map?u.forEach((p,y)=>{g.strokeStyle=Hs=y,g.stroke(p)}):u!=null&&o&&g.stroke(u))}function Ws(o,u){u instanceof Map?u.forEach((h,p)=>{g.fillStyle=Ml=p,g.fill(h)}):u!=null&&o&&g.fill(u)}function Tf(o,u,h,p){let y=A[o],D;if(p<=0)D=[0,0];else{let O=y._space=y.space(l,o,u,h,p),Y=y._incrs=y.incrs(l,o,u,h,p,O);D=pm(u,h,Y,p,O)}return y._found=D}function Yr(o,u,h,p,y,D,O,Y,ee,oe){let ae=O%2/2;_==1&&g.translate(ae,ae),Po(Y,O,ee,oe,Y),g.beginPath();let ce,De,Ue,Fe,Ae=y+(p==0||p==3?-D:D);h==0?(De=y,Fe=Ae):(ce=y,Ue=Ae);for(let ye=0;ye<o.length;ye++)u[ye]!=null&&(h==0?ce=Ue=o[ye]:De=Fe=o[ye],g.moveTo(ce,De),g.lineTo(Ue,Fe));g.stroke(),_==1&&g.translate(-ae,-ae)}function Mf(o){let u=!0;return A.forEach((h,p)=>{if(!h.show)return;let y=C[h.scale];if(y.min==null){h._show&&(u=!1,h._show=!1,El(!1));return}else h._show||(u=!1,h._show=!0,El(!1));let D=h.side,O=D%2,{min:Y,max:ee}=y,[oe,ae]=Tf(p,Y,ee,O==0?J:z);if(ae==0)return;let ce=y.distr==2,De=h._splits=h.splits(l,p,Y,ee,oe,ae,ce),Ue=y.distr==2?De.map(ge=>on[ge]):De,Fe=y.distr==2?on[De[1]]-on[De[0]]:oe,Ae=h._values=h.values(l,h.filter(l,Ue,p,ae,Fe),p,ae,Fe);h._rotate=D==2?h.rotate(l,Ae,p,ae):0;let ye=h._size;h._size=nn(h.size(l,Ae,p,o)),ye!=null&&h._size!=ye&&(u=!1)}),u}function Ef(o){let u=!0;return _o.forEach((h,p)=>{let y=h(l,p,il,o);y!=zn[p]&&(u=!1),zn[p]=y}),u}function _f(){for(let o=0;o<A.length;o++){let u=A[o];if(!u.show||!u._show)continue;let h=u.side,p=h%2,y,D,O=u.stroke(l,o),Y=h==0||h==3?-1:1,[ee,oe]=u._found;if(u.label!=null){let Ft=u.labelGap*Y,jt=ut((u._lpos+Ft)*Le);Ro(u.labelFont[0],O,"center",h==2?ps:La),g.save(),p==1?(y=D=0,g.translate(jt,ut(pt+Ge/2)),g.rotate((h==3?-or:or)/2)):(y=ut(Qe+St/2),D=jt);let cl=Pu(u.label)?u.label(l,o,ee,oe):u.label;g.fillText(cl,y,D),g.restore()}if(oe==0)continue;let ae=C[u.scale],ce=p==0?St:Ge,De=p==0?Qe:pt,Ue=u._splits,Fe=ae.distr==2?Ue.map(Ft=>on[Ft]):Ue,Ae=ae.distr==2?on[Ue[1]]-on[Ue[0]]:ee,ye=u.ticks,ge=u.border,Je=ye.show?ye.size:0,nt=ut(Je*Le),wt=ut((u.alignTo==2?u._size-Je-u.gap:u.gap)*Le),$e=u._rotate*-or/180,lt=U(u._pos*Le),Bt=(nt+wt)*Y,Rt=lt+Bt;D=p==0?Rt:0,y=p==1?Rt:0;let Xt=u.font[0],an=u.align==1?zl:u.align==2?vi:$e>0?zl:$e<0?vi:p==0?"center":h==3?vi:zl,yn=$e||p==1?"middle":h==2?ps:La;Ro(Xt,O,an,yn);let Ht=u.font[1]*u.lineGap,en=Ue.map(Ft=>U(a(Ft,ae,ce,De))),cn=u._values;for(let Ft=0;Ft<cn.length;Ft++){let jt=cn[Ft];if(jt!=null){p==0?y=en[Ft]:D=en[Ft],jt=""+jt;let cl=jt.indexOf(`
`)==-1?[jt]:jt.split(/\n/gm);for(let It=0;It<cl.length;It++){let ta=cl[It];$e?(g.save(),g.translate(y,D+It*Ht),g.rotate($e),g.fillText(ta,0,0),g.restore()):g.fillText(ta,y,D+It*Ht)}}}ye.show&&Yr(en,ye.filter(l,Fe,o,oe,Ae),p,h,lt,nt,je(ye.width*Le,3),ye.stroke(l,o),ye.dash,ye.cap);let xn=u.grid;xn.show&&Yr(en,xn.filter(l,Fe,o,oe,Ae),p,p==0?2:1,p==0?pt:Qe,p==0?Ge:St,je(xn.width*Le,3),xn.stroke(l,o),xn.dash,xn.cap),ge.show&&Yr([lt],[1],p==0?1:0,p==0?1:2,p==1?pt:Qe,p==1?Ge:St,je(ge.width*Le,3),ge.stroke(l,o),ge.dash,ge.cap)}xt("drawAxes")}function El(o){M.forEach((u,h)=>{h>0&&(u._paths=null,o&&(s==1?(u.min=null,u.max=null):u.facets.forEach(p=>{p.min=null,p.max=null})))})}let Ks=!1,qr=!1,as=[];function Af(){qr=!1;for(let o=0;o<as.length;o++)xt(...as[o]);as.length=0}function _l(){Ks||(ap(Oo),Ks=!0)}function Pf(o,u=!1){Ks=!0,qr=u,o(l),Oo(),u&&as.length>0&&queueMicrotask(Af)}l.batch=Pf;function Oo(){if(zt&&(Sf(),zt=!1),Mn&&(pf(),Mn=!1),ll){if(Ze(b,zl,ue),Ze(b,ps,ke),Ze(b,ys,J),Ze(b,xs,z),Ze(w,zl,ue),Ze(w,ps,ke),Ze(w,ys,J),Ze(w,xs,z),Ze(v,ys,de),Ze(v,xs,re),d.width=ut(de*Le),d.height=ut(re*Le),A.forEach(({_el:o,_show:u,_size:h,_pos:p,side:y})=>{if(o!=null)if(u){let D=y===3||y===0?h:0,O=y%2==1;Ze(o,O?"left":"top",p-D),Ze(o,O?"width":"height",h),Ze(o,O?"top":"left",O?ke:ue),Ze(o,O?"height":"width",O?z:J),Vi(o,pl)}else Kt(o,pl)}),Hs=Ml=zr=$r=Br=Hr=jr=Wr=Nr=null,Nt=1,fs(!0),ue!=Pe||ke!=tt||J!=Ke||z!=gt){El(!1);let o=J/Ke,u=z/gt;if(Ee&&!sl&&Z.left>=0){Z.left*=o,Z.top*=u,Al&&Sn(Al,ut(Z.left),0,J,z),Pl&&Sn(Pl,0,ut(Z.top),J,z);for(let h=0;h<Qt.length;h++){let p=Qt[h];p!=null&&(Dl[h]*=o,Tl[h]*=u,Sn(p,nn(Dl[h]),nn(Tl[h]),J,z))}}if(qe.show&&!$s&&qe.left>=0&&qe.width>0){qe.left*=o,qe.width*=o,qe.top*=u,qe.height*=u;for(let h in ti)Ze(Il,h,qe[h])}Pe=ue,tt=ke,Ke=J,gt=z}xt("setSize"),ll=!1}de>0&&re>0&&(g.clearRect(0,0,d.width,d.height),xt("drawClear"),fe.forEach(o=>o()),xt("draw")),qe.show&&$s&&(Gs(qe),$s=!1),Ee&&sl&&(al(null,!0,!1),sl=!1),W.show&&W.live&&Zt&&(Xr(),Zt=!1),c||(c=!0,l.status=1,xt("ready")),os=!1,Ks=!1}l.redraw=(o,u)=>{Mn=u||!1,o!==!1?$n(te,F.min,F.max):_l()};function Jr(o,u){let h=C[o];if(h.from==null){if(Ct==0){let p=h.range(l,u.min,u.max,o);u.min=p[0],u.max=p[1]}if(u.min>u.max){let p=u.min;u.min=u.max,u.max=p}if(Ct>1&&u.min!=null&&u.max!=null&&u.max-u.min<1e-16)return;o==te&&h.distr==2&&Ct>0&&(u.min=fn(u.min,t[0]),u.max=fn(u.max,t[0]),u.min==u.max&&u.max++),E[o]=u,zt=!0,_l()}}l.setScale=Jr;let Zr,Qr,Al,Pl,Vo,zo,Rl,Fl,No,$o,Ye,Xe,Nn=!1;const kt=Z.drag;let bt=kt.x,yt=kt.y;Ee&&(Z.x&&(Zr=tn(Rg,w)),Z.y&&(Qr=tn(Fg,w)),F.ori==0?(Al=Zr,Pl=Qr):(Al=Qr,Pl=Zr),Ye=Z.left,Xe=Z.top);const qe=l.select=ot({show:!0,over:!0,left:0,width:0,top:0,height:0},e.select),Il=qe.show?tn(Pg,qe.over?w:b):null;function Gs(o,u){if(qe.show){for(let h in o)qe[h]=o[h],h in ti&&Ze(Il,h,o[h]);u!==!1&&xt("setSelect")}}l.setSelect=Gs;function Rf(o){if(M[o].show)we&&Vi(Ne[o],pl);else if(we&&Kt(Ne[o],pl),Ee){let h=kl?Qt[0]:Qt[o];h!=null&&Sn(h,-10,-10,J,z)}}function $n(o,u,h){Jr(o,{min:u,max:h})}function vn(o,u,h,p){u.focus!=null&&Of(o),u.show!=null&&M.forEach((y,D)=>{D>0&&(o==D||o==null)&&(y.show=u.show,Rf(D),s==2?($n(y.facets[0].scale,null,null),$n(y.facets[1].scale,null,null)):$n(y.scale,null,null),_l())}),h!==!1&&xt("setSeries",o,u),p&&ds("setSeries",l,o,u)}l.setSeries=vn;function Ff(o,u){ot(ie[o],u)}function If(o,u){o.fill=Re(o.fill||null),o.dir=Ie(o.dir,-1),u=u??ie.length,ie.splice(u,0,o)}function Uf(o){o==null?ie.length=0:ie.splice(o,1)}l.addBand=If,l.setBand=Ff,l.delBand=Uf;function Lf(o,u){M[o].alpha=u,Ee&&Qt[o]!=null&&(Qt[o].style.opacity=u),we&&Ne[o]&&(Ne[o].style.opacity=u)}let En,Bn,ol;const Ul={focus:!0};function Of(o){if(o!=ol){let u=o==null,h=mn.alpha!=1;M.forEach((p,y)=>{if(s==1||y>0){let D=u||y==0||y==o;p._focus=u?null:D,h&&Lf(y,D?1:mn.alpha)}}),ol=o,h&&_l()}}we&&Cl&&q(Na,me,o=>{Z._lock||(rl(o),ol!=null&&vn(null,Ul,!0,it.setSeries))});function bn(o,u,h){let p=C[u];h&&(o=o/Le-(p.ori==1?ke:ue));let y=J;p.ori==1&&(y=z,o=y-o),p.dir==-1&&(o=y-o);let D=p._min,O=p._max,Y=o/y,ee=D+(O-D)*Y,oe=p.distr;return oe==3?Zl(10,ee):oe==4?Jg(ee,p.asinh):oe==100?p.bwd(ee):ee}function Vf(o,u){let h=bn(o,te,u);return fn(h,t[0],mt,vt)}l.valToIdx=o=>fn(o,t[0]),l.posToIdx=Vf,l.posToVal=bn,l.valToPos=(o,u,h)=>C[u].ori==0?r(o,C[u],h?St:J,h?Qe:0):i(o,C[u],h?Ge:z,h?pt:0),l.setCursor=(o,u,h)=>{Ye=o.left,Xe=o.top,al(null,u,h)};function Bo(o,u){Ze(Il,zl,qe.left=o),Ze(Il,ys,qe.width=u)}function Ho(o,u){Ze(Il,ps,qe.top=o),Ze(Il,xs,qe.height=u)}let cs=F.ori==0?Bo:Ho,us=F.ori==1?Bo:Ho;function zf(){if(we&&W.live)for(let o=s==2?1:0;o<M.length;o++){if(o==0&&x)continue;let u=W.values[o],h=0;for(let p in u)rn[o][h++].firstChild.nodeValue=u[p]}}function Xr(o,u){if(o!=null&&(o.idxs?o.idxs.forEach((h,p)=>{X[p]=h}):ep(o.idx)||X.fill(o.idx),W.idx=X[0]),we&&W.live){for(let h=0;h<M.length;h++)(h>0||s==1&&!x)&&Nf(h,X[h]);zf()}Zt=!1,u!==!1&&xt("setLegend")}l.setLegend=Xr;function Nf(o,u){let h=M[o],p=o==0&&Q==2?on:t[o],y;x?y=h.values(l,o,u)??R:(y=h.value(l,u==null?null:p[u],o,u),y=y==null?R:{_:y}),W.values[o]=y}function al(o,u,h){No=Ye,$o=Xe,[Ye,Xe]=Z.move(l,Ye,Xe),Z.left=Ye,Z.top=Xe,Ee&&(Al&&Sn(Al,ut(Ye),0,J,z),Pl&&Sn(Pl,0,ut(Xe),J,z));let p,y=mt>vt;En=He,Bn=null;let D=F.ori==0?J:z,O=F.ori==1?J:z;if(Ye<0||Ct==0||y){p=Z.idx=null;for(let Y=0;Y<M.length;Y++){let ee=Qt[Y];ee!=null&&Sn(ee,-10,-10,J,z)}Cl&&vn(null,Ul,!0,o==null&&it.setSeries),W.live&&(X.fill(p),Zt=!0)}else{let Y,ee,oe;s==1&&(Y=F.ori==0?Ye:Xe,ee=bn(Y,te),p=Z.idx=fn(ee,t[0],mt,vt),oe=I(t[0][p],F,D,0));let ae=-10,ce=-10,De=0,Ue=0,Fe=!0,Ae="",ye="";for(let ge=s==2?1:0;ge<M.length;ge++){let Je=M[ge],nt=X[ge],wt=nt==null?null:s==1?t[ge][nt]:t[ge][1][nt],$e=Z.dataIdx(l,ge,p,ee),lt=$e==null?null:s==1?t[ge][$e]:t[ge][1][$e];if(Zt=Zt||lt!=wt||$e!=nt,X[ge]=$e,ge>0&&Je.show){let Bt=$e==null?-10:$e==p?oe:I(s==1?t[0][$e]:t[ge][0][$e],F,D,0),Rt=lt==null?-10:P(lt,s==1?C[Je.scale]:C[Je.facets[1].scale],O,0);if(Cl&&lt!=null){let Xt=F.ori==1?Ye:Xe,an=ft(mn.dist(l,ge,$e,Rt,Xt));if(an<En){let yn=mn.bias;if(yn!=0){let Ht=bn(Xt,Je.scale),en=lt>=0?1:-1,cn=Ht>=0?1:-1;cn==en&&(cn==1?yn==1?lt>=Ht:lt<=Ht:yn==1?lt<=Ht:lt>=Ht)&&(En=an,Bn=ge)}else En=an,Bn=ge}}if(Zt||kl){let Xt,an;F.ori==0?(Xt=Bt,an=Rt):(Xt=Rt,an=Bt);let yn,Ht,en,cn,xn,Ft,jt=!0,cl=Tt.bbox;if(cl!=null){jt=!1;let It=cl(l,ge);en=It.left,cn=It.top,yn=It.width,Ht=It.height}else en=Xt,cn=an,yn=Ht=Tt.size(l,ge);if(Ft=Tt.fill(l,ge),xn=Tt.stroke(l,ge),kl)ge==Bn&&En<=mn.prox&&(ae=en,ce=cn,De=yn,Ue=Ht,Fe=jt,Ae=Ft,ye=xn);else{let It=Qt[ge];It!=null&&(Dl[ge]=en,Tl[ge]=cn,Ga(It,yn,Ht,jt),Wa(It,Ft,xn),Sn(It,nn(en),nn(cn),J,z))}}}}if(kl){let ge=mn.prox,Je=ol==null?En<=ge:En>ge||Bn!=ol;if(Zt||Je){let nt=Qt[0];nt!=null&&(Dl[0]=ae,Tl[0]=ce,Ga(nt,De,Ue,Fe),Wa(nt,Ae,ye),Sn(nt,nn(ae),nn(ce),J,z))}}}if(qe.show&&Nn)if(o!=null){let[Y,ee]=it.scales,[oe,ae]=it.match,[ce,De]=o.cursor.sync.scales,Ue=o.cursor.drag;if(bt=Ue._x,yt=Ue._y,bt||yt){let{left:Fe,top:Ae,width:ye,height:ge}=o.select,Je=o.scales[ce].ori,nt=o.posToVal,wt,$e,lt,Bt,Rt,Xt=Y!=null&&oe(Y,ce),an=ee!=null&&ae(ee,De);Xt&&bt?(Je==0?(wt=Fe,$e=ye):(wt=Ae,$e=ge),lt=C[Y],Bt=I(nt(wt,ce),lt,D,0),Rt=I(nt(wt+$e,ce),lt,D,0),cs(hn(Bt,Rt),ft(Rt-Bt))):cs(0,D),an&&yt?(Je==1?(wt=Fe,$e=ye):(wt=Ae,$e=ge),lt=C[ee],Bt=P(nt(wt,De),lt,O,0),Rt=P(nt(wt+$e,De),lt,O,0),us(hn(Bt,Rt),ft(Rt-Bt))):us(0,O)}else ni()}else{let Y=ft(No-Vo),ee=ft($o-zo);if(F.ori==1){let De=Y;Y=ee,ee=De}bt=kt.x&&Y>=kt.dist,yt=kt.y&&ee>=kt.dist;let oe=kt.uni;oe!=null?bt&&yt&&(bt=Y>=oe,yt=ee>=oe,!bt&&!yt&&(ee>Y?yt=!0:bt=!0)):kt.x&&kt.y&&(bt||yt)&&(bt=yt=!0);let ae,ce;bt&&(F.ori==0?(ae=Rl,ce=Ye):(ae=Fl,ce=Xe),cs(hn(ae,ce),ft(ce-ae)),yt||us(0,O)),yt&&(F.ori==1?(ae=Rl,ce=Ye):(ae=Fl,ce=Xe),us(hn(ae,ce),ft(ce-ae)),bt||cs(0,D)),!bt&&!yt&&(cs(0,0),us(0,0))}if(kt._x=bt,kt._y=yt,o==null){if(h){if(ea!=null){let[Y,ee]=it.scales;it.values[0]=Y!=null?bn(F.ori==0?Ye:Xe,Y):null,it.values[1]=ee!=null?bn(F.ori==1?Ye:Xe,ee):null}ds(bi,l,Ye,Xe,J,z,p)}if(Cl){let Y=h&&it.setSeries,ee=mn.prox;ol==null?En<=ee&&vn(Bn,Ul,!0,Y):En>ee?vn(null,Ul,!0,Y):Bn!=ol&&vn(Bn,Ul,!0,Y)}}Zt&&(W.idx=p,Xr()),u!==!1&&xt("setCursor")}let Hn=null;Object.defineProperty(l,"rect",{get(){return Hn==null&&fs(!1),Hn}});function fs(o=!1){o?Hn=null:(Hn=w.getBoundingClientRect(),xt("syncRect",Hn))}function jo(o,u,h,p,y,D,O){Z._lock||Nn&&o!=null&&o.movementX==0&&o.movementY==0||(ei(o,u,h,p,y,D,O,!1,o!=null),o!=null?al(null,!0,!0):al(u,!0,!1))}function ei(o,u,h,p,y,D,O,Y,ee){if(Hn==null&&fs(!1),rl(o),o!=null)h=o.clientX-Hn.left,p=o.clientY-Hn.top;else{if(h<0||p<0){Ye=-10,Xe=-10;return}let[oe,ae]=it.scales,ce=u.cursor.sync,[De,Ue]=ce.values,[Fe,Ae]=ce.scales,[ye,ge]=it.match,Je=u.axes[0].side%2==1,nt=F.ori==0?J:z,wt=F.ori==1?J:z,$e=Je?D:y,lt=Je?y:D,Bt=Je?p:h,Rt=Je?h:p;if(Fe!=null?h=ye(oe,Fe)?a(De,C[oe],nt,0):-10:h=nt*(Bt/$e),Ae!=null?p=ge(ae,Ae)?a(Ue,C[ae],wt,0):-10:p=wt*(Rt/lt),F.ori==1){let Xt=h;h=p,p=Xt}}ee&&(u==null||u.cursor.event.type==bi)&&((h<=1||h>=J-1)&&(h=hl(h,J)),(p<=1||p>=z-1)&&(p=hl(p,z))),Y?(Vo=h,zo=p,[Rl,Fl]=Z.move(l,h,p)):(Ye=h,Xe=p)}const ti={width:0,height:0,left:0,top:0};function ni(){Gs(ti,!1)}let Wo,Ko,Go,Yo;function qo(o,u,h,p,y,D,O){Nn=!0,bt=yt=kt._x=kt._y=!1,ei(o,u,h,p,y,D,O,!0,!1),o!=null&&(q(yi,Li,Jo,!1),ds(Va,l,Rl,Fl,J,z,null));let{left:Y,top:ee,width:oe,height:ae}=qe;Wo=Y,Ko=ee,Go=oe,Yo=ae}function Jo(o,u,h,p,y,D,O){Nn=kt._x=kt._y=!1,ei(o,u,h,p,y,D,O,!1,!0);let{left:Y,top:ee,width:oe,height:ae}=qe,ce=oe>0||ae>0,De=Wo!=Y||Ko!=ee||Go!=oe||Yo!=ae;if(ce&&De&&Gs(qe),kt.setScale&&ce&&De){let Ue=Y,Fe=oe,Ae=ee,ye=ae;if(F.ori==1&&(Ue=ee,Fe=ae,Ae=Y,ye=oe),bt&&$n(te,bn(Ue,te),bn(Ue+Fe,te)),yt)for(let ge in C){let Je=C[ge];ge!=te&&Je.from==null&&Je.min!=He&&$n(ge,bn(Ae+ye,ge),bn(Ae,ge))}ni()}else Z.lock&&(Z._lock=!Z._lock,al(u,!0,o!=null));o!=null&&(B(yi,Li),ds(yi,l,Ye,Xe,J,z,null))}function $f(o,u,h,p,y,D,O){if(Z._lock)return;rl(o);let Y=Nn;if(Nn){let ee=!0,oe=!0,ae=10,ce,De;F.ori==0?(ce=bt,De=yt):(ce=yt,De=bt),ce&&De&&(ee=Ye<=ae||Ye>=J-ae,oe=Xe<=ae||Xe>=z-ae),ce&&ee&&(Ye=Ye<Rl?0:J),De&&oe&&(Xe=Xe<Fl?0:z),al(null,!0,!0),Nn=!1}Ye=-10,Xe=-10,X.fill(null),al(null,!0,!0),Y&&(Nn=Y)}function Zo(o,u,h,p,y,D,O){Z._lock||(rl(o),Vr(),ni(),o!=null&&ds($a,l,Ye,Xe,J,z,null))}function Qo(){A.forEach(mm),Or(l.width,l.height,!0)}yl(pr,Gl,Qo);const Ll={};Ll.mousedown=qo,Ll.mousemove=jo,Ll.mouseup=Jo,Ll.dblclick=Zo,Ll.setSeries=(o,u,h,p)=>{let y=it.match[2];h=y(l,u,h),h!=-1&&vn(h,p,!0,!1)},Ee&&(q(Va,w,qo),q(bi,w,jo),q(za,w,o=>{rl(o),fs(!1)}),q(Na,w,$f),q($a,w,Zo),ji.add(l),l.syncRect=fs);const Ys=l.hooks=e.hooks||{};function xt(o,u,h){qr?as.push([o,u,h]):o in Ys&&Ys[o].forEach(p=>{p.call(null,l,u,h)})}(e.plugins||[]).forEach(o=>{for(let u in o.hooks)Ys[u]=(Ys[u]||[]).concat(o.hooks[u])});const Xo=(o,u,h)=>h,it=ot({key:null,setSeries:!1,filters:{pub:Qa,sub:Qa},scales:[te,M[1]?M[1].scale:null],match:[Xa,Xa,Xo],values:[null,null]},Z.sync);it.match.length==2&&it.match.push(Xo),Z.sync=it;const ea=it.key,li=tf(ea);function ds(o,u,h,p,y,D,O){it.filters.pub(o,u,h,p,y,D,O)&&li.pub(o,u,h,p,y,D,O)}li.sub(l);function Bf(o,u,h,p,y,D,O){it.filters.sub(o,u,h,p,y,D,O)&&Ll[o](null,u,h,p,y,D,O)}l.pub=Bf;function Hf(){li.unsub(l),ji.delete(l),ne.clear(),zi(pr,Gl,Qo),f.remove(),me==null||me.remove(),xt("destroy")}l.destroy=Hf;function si(){xt("init",e,t),Ao(t||e.data,!1),E[te]?Jr(te,E[te]):Vr(),$s=qe.show&&(qe.width>0||qe.height>0),sl=Zt=!0,Or(e.width,e.height)}return M.forEach(Eo),A.forEach(wf),n?n instanceof HTMLElement?(n.appendChild(f),si()):n(l,si):si(),l}At.assign=ot;At.fmtNum=vo;At.rangeNum=mr;At.rangeLog=Ar;At.rangeAsinh=po;At.orient=Sl;At.pxRatio=Le;At.join=op;At.fmtDate=yo,At.tzDate=bp;At.sync=tf;{At.addGap=em,At.clipGaps=Fr;let e=At.paths={points:af};e.linear=uf,e.stepped=lm,e.bars=sm,e.spline=im}const vm={class:"absolute top-2 right-2 flex gap-2 z-10"},bm={key:0,class:"bg-blue-600 text-white text-xs px-2 py-1 rounded flex items-center gap-2"},ym={class:"flex items-center gap-2"},xm={class:"grid grid-cols-2 gap-2 mb-3 text-xs"},wm={class:"flex items-center gap-1.5 mb-1.5"},Sm={class:"grid grid-cols-3 gap-2 text-xs"},Cm={class:"text-green-500 font-mono"},km={class:"text-red-500 font-mono"},Dm={class:"text-blue-500 font-mono"},Tm={key:1,class:"absolute inset-0 flex items-center justify-center pointer-events-none"},Mm=ts({__name:"OscilloscopeChart",props:{data:{},dataVersion:{},channels:{},channelCount:{},sampleRate:{},getChartData:{type:Function},getChartDataInRange:{type:Function},getSelectionStats:{type:Function},totalPoints:{},isDark:{type:Boolean}},emits:["selection-change","cursor-values"],setup(e,{expose:t,emit:n}){const l=e,s=n,r=Ce(null),i=ar(null),a=Ce(null),c=Ce(!1),f=Ce(null),d=Ce(null),g=Ce(null),v=Ce({x:8,y:8}),b=Ce(!1),w=Ce({x:0,y:0}),_=P=>{if(!g.value)return;b.value=!0;const E=g.value.getBoundingClientRect();w.value={x:P.clientX-E.left,y:P.clientY-E.top},document.addEventListener("mousemove",U),document.addEventListener("mouseup",L)},U=P=>{var G;if(!b.value||!r.value)return;const E=r.value.getBoundingClientRect(),k=(G=g.value)==null?void 0:G.getBoundingClientRect();if(!k)return;let T=P.clientX-E.left-w.value.x,V=P.clientY-E.top-w.value.y;T=Math.max(0,Math.min(T,E.width-k.width)),V=Math.max(0,Math.min(V,E.height-k.height)),v.value={x:T,y:V}},L=()=>{b.value=!1,document.removeEventListener("mousemove",U),document.removeEventListener("mouseup",L)};let M=null,A=0,C=!1,ie=null,te=null;const pe=ns(()=>{const P=l.totalPoints,E=l.sampleRate,k=33;return E>7500&&P>5e5?50:P>5e5?40:P>2e5?35:P>1e5?k+2:P>5e4?k+1:k}),fe=(P,E)=>{const k=[{label:""}];for(let X=0;X<Math.max(l.channelCount,1);X++){const W=l.channels[X],Z=(W==null?void 0:W.color)||ml[X%ml.length],we=(W==null?void 0:W.visible)??!0;k.push({label:(W==null?void 0:W.name)||` ${X+1}`,stroke:Z,width:1.5,show:we,spanGaps:!0})}const T=l.isDark,V=T?"#888":"#333",G=T?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)",le=T?"#666":"#888";return{width:P,height:E,series:k,scales:{x:{time:!1},y:{auto:!0}},axes:[{stroke:V,grid:{stroke:G,width:1},ticks:{stroke:le,width:1},font:"11px system-ui",labelFont:"12px system-ui"},{stroke:V,grid:{stroke:G,width:1},ticks:{stroke:le,width:1},font:"11px system-ui",labelFont:"12px system-ui"}],cursor:{show:!0,drag:{x:!0,y:!0,setScale:!1},focus:{prox:30},points:{size:6,fill:(X,W)=>X.series[W].stroke}},select:{show:!0,left:0,top:0,width:0,height:0},legend:{show:!0},hooks:{setSelect:[X=>{const W=X.select.left,Z=X.select.width;if(Z>10){const we=X.posToVal(W,"x"),Ee=X.posToVal(W+Z,"x"),Te=Math.max(0,Math.floor(we)),me=Math.min(l.totalPoints-1,Math.ceil(Ee));if(me>Te){const rt=l.getSelectionStats(Te,me);a.value=rt,s("selection-change",rt),f.value={start:Te,end:me},c.value=!0}}X.setSelect({left:0,top:0,width:0,height:0},!1)}],setCursor:[X=>{const W=X.cursor.idx;if(W!=null&&W>=0&&X.data&&X.data[0]&&W<X.data[0].length){const Z=[];for(let we=1;we<X.data.length;we++)Z.push(X.data[we][W]);d.value=Math.round(X.data[0][W]),s("cursor-values",Z,d.value)}else d.value=null,s("cursor-values",null,null)}]}}},ve=()=>{if(!r.value)return;const P=r.value.getBoundingClientRect(),E=P.width||800,k=P.height||400,T=[[0]];for(let G=0;G<Math.max(l.channelCount,1);G++)T.push([0]);const V=fe(E,k);i.value=new At(V,T,r.value)},j=()=>{if(!i.value||C){M=requestAnimationFrame(j);return}const P=performance.now();if(P-A<pe.value){M=requestAnimationFrame(j);return}A=P,C=!0;try{let E;if(c.value&&f.value?E=l.getChartDataInRange(f.value.start,f.value.end):E=l.getChartData(),!E||E.length===0||E[0].length===0){if(i.value){const T=[[]];for(let V=0;V<l.channelCount;V++)T.push([]);i.value.setData(T)}M=requestAnimationFrame(j),C=!1;return}const k=l.channelCount+1;if(i.value.series.length!==k){Q(),ve(),M=requestAnimationFrame(j),C=!1;return}l.channels.forEach((T,V)=>{const G=V+1;i.value&&i.value.series[G]&&i.value.series[G].show!==T.visible&&i.value.setSeries(G,{show:T.visible})}),i.value.setData(E)}finally{C=!1}M=requestAnimationFrame(j)},F=()=>{c.value=!1,f.value=null,a.value=null,s("selection-change",null)},Q=()=>{M&&(cancelAnimationFrame(M),M=null),i.value&&(i.value.destroy(),i.value=null)},I=()=>{te&&clearTimeout(te),te=setTimeout(()=>{if(!r.value||!i.value)return;const P=r.value.getBoundingClientRect(),E=Math.max(100,Math.floor(P.width)),k=Math.max(100,Math.floor(P.height));if(E>0&&k>0){const T=i.value.width,V=i.value.height;(Math.abs(T-E)>1||Math.abs(V-k)>1)&&i.value.setSize({width:E,height:k})}},100)};return dt(()=>l.channelCount,(P,E)=>{P!==E&&P>0&&(Q(),ve(),M=requestAnimationFrame(j))}),dt(()=>l.isDark,async()=>{i.value&&(Q(),await ve(),M=requestAnimationFrame(j))}),dt(()=>l.channels,()=>{if(c.value&&f.value){const P=l.getSelectionStats(f.value.start,f.value.end);a.value=P,s("selection-change",P)}},{deep:!0}),oo(()=>{ve(),M=requestAnimationFrame(j),r.value&&(ie=new ResizeObserver(()=>{I()}),ie.observe(r.value)),window.addEventListener("resize",I)}),Dr(()=>{Q(),ie&&(ie.disconnect(),ie=null),te&&(clearTimeout(te),te=null),window.removeEventListener("resize",I),document.removeEventListener("mousemove",U),document.removeEventListener("mouseup",L)}),t({resetZoom:F}),(P,E)=>{var k,T,V;return be(),xe("div",{class:H(["w-full h-full rounded-lg overflow-hidden relative",e.isDark?"bg-gray-800":"bg-white"])},[S("div",{ref_key:"chartContainer",ref:r,class:H(["w-full h-full",e.isDark?"dark-chart":"light-chart"]),onDblclick:E[0]||(E[0]=G=>c.value&&F()),title:""},null,34),S("div",vm,[c.value?(be(),xe("div",bm,[S("span",null,": "+Se((k=f.value)==null?void 0:k.start)+" - "+Se((T=f.value)==null?void 0:T.end),1),S("button",{class:"hover:bg-blue-500 rounded px-1",onClick:F,title:""},[...E[1]||(E[1]=[S("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)])])])):st("",!0),e.totalPoints>1e5?(be(),xe("div",{key:1,class:H(["text-xs px-2 py-1 rounded",e.isDark?"bg-yellow-600 text-white":"bg-yellow-200 text-yellow-800"]),title:""},Se((e.totalPoints/1e3).toFixed(0))+"K  ",3)):st("",!0)]),a.value?(be(),xe("div",{key:0,ref_key:"panelRef",ref:g,class:H(["absolute backdrop-blur rounded-lg p-3 z-10 border max-h-[80%] overflow-y-auto shadow-xl",e.isDark?"bg-gray-900/95 border-gray-700":"bg-white/98 border-gray-400 shadow-lg",{"cursor-grabbing":b.value}]),style:xl({left:v.value.x+"px",top:v.value.y+"px",minWidth:"200px",maxWidth:"280px"})},[S("div",{class:H(["flex items-center justify-between mb-2 select-none cursor-grab",{"cursor-grabbing":b.value}]),onMousedown:_},[S("div",ym,[(be(),xe("svg",{class:H(["w-4 h-4",e.isDark?"text-gray-500":"text-gray-600"]),fill:"currentColor",viewBox:"0 0 24 24"},[...E[2]||(E[2]=[S("path",{d:"M8 6a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 18a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM14 6a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM14 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM14 18a2 2 0 1 1-4 0 2 2 0 0 1 4 0z"},null,-1)])],2)),S("h3",{class:H(["text-sm font-semibold",e.isDark?"text-white":"text-gray-900"])},"",2)]),S("button",{class:H(["p-1",e.isDark?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"]),onClick:ir(F,["stop"])},[...E[3]||(E[3]=[S("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],2)],34),S("div",xm,[S("div",null,[S("span",{class:H(e.isDark?"text-gray-500":"text-gray-600")},"",2),S("div",{class:H(["font-mono",e.isDark?"text-white":"text-gray-900"])},Se((V=a.value.pointCount)==null?void 0:V.toLocaleString()),3)]),S("div",null,[S("span",{class:H(e.isDark?"text-gray-500":"text-gray-600")},"",2),S("div",{class:H(["font-mono",e.isDark?"text-white":"text-gray-900"])},Se(he(Ph)(a.value.duration)),3)]),S("div",null,[S("span",{class:H(e.isDark?"text-gray-500":"text-gray-600")},"",2),S("div",{class:H(["font-mono",e.isDark?"text-white":"text-gray-900"])},Se(he(Mt)(a.value.frequency,0))+"Hz",3)]),S("div",null,[S("span",{class:H(e.isDark?"text-gray-500":"text-gray-600")},"",2),S("div",{class:H(["font-mono text-xs",e.isDark?"text-white":"text-gray-900"])},Se(a.value.startIndex)+"-"+Se(a.value.endIndex),3)])]),S("div",{class:H(["border-t pt-2 space-y-2",e.isDark?"border-gray-700":"border-gray-300"])},[(be(!0),xe(Dt,null,ql(a.value.channels,G=>{var le,X;return be(),xe("div",{key:G.id,class:H(["rounded p-2 border",e.isDark?"bg-gray-800 border-gray-700":"bg-gray-50 border-gray-300 shadow-sm"])},[S("div",wm,[S("span",{class:"w-2 h-2 rounded-full flex-shrink-0",style:xl({backgroundColor:((le=e.channels[G.id])==null?void 0:le.color)||he(ml)[G.id%he(ml).length]})},null,4),S("span",{class:H(["text-xs font-medium truncate",e.isDark?"text-gray-300":"text-gray-800"])},Se(((X=e.channels[G.id])==null?void 0:X.name)||` ${G.id+1}`),3)]),S("div",Sm,[S("div",null,[S("div",{class:H((e.isDark,"text-gray-600"))},"",2),S("div",Cm,Se(he(Mt)(G.min)),1)]),S("div",null,[S("div",{class:H((e.isDark,"text-gray-600"))},"",2),S("div",km,Se(he(Mt)(G.max)),1)]),S("div",null,[S("div",{class:H((e.isDark,"text-gray-600"))},"",2),S("div",Dm,Se(he(Mt)(G.avg)),1)])])],2)}),128))],2)],6)):st("",!0),e.totalPoints===0?(be(),xe("div",Tm,[S("div",{class:H(["text-center",e.isDark?"text-gray-500":"text-gray-400"])},[E[4]||(E[4]=S("svg",{class:"w-16 h-16 mx-auto mb-4 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)),E[5]||(E[5]=S("p",null,"...",-1)),E[6]||(E[6]=S("p",{class:"text-sm mt-2"},"",-1)),S("p",{class:H(["text-xs mt-3",e.isDark?"text-gray-600":"text-gray-500"])},": ",2)],2)])):st("",!0),e.totalPoints>0&&!a.value?(be(),xe("div",{key:2,class:H(["absolute bottom-2 left-2 text-xs",e.isDark?"text-gray-500":"text-gray-400"])},"  ",2)):st("",!0)],2)}}}),Em=(e,t)=>{const n=e.__vccOpts||e;for(const[l,s]of t)n[l]=s;return n},_m=Em(Mm,[["__scopeId","data-v-6eb9f699"]]),Am={class:"flex items-center gap-4"},Pm={class:"flex items-center gap-1.5"},Rm={key:0,class:"text-red-400 ml-1"},Fm={key:0},Im=ts({__name:"StatusBar",props:{status:{},errorMessage:{},sampleRate:{},totalPoints:{},frameCount:{},channelCount:{},isDark:{type:Boolean}},setup(e){const t={disconnected:"text-gray-500",connecting:"text-yellow-400",connected:"text-green-400",error:"text-red-400"},n={disconnected:"",connecting:"",connected:"",error:""};return(l,s)=>(be(),xe("footer",{class:H(["border-t px-4 py-2 flex items-center justify-between text-xs",e.isDark?"bg-gray-800 border-gray-700":"bg-gray-100 border-gray-300"])},[S("div",Am,[S("div",Pm,[S("span",{class:H(["w-1.5 h-1.5 rounded-full",t[e.status].replace("text-","bg-")])},null,2),S("span",{class:H(t[e.status])},Se(n[e.status]),3),e.errorMessage?(be(),xe("span",Rm,"- "+Se(e.errorMessage),1)):st("",!0)]),e.channelCount>0?(be(),xe("div",{key:0,class:H(e.isDark?"text-gray-400":"text-gray-600")},[s[0]||(s[0]=dn(" : ",-1)),S("span",{class:H(e.isDark?"text-gray-300":"text-gray-700")},Se(e.channelCount),3)],2)):st("",!0)]),S("div",{class:H(["flex items-center gap-3",e.isDark?"text-gray-500":"text-gray-600"])},[S("a",{href:"mailto:createskyblue@outlook.com",class:H(["flex items-center gap-1",e.isDark?"hover:text-gray-300":"hover:text-gray-800"]),title:""},[...s[1]||(s[1]=[S("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1),S("span",{class:"hidden sm:inline"},"createskyblue@outlook.com",-1)])],2),S("a",{href:"https://github.com/createskyblue/justfloat-web-oscilloscope",target:"_blank",rel:"noopener noreferrer",class:H(["flex items-center gap-1",e.isDark?"hover:text-gray-300":"hover:text-gray-800"]),title:"GitHub Pages"},[...s[2]||(s[2]=[S("svg",{class:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 24 24"},[S("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z"})],-1),S("span",{class:"hidden sm:inline"},"GitHub",-1)])],2)],2),S("div",{class:H(["flex items-center gap-4",e.isDark?"text-gray-400":"text-gray-600"])},[e.sampleRate>0?(be(),xe("div",Fm,[s[3]||(s[3]=dn(" : ",-1)),S("span",{class:H(["font-mono",e.isDark?"text-gray-300":"text-gray-700"])},Se(he(Rh)(e.sampleRate)),3)])):st("",!0),S("div",null,[s[4]||(s[4]=dn(" : ",-1)),S("span",{class:H(["font-mono",e.isDark?"text-gray-300":"text-gray-700"])},Se(he(Ia)(e.totalPoints)),3)]),S("div",null,[s[5]||(s[5]=dn(" : ",-1)),S("span",{class:H(["font-mono",e.isDark?"text-gray-300":"text-gray-700"])},Se(he(Ia)(e.frameCount)),3)])],2)],2))}});function Um(){const e=Ce("disconnected"),t=Ce(""),n=ar(null),l=ar(null);let s=null,r=!1,i=null;const a=()=>"serial"in navigator,c=async(b=115200)=>{if(!a())return e.value="error",t.value=" Web Serial API Chrome  Edge ",!1;n.value&&await d();try{return e.value="connecting",t.value="",n.value=await navigator.serial.requestPort(),await n.value.open({baudRate:b,dataBits:8,stopBits:1,parity:"none",flowControl:"none",bufferSize:4096}),e.value="connected",i=f(),!0}catch(w){return e.value="error",w instanceof Error?w.name==="NotFoundError"?t.value="":w.name==="InvalidStateError"?t.value="":t.value=w.message:t.value="",n.value=null,!1}},f=async()=>{var b,w;if(!(!((b=n.value)!=null&&b.readable)||r)){r=!0;try{for(;r&&((w=n.value)!=null&&w.readable);){l.value=n.value.readable.getReader();try{for(;r;){const{value:_,done:U}=await l.value.read();if(U)break;_&&s&&s(_)}}finally{l.value.releaseLock(),l.value=null}}}catch(_){r&&(console.error(":",_),e.value="error",t.value=_ instanceof Error?_.message:"")}r=!1}},d=async()=>{r=!1;try{if(l.value){try{await l.value.cancel()}catch{}try{l.value.releaseLock()}catch{}l.value=null}if(i){try{await Promise.race([i,new Promise(b=>setTimeout(b,500))])}catch{}i=null}if(n.value){try{await n.value.close()}catch(b){console.warn(":",b)}n.value=null}}catch(b){console.error(":",b)}e.value="disconnected",t.value=""};return{status:e,errorMessage:t,isSupported:a,connect:c,disconnect:d,onData:b=>{s=b},getPortInfo:()=>n.value?n.value.getInfo():null}}function Lm(){const e=Ce("disconnected"),t=Ce("");let n=null,l=null;const s=()=>!0,r=async f=>(n&&await i(),new Promise(d=>{try{e.value="connecting",t.value="",n=new WebSocket(f),n.binaryType="arraybuffer",n.onopen=()=>{e.value="connected",d(!0)},n.onmessage=g=>{if(l){if(g.data instanceof ArrayBuffer)l(new Uint8Array(g.data));else if(typeof g.data=="string"){const v=new TextEncoder;l(v.encode(g.data))}}},n.onerror=()=>{e.value="error",t.value="WebSocket ",d(!1)},n.onclose=g=>{e.value==="connected"&&(e.value="disconnected",t.value=g.wasClean?"":""),n=null}}catch(g){e.value="error",t.value=g instanceof Error?g.message:"",n=null,d(!1)}})),i=async()=>{if(n){try{n.close(1e3,"User disconnect")}catch{}n=null}e.value="disconnected",t.value=""};return{status:e,errorMessage:t,isSupported:s,connect:r,disconnect:i,onData:f=>{l=f},send:f=>n&&n.readyState===WebSocket.OPEN?(n.send(f),!0):!1}}function Om(){const e=Ce("disconnected"),t=Ce("");let n=null,l=null,s=null;const r=()=>"bluetooth"in navigator,i=async b=>{if(!r())return e.value="error",t.value=" Web Bluetooth API Chrome  Edge ",!1;n&&await d();try{e.value="connecting",t.value="";const w=wc(b.serviceUUID),_=wc(b.characteristicUUID);if(!w||!_)throw new Error(" UUID ");if(n=await navigator.bluetooth.requestDevice({filters:[{services:[w]}],optionalServices:[w]}),!n.gatt)throw new Error(" GATT");return n.addEventListener("gattserverdisconnected",c),l=await(await(await n.gatt.connect()).getPrimaryService(w)).getCharacteristic(_),await l.startNotifications(),l.addEventListener("characteristicvaluechanged",a),e.value="connected",!0}catch(w){return e.value="error",w instanceof Error?w.name==="NotFoundError"?t.value="":w.name==="SecurityError"?t.value="":w.name==="NetworkError"?t.value="":t.value=w.message:t.value="",n=null,l=null,!1}},a=b=>{const w=b.target;w.value&&s&&s(new Uint8Array(w.value.buffer))},c=()=>{e.value==="connected"&&(e.value="disconnected",t.value=""),f()},f=()=>{if(l){try{l.removeEventListener("characteristicvaluechanged",a)}catch{}l=null}if(n){try{n.removeEventListener("gattserverdisconnected",c)}catch{}n=null}},d=async()=>{var b;try{if(l)try{await l.stopNotifications()}catch{}(b=n==null?void 0:n.gatt)!=null&&b.connected&&n.gatt.disconnect()}catch(w){console.warn(":",w)}f(),e.value="disconnected",t.value=""};return{status:e,errorMessage:t,isSupported:r,connect:i,disconnect:d,onData:b=>{s=b},getDeviceInfo:()=>n?{name:n.name||"",id:n.id}:null}}function wc(e){return e?(e=e.trim().toLowerCase(),/^(0x)?[0-9a-f]{4}$/i.test(e)?`0000${e.replace(/^0x/,"")}-0000-1000-8000-00805f9b34fb`:/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e)?e:/^[0-9a-f]{32}$/i.test(e)?`${e.slice(0,8)}-${e.slice(8,12)}-${e.slice(12,16)}-${e.slice(16,20)}-${e.slice(20)}`:null):null}function Vm(){const e=Ce(0),t=Ce(0),n=Ce("justfloat");let l=[],s=0,r=-1,i=0,a="",c=new TextDecoder,f=null,d=null;const g=100,v=16;let b=[],w=null;const _=()=>{if(w&&(clearTimeout(w),w=null),b.length===0)return;const k=b;if(b=[],d)d(k);else if(f)for(const T of k)f(T)},U=()=>{w&&clearTimeout(w),w=setTimeout(_,v)},L=k=>{b.push(k),t.value++,(k.length>e.value||e.value===0)&&(e.value=k.length),b.length>=g?_():U()},M=()=>{if(l.length<4)return!1;const k=l.length-4;return l[k]===Qs[0]&&l[k+1]===Qs[1]&&l[k+2]===Qs[2]&&l[k+3]===Qs[3]},A=(k,T)=>{const V=T-k;return!(V%4!==0||V===0||V<4||V>256)},C=k=>{const T=[],V=new DataView(new ArrayBuffer(4));for(let G=0;G<k.length;G+=4)V.setUint8(0,k[G]),V.setUint8(1,k[G+1]),V.setUint8(2,k[G+2]),V.setUint8(3,k[G+3]),T.push(V.getFloat32(0,!0));return T},ie=k=>{for(let T=0;T<k.length;T++)switch(l.push(k[T]),l.length>1e5&&(l=l.slice(-5e4),s=0,r=-1),s){case 0:M()&&(r=l.length-4,s=1);break;case 1:if(M()){const V=l.length-4,G=r+4,le=V;if(A(G,le)){const X=l.slice(G,le),W=C(X);if(i>0&&W.length!==i){s=0,r=-1;break}W.length>0&&(i===0&&(i=W.length),L(W))}else break;l=l.slice(V),r=0}break}},te=k=>{a+=c.decode(k,{stream:!0}),a.length>1e5&&(a=a.slice(-5e4));let T;for(;(T=pe(a))!==-1;){const V=a.substring(0,T).trim();if(a=a.substring(T+1),!V)continue;const G=fe(V);G&&G.length>0&&L(G)}},pe=k=>{for(let T=0;T<k.length;T++)if(k[T]===`
`||k[T]==="\r")return T+1<k.length&&(k[T+1]===`
`||k[T+1]==="\r")&&k[T+1]!==k[T]?T+1:T;return-1},fe=k=>{if(k.toLowerCase().startsWith("image"))return null;let T=k;const V=k.indexOf(":");V!==-1&&(T=k.substring(V+1));const G=T.split(","),le=[];for(const X of G){const W=X.trim();if(W==="")continue;const Z=parseFloat(W);if(isFinite(Z))le.push(Z);else return null}return le.length>0?le:null},ve=k=>{n.value==="justfloat"?ie(k):te(k)},j=k=>{f=k},F=k=>{d=k},Q=k=>{n.value!==k&&(n.value=k,I())},I=()=>{w&&(clearTimeout(w),w=null),b=[],l=[],s=0,r=-1,i=0,a="",c=new TextDecoder};return{channelCount:e,frameCount:t,currentProtocol:n,processData:ve,onFrame:j,onFramesBatch:F,setProtocol:Q,reset:I,fullReset:()=>{I(),e.value=0,t.value=0},setChannelCount:k=>{e.value=k}}}class zm{constructor(t){Ol(this,"buffer");Ol(this,"head",0);Ol(this,"tail",0);Ol(this,"_size",0);Ol(this,"capacity");this.capacity=t,this.buffer=new Array(t)}push(t){this.buffer[this.tail]=t,this.tail=(this.tail+1)%this.capacity,this._size<this.capacity?this._size++:this.head=(this.head+1)%this.capacity}pushBatch(t){for(const n of t)this.push(n)}get size(){return this._size}get(t){if(!(t<0||t>=this._size))return this.buffer[(this.head+t)%this.capacity]}getRange(t,n){const l=[],s=Math.min(n,this._size-1);for(let r=t;r<=s;r++){const i=this.get(r);i&&l.push(i)}return l}toArray(){const t=new Array(this._size);for(let n=0;n<this._size;n++)t[n]=this.buffer[(this.head+n)%this.capacity];return t}clear(){this.head=0,this.tail=0,this._size=0}resize(t){if(t===this.capacity)return;const n=this.toArray().slice(-t);this.capacity=t,this.buffer=new Array(t),this.head=0,this.tail=0,this._size=0;for(const l of n)this.push(l)}}function Nm(e=1e4){const t=Ce(Math.max(_s,Math.min(As,e))),n=new zm(t.value),l=Ce(0),s=ar([]),r=Ce(0);let i=new Map;const a=100;let c=0,f=0,d=!1;const g=()=>{d||(d=!0,queueMicrotask(()=>{l.value++,d=!1}))},v=ns(()=>(l.value,n.size)),b=j=>{const F=performance.now(),Q={timestamp:F,values:j};f===0&&(f=F,c=0),c++;const I=F-f;I>=1e3&&(r.value=Math.round(c/(I/1e3)),f=F,c=0),n.push(Q),g()},w=j=>{if(j.length===0)return;const F=performance.now(),I=1e3/(r.value>0?r.value:1),P=j.map((k,T)=>({timestamp:F+T*I,values:k}));f===0&&(f=F,c=0),c+=j.length;const E=F-f;E>=1e3&&(r.value=Math.round(c/(E/1e3)),f=F,c=0),n.pushBatch(P),g()},_=(j,F=1)=>{const Q=performance.now(),I=n.size;if(I===0)return null;const P=i.get(j);if(P&&Q-P.timestamp<a)return{min:P.stats.min*F,max:P.stats.max*F,avg:P.stats.avg*F,current:P.stats.current*F};let E=1/0,k=-1/0,T=0,V=0,G=0;const le=I>5e4?Math.ceil(I/1e4):1;for(let Z=0;Z<I;Z+=le){const we=n.get(Z);if(we&&j<we.values.length){const Ee=we.values[j];isFinite(Ee)&&(E=Math.min(E,Ee),k=Math.max(k,Ee),T+=Ee,V++)}}const X=n.get(I-1);if(X&&j<X.values.length&&(G=X.values[j]),V===0)return null;const W={min:E,max:k,avg:T/V,current:G};return i.set(j,{stats:W,timestamp:Q}),{min:W.min*F,max:W.max*F,avg:W.avg*F,current:W.current*F}},U=(j,F,Q,I=[])=>{const P=n.getRange(j,F);if(P.length<2)return null;const E=P.length,k=r.value>0?r.value:1,T=E/k*1e3,V=1e3/T,G=[];for(let le=0;le<Q;le++){let X=1/0,W=-1/0,Z=0,we=0;const Ee=I[le]??1;for(const Te of P)if(le<Te.values.length){const me=Te.values[le];isFinite(me)&&(X=Math.min(X,me),W=Math.max(W,me),Z+=me,we++)}G.push({id:le,min:(we>0?X:0)*Ee,max:(we>0?W:0)*Ee,avg:(we>0?Z/we:0)*Ee})}return{startIndex:j,endIndex:F,pointCount:E,duration:T,frequency:V,channels:G}},L=(j,F=[])=>{l.value;const Q=n.size;if(Q===0)return null;let I;Q>5e5?I=5e3:Q>2e5?I=1e4:Q>1e5?I=2e4:Q>5e4?I=3e4:I=Q;const P=Q>I,E=P?Math.ceil(Q/I):1,k=P?Math.ceil(Q/E):Q,T=new Float64Array(k),V=[];for(let G=0;G<j;G++)V.push(new Float64Array(k));if(P&&Q>1e5){let G=0;for(let le=0;le<Q&&G<k;le+=E){const X=Math.min(le+E,Q);let W=le,Z=0;for(let Ee=le;Ee<X;Ee++){const Te=n.get(Ee);if(Te)for(let me=0;me<j;me++){const rt=me<Te.values.length?Te.values[me]:0,ct=Math.abs(rt);ct>Z&&(Z=ct,W=Ee)}}const we=n.get(W);if(we){T[G]=W;for(let Ee=0;Ee<j;Ee++){const Te=Ee<we.values.length?we.values[Ee]:0,me=F[Ee]??1;V[Ee][G]=Te*me}G++}}if(G<k)return[T.slice(0,G),...V.map(le=>le.slice(0,G))]}else{let G=0;for(let le=0;le<Q&&G<k;le+=E){const X=n.get(le);if(X){T[G]=le;for(let W=0;W<j;W++){const Z=W<X.values.length?X.values[W]:0,we=F[W]??1;V[W][G]=Z*we}G++}}}return[T,...V]},M=(j,F,Q,I=[])=>{const P=F-j+1;if(P<=0)return null;const E=Math.min(P,5e4),k=P>E?Math.ceil(P/E):1,T=Math.ceil(P/k),V=new Float64Array(T),G=[];for(let X=0;X<Q;X++)G.push(new Float64Array(T));let le=0;for(let X=j;X<=F&&le<T;X+=k){const W=n.get(X);if(W){V[le]=X;for(let Z=0;Z<Q;Z++){const we=Z<W.values.length?W.values[Z]:0,Ee=I[Z]??1;G[Z][le]=we*Ee}le++}}return[V.slice(0,le),...G.map(X=>X.slice(0,le))]},A=()=>{n.clear(),i.clear(),s.value=[],l.value++,r.value=0,c=0,f=0};return{bufferSize:t,data:s,dataVersion:l,sampleRate:r,totalPoints:v,addFrame:b,addFrames:w,getChannelStats:_,getSelectionStats:U,getChartData:L,getChartDataInRange:M,getDataSize:()=>n.size,clear:A,setBufferSize:j=>{const F=Math.max(_s,Math.min(As,j));t.value=F,n.resize(F),l.value++},importData:j=>{A();const F=j.slice(-t.value);for(const Q of F)n.push(Q);l.value++},exportData:()=>{const j=n.size;if(j===0)return[];const F=n.get(0);if(!F)return[];const Q=F.values.length,I=[];for(let P=0;P<Q;P++)I[P]=[];for(let P=0;P<j;P++){const E=n.get(P);if(E)for(let k=0;k<Q;k++)I[k].push(k<E.values.length?E.values[k]:0)}return I},importChannels:(j,F,Q)=>{if(console.log("[importChannels] "),console.log("[importChannels] :",F),console.log("[importChannels] :",t.value),console.log("[importChannels] :",j.length),A(),j.length===0){console.error("[importChannels] ");return}const I=j[0].length,P=Math.min(I,t.value);console.log("[importChannels] :",I,":",P);for(let E=0;E<P;E++){const k=[];for(let T=0;T<F;T++){const V=T<j.length?j[T][E]??0:0;k.push(V)}b(k)}Q&&Q>0&&(r.value=Q),console.log("[importChannels] :",n.size,":",r.value)},setSampleRate:j=>{r.value=j}}}function $m(){const e=Ce([]),t=b=>({id:b,name:` ${b+1}`,unit:"",coefficient:1,visible:!0,color:ml[b%ml.length]}),n=b=>{if(b<=0)return;const w=e.value;if(w.length<b){const _=[...w];for(let U=w.length;U<b;U++)_.push(t(U));e.value=_}else w.length>b},l=(b,w)=>{const _=e.value.findIndex(U=>U.id===b);if(_!==-1){const U=[...e.value];U[_]={...U[_],...w},e.value=U}};return{channels:e,ensureChannels:n,updateChannel:l,toggleVisibility:b=>{var w;l(b,{visible:!((w=e.value.find(_=>_.id===b))!=null&&w.visible)})},setName:(b,w)=>{l(b,{name:w})},setUnit:(b,w)=>{l(b,{unit:w})},setCoefficient:(b,w)=>{l(b,{coefficient:w})},getVisibleChannels:()=>e.value.filter(b=>b.visible),getColors:()=>e.value.map(b=>b.color),getCoefficients:()=>e.value.map(b=>b.coefficient),resetChannels:()=>{e.value=e.value.map((b,w)=>t(w))},loadChannels:b=>{e.value=b.map((w,_)=>({...t(_),...w,id:_}))}}}const ki="justfloat-oscilloscope-config";function Bm(){const e=()=>{try{const s=localStorage.getItem(ki);if(s){const r=JSON.parse(s);return{...mi,...r,bufferSize:Math.max(1e3,r.bufferSize||mi.bufferSize)}}}catch(s){console.error(":",s)}return{...mi}},t=s=>{try{localStorage.setItem(ki,JSON.stringify(s))}catch(r){console.error(":",r)}};return{loadConfig:e,saveConfig:t,clearConfig:()=>{try{localStorage.removeItem(ki)}catch(s){console.error(":",s)}},createReactiveConfig:()=>{const s=Ce(e());return dt(s,r=>{t(r)},{deep:!0}),s}}}const Hm={class:"flex-1 flex overflow-hidden"},jm={class:"flex-1 min-w-0 p-4"},Wm=ts({__name:"App",setup(e){const{loadConfig:t,saveConfig:n}=Bm(),l=t(),s=Um(),r=Lm(),i=Om(),a=Vm(),c=Nm(l.bufferSize),f=$m();l.channels.length>0&&f.loadChannels(l.channels);const d=Ce(l.isDark??!0);oo(()=>{g()});const g=()=>{d.value?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},v=()=>{d.value=!d.value,g()},b=Ce(l.baudRate),w=Ce(l.bufferSize),_=Ce(l.protocol||"justfloat"),U=Ce(l.connectionType||"serial"),L=Ce(l.wsUrl||"ws://localhost:8080"),M=Ce(l.btServiceUUID||"ffe0"),A=Ce(l.btCharacteristicUUID||"ffe1"),C=ns(()=>{switch(U.value){case"websocket":return r;case"bluetooth":return i;default:return s}}),ie=Ce(null),te=Ce(null);a.setProtocol(_.value);const pe=async()=>{const I=C.value;I.status.value==="connected"?(await I.disconnect(),a.reset()):U.value==="websocket"?await r.connect(L.value):U.value==="bluetooth"?await i.connect({serviceUUID:M.value,characteristicUUID:A.value}):await s.connect(b.value)},fe=I=>{a.processData(I)};s.onData(fe),r.onData(fe),i.onData(fe),a.onFramesBatch(I=>{c.addFrames(I)}),dt(()=>a.channelCount.value,I=>{I>0&&f.ensureChannels(I)}),dt([b,w,_,U,L,M,A,()=>f.channels.value],()=>{const I={baudRate:b.value,bufferSize:w.value,protocol:_.value,connectionType:U.value,wsUrl:L.value,btServiceUUID:M.value,btCharacteristicUUID:A.value,channels:f.channels.value,isDark:d.value};n(I)},{deep:!0}),dt(_,I=>{a.setProtocol(I)}),dt(w,I=>{c.setBufferSize(I)});const ve=()=>{c.clear(),a.fullReset(),ie.value=null,te.value=null},j=(I,P)=>{ie.value=I,te.value=P},F=()=>{const I={config:{baudRate:b.value,bufferSize:w.value,protocol:_.value,connectionType:U.value,wsUrl:L.value,btServiceUUID:M.value,btCharacteristicUUID:A.value,channels:f.channels.value},channels:c.exportData(),sampleRate:c.sampleRate.value,exportTime:new Date().toISOString()},P=`oscilloscope-${new Date().toISOString().slice(0,19).replace(/:/g,"-")}.json`;Fh(I,P)},Q=async()=>{const I=document.createElement("input");I.type="file",I.accept=".json",I.onchange=async P=>{var k,T;const E=(k=P.target.files)==null?void 0:k[0];if(E)try{console.log(":",E.name);const V=await Ih(E);if(console.log(":",V),V.config&&(console.log(":",V.config),b.value=V.config.baudRate,w.value=V.config.bufferSize,V.config.channels&&f.loadChannels(V.config.channels)),V.channels&&V.channels.length>0){console.log(":",V.channels.length),console.log(":",(T=V.channels[0])==null?void 0:T.length),console.log(":",V.sampleRate);const G=V.channels.length;a.setChannelCount(G),f.ensureChannels(G),c.importChannels(V.channels,G,V.sampleRate),console.log(":",c.totalPoints.value),alert(" "+c.totalPoints.value+" ")}else console.error(""),alert("")}catch(V){console.error(":",V),alert(": "+V.message)}},I.click()};return vs("serial",s),vs("parser",a),vs("buffer",c),vs("channelConfig",f),Dr(()=>{s.disconnect(),r.disconnect(),i.disconnect()}),(I,P)=>(be(),xe("div",{class:H(["h-screen flex flex-col",d.value?"bg-gray-900":"bg-white"])},[Yt(Ah,{status:C.value.status.value,"is-supported":U.value==="websocket"||(U.value==="bluetooth"?he(i).isSupported():he(s).isSupported()),"connection-type":U.value,"ws-url":L.value,"bt-service-u-u-i-d":M.value,"bt-characteristic-u-u-i-d":A.value,"baud-rate":b.value,"is-dark":d.value,onConnect:pe,onClear:ve,onExport:F,onImport:Q,onToggleTheme:v,"onUpdate:connectionType":P[0]||(P[0]=E=>U.value=E),"onUpdate:wsUrl":P[1]||(P[1]=E=>L.value=E),"onUpdate:btServiceUUID":P[2]||(P[2]=E=>M.value=E),"onUpdate:btCharacteristicUUID":P[3]||(P[3]=E=>A.value=E),"onUpdate:baudRate":P[4]||(P[4]=E=>b.value=E)},null,8,["status","is-supported","connection-type","ws-url","bt-service-u-u-i-d","bt-characteristic-u-u-i-d","baud-rate","is-dark"]),S("div",Hm,[Yt(wg,{"buffer-size":w.value,"onUpdate:bufferSize":P[5]||(P[5]=E=>w.value=E),protocol:_.value,"onUpdate:protocol":P[6]||(P[6]=E=>_.value=E),channels:he(f).channels.value,"channel-count":he(a).channelCount.value,"cursor-values":ie.value,"cursor-index":te.value,"get-channel-stats":E=>{var k;return he(c).getChannelStats(E,((k=he(f).channels.value[E])==null?void 0:k.coefficient)??1)},"is-dark":d.value,onUpdateChannel:he(f).updateChannel,onToggleVisibility:he(f).toggleVisibility},null,8,["buffer-size","protocol","channels","channel-count","cursor-values","cursor-index","get-channel-stats","is-dark","onUpdateChannel","onToggleVisibility"]),S("div",jm,[Yt(_m,{data:he(c).data.value,"data-version":he(c).dataVersion.value,channels:he(f).channels.value,"channel-count":he(a).channelCount.value,"sample-rate":he(c).sampleRate.value,"total-points":he(c).totalPoints.value,"get-chart-data":()=>he(c).getChartData(he(a).channelCount.value,he(f).getCoefficients()),"get-chart-data-in-range":(E,k)=>he(c).getChartDataInRange(E,k,he(a).channelCount.value,he(f).getCoefficients()),"get-selection-stats":(E,k)=>he(c).getSelectionStats(E,k,he(a).channelCount.value,he(f).getCoefficients()),"is-dark":d.value,onCursorValues:j},null,8,["data","data-version","channels","channel-count","sample-rate","total-points","get-chart-data","get-chart-data-in-range","get-selection-stats","is-dark"])])]),Yt(Im,{status:C.value.status.value,"error-message":C.value.errorMessage.value,"sample-rate":he(c).sampleRate.value,"total-points":he(c).totalPoints.value,"frame-count":he(a).frameCount.value,"channel-count":he(a).channelCount.value,"is-dark":d.value},null,8,["status","error-message","sample-rate","total-points","frame-count","channel-count","is-dark"])],2))}});uh(Wm).mount("#app");
